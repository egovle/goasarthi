function ck(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function jy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sy={exports:{}},Nc={},Cy={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fo=Symbol.for("react.element"),uk=Symbol.for("react.portal"),dk=Symbol.for("react.fragment"),fk=Symbol.for("react.strict_mode"),hk=Symbol.for("react.profiler"),mk=Symbol.for("react.provider"),pk=Symbol.for("react.context"),gk=Symbol.for("react.forward_ref"),vk=Symbol.for("react.suspense"),xk=Symbol.for("react.memo"),yk=Symbol.for("react.lazy"),Yp=Symbol.iterator;function wk(e){return e===null||typeof e!="object"?null:(e=Yp&&e[Yp]||e["@@iterator"],typeof e=="function"?e:null)}var Ny={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ky=Object.assign,_y={};function Li(e,t,n){this.props=e,this.context=t,this.refs=_y,this.updater=n||Ny}Li.prototype.isReactComponent={};Li.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Li.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ey(){}Ey.prototype=Li.prototype;function Ch(e,t,n){this.props=e,this.context=t,this.refs=_y,this.updater=n||Ny}var Nh=Ch.prototype=new Ey;Nh.constructor=Ch;ky(Nh,Li.prototype);Nh.isPureReactComponent=!0;var Xp=Array.isArray,Ty=Object.prototype.hasOwnProperty,kh={current:null},Py={key:!0,ref:!0,__self:!0,__source:!0};function Ay(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ty.call(t,r)&&!Py.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:fo,type:e,key:i,ref:o,props:s,_owner:kh.current}}function bk(e,t){return{$$typeof:fo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _h(e){return typeof e=="object"&&e!==null&&e.$$typeof===fo}function jk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qp=/\/+/g;function Tu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jk(""+e.key):t.toString(36)}function vl(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case fo:case uk:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Tu(o,0):r,Xp(s)?(n="",e!=null&&(n=e.replace(Qp,"$&/")+"/"),vl(s,t,n,"",function(u){return u})):s!=null&&(_h(s)&&(s=bk(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Qp,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Xp(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Tu(i,l);o+=vl(i,t,n,c,s)}else if(c=wk(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Tu(i,l++),o+=vl(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Lo(e,t,n){if(e==null)return e;var r=[],s=0;return vl(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Sk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wt={current:null},xl={transition:null},Ck={ReactCurrentDispatcher:wt,ReactCurrentBatchConfig:xl,ReactCurrentOwner:kh};function Ry(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Lo,forEach:function(e,t,n){Lo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Lo(e,function(){t++}),t},toArray:function(e){return Lo(e,function(t){return t})||[]},only:function(e){if(!_h(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Li;he.Fragment=dk;he.Profiler=hk;he.PureComponent=Ch;he.StrictMode=fk;he.Suspense=vk;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ck;he.act=Ry;he.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ky({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=kh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Ty.call(t,c)&&!Py.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:fo,type:e.type,key:s,ref:i,props:r,_owner:o}};he.createContext=function(e){return e={$$typeof:pk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mk,_context:e},e.Consumer=e};he.createElement=Ay;he.createFactory=function(e){var t=Ay.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:gk,render:e}};he.isValidElement=_h;he.lazy=function(e){return{$$typeof:yk,_payload:{_status:-1,_result:e},_init:Sk}};he.memo=function(e,t){return{$$typeof:xk,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=xl.transition;xl.transition={};try{e()}finally{xl.transition=t}};he.unstable_act=Ry;he.useCallback=function(e,t){return wt.current.useCallback(e,t)};he.useContext=function(e){return wt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return wt.current.useDeferredValue(e)};he.useEffect=function(e,t){return wt.current.useEffect(e,t)};he.useId=function(){return wt.current.useId()};he.useImperativeHandle=function(e,t,n){return wt.current.useImperativeHandle(e,t,n)};he.useInsertionEffect=function(e,t){return wt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return wt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return wt.current.useMemo(e,t)};he.useReducer=function(e,t,n){return wt.current.useReducer(e,t,n)};he.useRef=function(e){return wt.current.useRef(e)};he.useState=function(e){return wt.current.useState(e)};he.useSyncExternalStore=function(e,t,n){return wt.current.useSyncExternalStore(e,t,n)};he.useTransition=function(){return wt.current.useTransition()};he.version="18.3.1";Cy.exports=he;var h=Cy.exports;const X=jy(h),Eh=ck({__proto__:null,default:X},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nk=h,kk=Symbol.for("react.element"),_k=Symbol.for("react.fragment"),Ek=Object.prototype.hasOwnProperty,Tk=Nk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pk={key:!0,ref:!0,__self:!0,__source:!0};function Dy(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Ek.call(t,r)&&!Pk.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:kk,type:e,key:i,ref:o,props:s,_owner:Tk.current}}Nc.Fragment=_k;Nc.jsx=Dy;Nc.jsxs=Dy;Sy.exports=Nc;var a=Sy.exports,Id={},My={exports:{}},Kt={},Oy={exports:{}},Iy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,D){var W=A.length;A.push(D);e:for(;0<W;){var U=W-1>>>1,K=A[U];if(0<s(K,D))A[U]=D,A[W]=K,W=U;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var D=A[0],W=A.pop();if(W!==D){A[0]=W;e:for(var U=0,K=A.length,$=K>>>1;U<$;){var te=2*(U+1)-1,ee=A[te],J=te+1,G=A[J];if(0>s(ee,W))J<K&&0>s(G,ee)?(A[U]=G,A[J]=W,U=J):(A[U]=ee,A[te]=W,U=te);else if(J<K&&0>s(G,W))A[U]=G,A[J]=W,U=J;else break e}}return D}function s(A,D){var W=A.sortIndex-D.sortIndex;return W!==0?W:A.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,v=!1,b=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(A){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=A)r(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(u)}}function j(A){if(x=!1,g(A),!b)if(n(c)!==null)b=!0,P(S);else{var D=n(u);D!==null&&z(j,D.startTime-A)}}function S(A,D){b=!1,x&&(x=!1,y(C),C=-1),v=!0;var W=m;try{for(g(D),f=n(c);f!==null&&(!(f.expirationTime>D)||A&&!O());){var U=f.callback;if(typeof U=="function"){f.callback=null,m=f.priorityLevel;var K=U(f.expirationTime<=D);D=e.unstable_now(),typeof K=="function"?f.callback=K:f===n(c)&&r(c),g(D)}else r(c);f=n(c)}if(f!==null)var $=!0;else{var te=n(u);te!==null&&z(j,te.startTime-D),$=!1}return $}finally{f=null,m=W,v=!1}}var k=!1,_=null,C=-1,N=5,T=-1;function O(){return!(e.unstable_now()-T<N)}function R(){if(_!==null){var A=e.unstable_now();T=A;var D=!0;try{D=_(!0,A)}finally{D?V():(k=!1,_=null)}}else k=!1}var V;if(typeof p=="function")V=function(){p(R)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,I=E.port2;E.port1.onmessage=R,V=function(){I.postMessage(null)}}else V=function(){w(R,0)};function P(A){_=A,k||(k=!0,V())}function z(A,D){C=w(function(){A(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,P(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var W=m;m=D;try{return A()}finally{m=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,D){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=m;m=A;try{return D()}finally{m=W}},e.unstable_scheduleCallback=function(A,D,W){var U=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?U+W:U):W=U,A){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=W+K,A={id:d++,callback:D,priorityLevel:A,startTime:W,expirationTime:K,sortIndex:-1},W>U?(A.sortIndex=W,t(u,A),n(c)===null&&A===n(u)&&(x?(y(C),C=-1):x=!0,z(j,W-U))):(A.sortIndex=K,t(c,A),b||v||(b=!0,P(S))),A},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(A){var D=m;return function(){var W=m;m=D;try{return A.apply(this,arguments)}finally{m=W}}}})(Iy);Oy.exports=Iy;var Ak=Oy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rk=h,Wt=Ak;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ly=new Set,Oa={};function Ns(e,t){bi(e,t),bi(e+"Capture",t)}function bi(e,t){for(Oa[e]=t,e=0;e<t.length;e++)Ly.add(t[e])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ld=Object.prototype.hasOwnProperty,Dk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jp={},Zp={};function Mk(e){return Ld.call(Zp,e)?!0:Ld.call(Jp,e)?!1:Dk.test(e)?Zp[e]=!0:(Jp[e]=!0,!1)}function Ok(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ik(e,t,n,r){if(t===null||typeof t>"u"||Ok(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){it[e]=new bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];it[t]=new bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){it[e]=new bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){it[e]=new bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){it[e]=new bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){it[e]=new bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){it[e]=new bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){it[e]=new bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){it[e]=new bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Th=/[\-:]([a-z])/g;function Ph(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Th,Ph);it[t]=new bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Th,Ph);it[t]=new bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Th,Ph);it[t]=new bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){it[e]=new bt(e,1,!1,e.toLowerCase(),null,!1,!1)});it.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){it[e]=new bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ah(e,t,n,r){var s=it.hasOwnProperty(t)?it[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ik(t,n,s,r)&&(n=null),r||s===null?Mk(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var rr=Rk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$o=Symbol.for("react.element"),qs=Symbol.for("react.portal"),Ks=Symbol.for("react.fragment"),Rh=Symbol.for("react.strict_mode"),$d=Symbol.for("react.profiler"),$y=Symbol.for("react.provider"),Fy=Symbol.for("react.context"),Dh=Symbol.for("react.forward_ref"),Fd=Symbol.for("react.suspense"),Vd=Symbol.for("react.suspense_list"),Mh=Symbol.for("react.memo"),hr=Symbol.for("react.lazy"),Vy=Symbol.for("react.offscreen"),eg=Symbol.iterator;function Yi(e){return e===null||typeof e!="object"?null:(e=eg&&e[eg]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,Pu;function da(e){if(Pu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Pu=t&&t[1]||""}return`
`+Pu+e}var Au=!1;function Ru(e,t){if(!e||Au)return"";Au=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Au=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?da(e):""}function Lk(e){switch(e.tag){case 5:return da(e.type);case 16:return da("Lazy");case 13:return da("Suspense");case 19:return da("SuspenseList");case 0:case 2:case 15:return e=Ru(e.type,!1),e;case 11:return e=Ru(e.type.render,!1),e;case 1:return e=Ru(e.type,!0),e;default:return""}}function Ud(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ks:return"Fragment";case qs:return"Portal";case $d:return"Profiler";case Rh:return"StrictMode";case Fd:return"Suspense";case Vd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fy:return(e.displayName||"Context")+".Consumer";case $y:return(e._context.displayName||"Context")+".Provider";case Dh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mh:return t=e.displayName||null,t!==null?t:Ud(e.type)||"Memo";case hr:t=e._payload,e=e._init;try{return Ud(e(t))}catch{}}return null}function $k(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ud(t);case 8:return t===Rh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fk(e){var t=Uy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fo(e){e._valueTracker||(e._valueTracker=Fk(e))}function By(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Uy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bd(e,t){var n=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function tg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Dr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zy(e,t){t=t.checked,t!=null&&Ah(e,"checked",t,!1)}function zd(e,t){zy(e,t);var n=Dr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wd(e,t.type,n):t.hasOwnProperty("defaultValue")&&Wd(e,t.type,Dr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ng(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Wd(e,t,n){(t!=="number"||Ml(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fa=Array.isArray;function ci(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Hd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(fa(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dr(n)}}function Wy(e,t){var n=Dr(t.value),r=Dr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function sg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vo,Gy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vo=Vo||document.createElement("div"),Vo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ia(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vk=["Webkit","ms","Moz","O"];Object.keys(ya).forEach(function(e){Vk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ya[t]=ya[e]})});function qy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ya.hasOwnProperty(e)&&ya[e]?(""+t).trim():t+"px"}function Ky(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=qy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Uk=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qd(e,t){if(t){if(Uk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Kd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yd=null;function Oh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xd=null,ui=null,di=null;function ig(e){if(e=po(e)){if(typeof Xd!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Pc(t),Xd(e.stateNode,e.type,t))}}function Yy(e){ui?di?di.push(e):di=[e]:ui=e}function Xy(){if(ui){var e=ui,t=di;if(di=ui=null,ig(e),t)for(e=0;e<t.length;e++)ig(t[e])}}function Qy(e,t){return e(t)}function Jy(){}var Du=!1;function Zy(e,t,n){if(Du)return e(t,n);Du=!0;try{return Qy(e,t,n)}finally{Du=!1,(ui!==null||di!==null)&&(Jy(),Xy())}}function La(e,t){var n=e.stateNode;if(n===null)return null;var r=Pc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var Qd=!1;if(Xn)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){Qd=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{Qd=!1}function Bk(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var wa=!1,Ol=null,Il=!1,Jd=null,zk={onError:function(e){wa=!0,Ol=e}};function Wk(e,t,n,r,s,i,o,l,c){wa=!1,Ol=null,Bk.apply(zk,arguments)}function Hk(e,t,n,r,s,i,o,l,c){if(Wk.apply(this,arguments),wa){if(wa){var u=Ol;wa=!1,Ol=null}else throw Error(F(198));Il||(Il=!0,Jd=u)}}function ks(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function e0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ag(e){if(ks(e)!==e)throw Error(F(188))}function Gk(e){var t=e.alternate;if(!t){if(t=ks(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ag(s),e;if(i===r)return ag(s),t;i=i.sibling}throw Error(F(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function t0(e){return e=Gk(e),e!==null?n0(e):null}function n0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=n0(e);if(t!==null)return t;e=e.sibling}return null}var r0=Wt.unstable_scheduleCallback,og=Wt.unstable_cancelCallback,qk=Wt.unstable_shouldYield,Kk=Wt.unstable_requestPaint,ze=Wt.unstable_now,Yk=Wt.unstable_getCurrentPriorityLevel,Ih=Wt.unstable_ImmediatePriority,s0=Wt.unstable_UserBlockingPriority,Ll=Wt.unstable_NormalPriority,Xk=Wt.unstable_LowPriority,i0=Wt.unstable_IdlePriority,kc=null,An=null;function Qk(e){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:e_,Jk=Math.log,Zk=Math.LN2;function e_(e){return e>>>=0,e===0?32:31-(Jk(e)/Zk|0)|0}var Uo=64,Bo=4194304;function ha(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $l(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ha(l):(i&=o,i!==0&&(r=ha(i)))}else o=n&~s,o!==0?r=ha(o):i!==0&&(r=ha(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yn(t),s=1<<n,r|=e[n],t&=~s;return r}function t_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-yn(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=t_(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Zd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function a0(){var e=Uo;return Uo<<=1,!(Uo&4194240)&&(Uo=64),e}function Mu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ho(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yn(t),e[t]=n}function r_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-yn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Lh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var be=0;function o0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var l0,$h,c0,u0,d0,ef=!1,zo=[],Sr=null,Cr=null,Nr=null,$a=new Map,Fa=new Map,vr=[],s_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lg(e,t){switch(e){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":$a.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fa.delete(t.pointerId)}}function Qi(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=po(t),t!==null&&$h(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function i_(e,t,n,r,s){switch(t){case"focusin":return Sr=Qi(Sr,e,t,n,r,s),!0;case"dragenter":return Cr=Qi(Cr,e,t,n,r,s),!0;case"mouseover":return Nr=Qi(Nr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return $a.set(i,Qi($a.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Fa.set(i,Qi(Fa.get(i)||null,e,t,n,r,s)),!0}return!1}function f0(e){var t=ss(e.target);if(t!==null){var n=ks(t);if(n!==null){if(t=n.tag,t===13){if(t=e0(n),t!==null){e.blockedOn=t,d0(e.priority,function(){c0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=tf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Yd=r,n.target.dispatchEvent(r),Yd=null}else return t=po(n),t!==null&&$h(t),e.blockedOn=n,!1;t.shift()}return!0}function cg(e,t,n){yl(e)&&n.delete(t)}function a_(){ef=!1,Sr!==null&&yl(Sr)&&(Sr=null),Cr!==null&&yl(Cr)&&(Cr=null),Nr!==null&&yl(Nr)&&(Nr=null),$a.forEach(cg),Fa.forEach(cg)}function Ji(e,t){e.blockedOn===t&&(e.blockedOn=null,ef||(ef=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,a_)))}function Va(e){function t(s){return Ji(s,e)}if(0<zo.length){Ji(zo[0],e);for(var n=1;n<zo.length;n++){var r=zo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Sr!==null&&Ji(Sr,e),Cr!==null&&Ji(Cr,e),Nr!==null&&Ji(Nr,e),$a.forEach(t),Fa.forEach(t),n=0;n<vr.length;n++)r=vr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vr.length&&(n=vr[0],n.blockedOn===null);)f0(n),n.blockedOn===null&&vr.shift()}var fi=rr.ReactCurrentBatchConfig,Fl=!0;function o_(e,t,n,r){var s=be,i=fi.transition;fi.transition=null;try{be=1,Fh(e,t,n,r)}finally{be=s,fi.transition=i}}function l_(e,t,n,r){var s=be,i=fi.transition;fi.transition=null;try{be=4,Fh(e,t,n,r)}finally{be=s,fi.transition=i}}function Fh(e,t,n,r){if(Fl){var s=tf(e,t,n,r);if(s===null)Wu(e,t,r,Vl,n),lg(e,r);else if(i_(s,e,t,n,r))r.stopPropagation();else if(lg(e,r),t&4&&-1<s_.indexOf(e)){for(;s!==null;){var i=po(s);if(i!==null&&l0(i),i=tf(e,t,n,r),i===null&&Wu(e,t,r,Vl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Wu(e,t,r,null,n)}}var Vl=null;function tf(e,t,n,r){if(Vl=null,e=Oh(r),e=ss(e),e!==null)if(t=ks(e),t===null)e=null;else if(n=t.tag,n===13){if(e=e0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vl=e,null}function h0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yk()){case Ih:return 1;case s0:return 4;case Ll:case Xk:return 16;case i0:return 536870912;default:return 16}default:return 16}}var wr=null,Vh=null,wl=null;function m0(){if(wl)return wl;var e,t=Vh,n=t.length,r,s="value"in wr?wr.value:wr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return wl=s.slice(e,1<r?1-r:void 0)}function bl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wo(){return!0}function ug(){return!1}function Yt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wo:ug,this.isPropagationStopped=ug,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wo)},persist:function(){},isPersistent:Wo}),t}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uh=Yt($i),mo=Ve({},$i,{view:0,detail:0}),c_=Yt(mo),Ou,Iu,Zi,_c=Ve({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zi&&(Zi&&e.type==="mousemove"?(Ou=e.screenX-Zi.screenX,Iu=e.screenY-Zi.screenY):Iu=Ou=0,Zi=e),Ou)},movementY:function(e){return"movementY"in e?e.movementY:Iu}}),dg=Yt(_c),u_=Ve({},_c,{dataTransfer:0}),d_=Yt(u_),f_=Ve({},mo,{relatedTarget:0}),Lu=Yt(f_),h_=Ve({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),m_=Yt(h_),p_=Ve({},$i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),g_=Yt(p_),v_=Ve({},$i,{data:0}),fg=Yt(v_),x_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=w_[e])?!!t[e]:!1}function Bh(){return b_}var j_=Ve({},mo,{key:function(e){if(e.key){var t=x_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?y_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bh,charCode:function(e){return e.type==="keypress"?bl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),S_=Yt(j_),C_=Ve({},_c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hg=Yt(C_),N_=Ve({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bh}),k_=Yt(N_),__=Ve({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),E_=Yt(__),T_=Ve({},_c,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),P_=Yt(T_),A_=[9,13,27,32],zh=Xn&&"CompositionEvent"in window,ba=null;Xn&&"documentMode"in document&&(ba=document.documentMode);var R_=Xn&&"TextEvent"in window&&!ba,p0=Xn&&(!zh||ba&&8<ba&&11>=ba),mg=String.fromCharCode(32),pg=!1;function g0(e,t){switch(e){case"keyup":return A_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ys=!1;function D_(e,t){switch(e){case"compositionend":return v0(t);case"keypress":return t.which!==32?null:(pg=!0,mg);case"textInput":return e=t.data,e===mg&&pg?null:e;default:return null}}function M_(e,t){if(Ys)return e==="compositionend"||!zh&&g0(e,t)?(e=m0(),wl=Vh=wr=null,Ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return p0&&t.locale!=="ko"?null:t.data;default:return null}}var O_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!O_[e.type]:t==="textarea"}function x0(e,t,n,r){Yy(r),t=Ul(t,"onChange"),0<t.length&&(n=new Uh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ja=null,Ua=null;function I_(e){T0(e,0)}function Ec(e){var t=Js(e);if(By(t))return e}function L_(e,t){if(e==="change")return t}var y0=!1;if(Xn){var $u;if(Xn){var Fu="oninput"in document;if(!Fu){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),Fu=typeof vg.oninput=="function"}$u=Fu}else $u=!1;y0=$u&&(!document.documentMode||9<document.documentMode)}function xg(){ja&&(ja.detachEvent("onpropertychange",w0),Ua=ja=null)}function w0(e){if(e.propertyName==="value"&&Ec(Ua)){var t=[];x0(t,Ua,e,Oh(e)),Zy(I_,t)}}function $_(e,t,n){e==="focusin"?(xg(),ja=t,Ua=n,ja.attachEvent("onpropertychange",w0)):e==="focusout"&&xg()}function F_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ec(Ua)}function V_(e,t){if(e==="click")return Ec(t)}function U_(e,t){if(e==="input"||e==="change")return Ec(t)}function B_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bn=typeof Object.is=="function"?Object.is:B_;function Ba(e,t){if(bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ld.call(t,s)||!bn(e[s],t[s]))return!1}return!0}function yg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wg(e,t){var n=yg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yg(n)}}function b0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?b0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function j0(){for(var e=window,t=Ml();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ml(e.document)}return t}function Wh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function z_(e){var t=j0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&b0(n.ownerDocument.documentElement,n)){if(r!==null&&Wh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=wg(n,i);var o=wg(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var W_=Xn&&"documentMode"in document&&11>=document.documentMode,Xs=null,nf=null,Sa=null,rf=!1;function bg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rf||Xs==null||Xs!==Ml(r)||(r=Xs,"selectionStart"in r&&Wh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sa&&Ba(Sa,r)||(Sa=r,r=Ul(nf,"onSelect"),0<r.length&&(t=new Uh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xs)))}function Ho(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qs={animationend:Ho("Animation","AnimationEnd"),animationiteration:Ho("Animation","AnimationIteration"),animationstart:Ho("Animation","AnimationStart"),transitionend:Ho("Transition","TransitionEnd")},Vu={},S0={};Xn&&(S0=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function Tc(e){if(Vu[e])return Vu[e];if(!Qs[e])return e;var t=Qs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in S0)return Vu[e]=t[n];return e}var C0=Tc("animationend"),N0=Tc("animationiteration"),k0=Tc("animationstart"),_0=Tc("transitionend"),E0=new Map,jg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(e,t){E0.set(e,t),Ns(t,[e])}for(var Uu=0;Uu<jg.length;Uu++){var Bu=jg[Uu],H_=Bu.toLowerCase(),G_=Bu[0].toUpperCase()+Bu.slice(1);Ur(H_,"on"+G_)}Ur(C0,"onAnimationEnd");Ur(N0,"onAnimationIteration");Ur(k0,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(_0,"onTransitionEnd");bi("onMouseEnter",["mouseout","mouseover"]);bi("onMouseLeave",["mouseout","mouseover"]);bi("onPointerEnter",["pointerout","pointerover"]);bi("onPointerLeave",["pointerout","pointerover"]);Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q_=new Set("cancel close invalid load scroll toggle".split(" ").concat(ma));function Sg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Hk(r,t,void 0,e),e.currentTarget=null}function T0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Sg(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Sg(s,l,u),i=c}}}if(Il)throw e=Jd,Il=!1,Jd=null,e}function Re(e,t){var n=t[cf];n===void 0&&(n=t[cf]=new Set);var r=e+"__bubble";n.has(r)||(P0(t,e,2,!1),n.add(r))}function zu(e,t,n){var r=0;t&&(r|=4),P0(n,e,r,t)}var Go="_reactListening"+Math.random().toString(36).slice(2);function za(e){if(!e[Go]){e[Go]=!0,Ly.forEach(function(n){n!=="selectionchange"&&(q_.has(n)||zu(n,!1,e),zu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Go]||(t[Go]=!0,zu("selectionchange",!1,t))}}function P0(e,t,n,r){switch(h0(t)){case 1:var s=o_;break;case 4:s=l_;break;default:s=Fh}n=s.bind(null,t,n,e),s=void 0,!Qd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Wu(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ss(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Zy(function(){var u=i,d=Oh(n),f=[];e:{var m=E0.get(e);if(m!==void 0){var v=Uh,b=e;switch(e){case"keypress":if(bl(n)===0)break e;case"keydown":case"keyup":v=S_;break;case"focusin":b="focus",v=Lu;break;case"focusout":b="blur",v=Lu;break;case"beforeblur":case"afterblur":v=Lu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=dg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=d_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=k_;break;case C0:case N0:case k0:v=m_;break;case _0:v=E_;break;case"scroll":v=c_;break;case"wheel":v=P_;break;case"copy":case"cut":case"paste":v=g_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=hg}var x=(t&4)!==0,w=!x&&e==="scroll",y=x?m!==null?m+"Capture":null:m;x=[];for(var p=u,g;p!==null;){g=p;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,y!==null&&(j=La(p,y),j!=null&&x.push(Wa(p,j,g)))),w)break;p=p.return}0<x.length&&(m=new v(m,b,null,n,d),f.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==Yd&&(b=n.relatedTarget||n.fromElement)&&(ss(b)||b[Qn]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(b=n.relatedTarget||n.toElement,v=u,b=b?ss(b):null,b!==null&&(w=ks(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=u),v!==b)){if(x=dg,j="onMouseLeave",y="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=hg,j="onPointerLeave",y="onPointerEnter",p="pointer"),w=v==null?m:Js(v),g=b==null?m:Js(b),m=new x(j,p+"leave",v,n,d),m.target=w,m.relatedTarget=g,j=null,ss(d)===u&&(x=new x(y,p+"enter",b,n,d),x.target=g,x.relatedTarget=w,j=x),w=j,v&&b)t:{for(x=v,y=b,p=0,g=x;g;g=Ls(g))p++;for(g=0,j=y;j;j=Ls(j))g++;for(;0<p-g;)x=Ls(x),p--;for(;0<g-p;)y=Ls(y),g--;for(;p--;){if(x===y||y!==null&&x===y.alternate)break t;x=Ls(x),y=Ls(y)}x=null}else x=null;v!==null&&Cg(f,m,v,x,!1),b!==null&&w!==null&&Cg(f,w,b,x,!0)}}e:{if(m=u?Js(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var S=L_;else if(gg(m))if(y0)S=U_;else{S=F_;var k=$_}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=V_);if(S&&(S=S(e,u))){x0(f,S,n,d);break e}k&&k(e,m,u),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&Wd(m,"number",m.value)}switch(k=u?Js(u):window,e){case"focusin":(gg(k)||k.contentEditable==="true")&&(Xs=k,nf=u,Sa=null);break;case"focusout":Sa=nf=Xs=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,bg(f,n,d);break;case"selectionchange":if(W_)break;case"keydown":case"keyup":bg(f,n,d)}var _;if(zh)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ys?g0(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(p0&&n.locale!=="ko"&&(Ys||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ys&&(_=m0()):(wr=d,Vh="value"in wr?wr.value:wr.textContent,Ys=!0)),k=Ul(u,C),0<k.length&&(C=new fg(C,e,null,n,d),f.push({event:C,listeners:k}),_?C.data=_:(_=v0(n),_!==null&&(C.data=_)))),(_=R_?D_(e,n):M_(e,n))&&(u=Ul(u,"onBeforeInput"),0<u.length&&(d=new fg("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=_))}T0(f,t)})}function Wa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ul(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=La(e,n),i!=null&&r.unshift(Wa(e,i,s)),i=La(e,t),i!=null&&r.push(Wa(e,i,s))),e=e.return}return r}function Ls(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cg(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=La(n,i),c!=null&&o.unshift(Wa(n,c,l))):s||(c=La(n,i),c!=null&&o.push(Wa(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var K_=/\r\n?/g,Y_=/\u0000|\uFFFD/g;function Ng(e){return(typeof e=="string"?e:""+e).replace(K_,`
`).replace(Y_,"")}function qo(e,t,n){if(t=Ng(t),Ng(e)!==t&&n)throw Error(F(425))}function Bl(){}var sf=null,af=null;function of(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lf=typeof setTimeout=="function"?setTimeout:void 0,X_=typeof clearTimeout=="function"?clearTimeout:void 0,kg=typeof Promise=="function"?Promise:void 0,Q_=typeof queueMicrotask=="function"?queueMicrotask:typeof kg<"u"?function(e){return kg.resolve(null).then(e).catch(J_)}:lf;function J_(e){setTimeout(function(){throw e})}function Hu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Va(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Va(t)}function kr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _g(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fi=Math.random().toString(36).slice(2),En="__reactFiber$"+Fi,Ha="__reactProps$"+Fi,Qn="__reactContainer$"+Fi,cf="__reactEvents$"+Fi,Z_="__reactListeners$"+Fi,e2="__reactHandles$"+Fi;function ss(e){var t=e[En];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qn]||n[En]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_g(e);e!==null;){if(n=e[En])return n;e=_g(e)}return t}e=n,n=e.parentNode}return null}function po(e){return e=e[En]||e[Qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Js(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Pc(e){return e[Ha]||null}var uf=[],Zs=-1;function Br(e){return{current:e}}function De(e){0>Zs||(e.current=uf[Zs],uf[Zs]=null,Zs--)}function _e(e,t){Zs++,uf[Zs]=e.current,e.current=t}var Mr={},ht=Br(Mr),Et=Br(!1),fs=Mr;function ji(e,t){var n=e.type.contextTypes;if(!n)return Mr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Tt(e){return e=e.childContextTypes,e!=null}function zl(){De(Et),De(ht)}function Eg(e,t,n){if(ht.current!==Mr)throw Error(F(168));_e(ht,t),_e(Et,n)}function A0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(F(108,$k(e)||"Unknown",s));return Ve({},n,r)}function Wl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mr,fs=ht.current,_e(ht,e),_e(Et,Et.current),!0}function Tg(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=A0(e,t,fs),r.__reactInternalMemoizedMergedChildContext=e,De(Et),De(ht),_e(ht,e)):De(Et),_e(Et,n)}var zn=null,Ac=!1,Gu=!1;function R0(e){zn===null?zn=[e]:zn.push(e)}function t2(e){Ac=!0,R0(e)}function zr(){if(!Gu&&zn!==null){Gu=!0;var e=0,t=be;try{var n=zn;for(be=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zn=null,Ac=!1}catch(s){throw zn!==null&&(zn=zn.slice(e+1)),r0(Ih,zr),s}finally{be=t,Gu=!1}}return null}var ei=[],ti=0,Hl=null,Gl=0,Zt=[],en=0,hs=null,Wn=1,Hn="";function Xr(e,t){ei[ti++]=Gl,ei[ti++]=Hl,Hl=e,Gl=t}function D0(e,t,n){Zt[en++]=Wn,Zt[en++]=Hn,Zt[en++]=hs,hs=e;var r=Wn;e=Hn;var s=32-yn(r)-1;r&=~(1<<s),n+=1;var i=32-yn(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Wn=1<<32-yn(t)+s|n<<s|r,Hn=i+e}else Wn=1<<i|n<<s|r,Hn=e}function Hh(e){e.return!==null&&(Xr(e,1),D0(e,1,0))}function Gh(e){for(;e===Hl;)Hl=ei[--ti],ei[ti]=null,Gl=ei[--ti],ei[ti]=null;for(;e===hs;)hs=Zt[--en],Zt[en]=null,Hn=Zt[--en],Zt[en]=null,Wn=Zt[--en],Zt[en]=null}var Bt=null,Ut=null,Me=!1,xn=null;function M0(e,t){var n=tn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Pg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,Ut=kr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hs!==null?{id:Wn,overflow:Hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Bt=e,Ut=null,!0):!1;default:return!1}}function df(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ff(e){if(Me){var t=Ut;if(t){var n=t;if(!Pg(e,t)){if(df(e))throw Error(F(418));t=kr(n.nextSibling);var r=Bt;t&&Pg(e,t)?M0(r,n):(e.flags=e.flags&-4097|2,Me=!1,Bt=e)}}else{if(df(e))throw Error(F(418));e.flags=e.flags&-4097|2,Me=!1,Bt=e}}}function Ag(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function Ko(e){if(e!==Bt)return!1;if(!Me)return Ag(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!of(e.type,e.memoizedProps)),t&&(t=Ut)){if(df(e))throw O0(),Error(F(418));for(;t;)M0(e,t),t=kr(t.nextSibling)}if(Ag(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ut=kr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Bt?kr(e.stateNode.nextSibling):null;return!0}function O0(){for(var e=Ut;e;)e=kr(e.nextSibling)}function Si(){Ut=Bt=null,Me=!1}function qh(e){xn===null?xn=[e]:xn.push(e)}var n2=rr.ReactCurrentBatchConfig;function ea(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function Yo(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rg(e){var t=e._init;return t(e._payload)}function I0(e){function t(y,p){if(e){var g=y.deletions;g===null?(y.deletions=[p],y.flags|=16):g.push(p)}}function n(y,p){if(!e)return null;for(;p!==null;)t(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function s(y,p){return y=Pr(y,p),y.index=0,y.sibling=null,y}function i(y,p,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<p?(y.flags|=2,p):g):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,p,g,j){return p===null||p.tag!==6?(p=Zu(g,y.mode,j),p.return=y,p):(p=s(p,g),p.return=y,p)}function c(y,p,g,j){var S=g.type;return S===Ks?d(y,p,g.props.children,j,g.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===hr&&Rg(S)===p.type)?(j=s(p,g.props),j.ref=ea(y,p,g),j.return=y,j):(j=El(g.type,g.key,g.props,null,y.mode,j),j.ref=ea(y,p,g),j.return=y,j)}function u(y,p,g,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=ed(g,y.mode,j),p.return=y,p):(p=s(p,g.children||[]),p.return=y,p)}function d(y,p,g,j,S){return p===null||p.tag!==7?(p=us(g,y.mode,j,S),p.return=y,p):(p=s(p,g),p.return=y,p)}function f(y,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Zu(""+p,y.mode,g),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case $o:return g=El(p.type,p.key,p.props,null,y.mode,g),g.ref=ea(y,null,p),g.return=y,g;case qs:return p=ed(p,y.mode,g),p.return=y,p;case hr:var j=p._init;return f(y,j(p._payload),g)}if(fa(p)||Yi(p))return p=us(p,y.mode,g,null),p.return=y,p;Yo(y,p)}return null}function m(y,p,g,j){var S=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:l(y,p,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case $o:return g.key===S?c(y,p,g,j):null;case qs:return g.key===S?u(y,p,g,j):null;case hr:return S=g._init,m(y,p,S(g._payload),j)}if(fa(g)||Yi(g))return S!==null?null:d(y,p,g,j,null);Yo(y,g)}return null}function v(y,p,g,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(g)||null,l(p,y,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case $o:return y=y.get(j.key===null?g:j.key)||null,c(p,y,j,S);case qs:return y=y.get(j.key===null?g:j.key)||null,u(p,y,j,S);case hr:var k=j._init;return v(y,p,g,k(j._payload),S)}if(fa(j)||Yi(j))return y=y.get(g)||null,d(p,y,j,S,null);Yo(p,j)}return null}function b(y,p,g,j){for(var S=null,k=null,_=p,C=p=0,N=null;_!==null&&C<g.length;C++){_.index>C?(N=_,_=null):N=_.sibling;var T=m(y,_,g[C],j);if(T===null){_===null&&(_=N);break}e&&_&&T.alternate===null&&t(y,_),p=i(T,p,C),k===null?S=T:k.sibling=T,k=T,_=N}if(C===g.length)return n(y,_),Me&&Xr(y,C),S;if(_===null){for(;C<g.length;C++)_=f(y,g[C],j),_!==null&&(p=i(_,p,C),k===null?S=_:k.sibling=_,k=_);return Me&&Xr(y,C),S}for(_=r(y,_);C<g.length;C++)N=v(_,y,C,g[C],j),N!==null&&(e&&N.alternate!==null&&_.delete(N.key===null?C:N.key),p=i(N,p,C),k===null?S=N:k.sibling=N,k=N);return e&&_.forEach(function(O){return t(y,O)}),Me&&Xr(y,C),S}function x(y,p,g,j){var S=Yi(g);if(typeof S!="function")throw Error(F(150));if(g=S.call(g),g==null)throw Error(F(151));for(var k=S=null,_=p,C=p=0,N=null,T=g.next();_!==null&&!T.done;C++,T=g.next()){_.index>C?(N=_,_=null):N=_.sibling;var O=m(y,_,T.value,j);if(O===null){_===null&&(_=N);break}e&&_&&O.alternate===null&&t(y,_),p=i(O,p,C),k===null?S=O:k.sibling=O,k=O,_=N}if(T.done)return n(y,_),Me&&Xr(y,C),S;if(_===null){for(;!T.done;C++,T=g.next())T=f(y,T.value,j),T!==null&&(p=i(T,p,C),k===null?S=T:k.sibling=T,k=T);return Me&&Xr(y,C),S}for(_=r(y,_);!T.done;C++,T=g.next())T=v(_,y,C,T.value,j),T!==null&&(e&&T.alternate!==null&&_.delete(T.key===null?C:T.key),p=i(T,p,C),k===null?S=T:k.sibling=T,k=T);return e&&_.forEach(function(R){return t(y,R)}),Me&&Xr(y,C),S}function w(y,p,g,j){if(typeof g=="object"&&g!==null&&g.type===Ks&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case $o:e:{for(var S=g.key,k=p;k!==null;){if(k.key===S){if(S=g.type,S===Ks){if(k.tag===7){n(y,k.sibling),p=s(k,g.props.children),p.return=y,y=p;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===hr&&Rg(S)===k.type){n(y,k.sibling),p=s(k,g.props),p.ref=ea(y,k,g),p.return=y,y=p;break e}n(y,k);break}else t(y,k);k=k.sibling}g.type===Ks?(p=us(g.props.children,y.mode,j,g.key),p.return=y,y=p):(j=El(g.type,g.key,g.props,null,y.mode,j),j.ref=ea(y,p,g),j.return=y,y=j)}return o(y);case qs:e:{for(k=g.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(y,p.sibling),p=s(p,g.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else t(y,p);p=p.sibling}p=ed(g,y.mode,j),p.return=y,y=p}return o(y);case hr:return k=g._init,w(y,p,k(g._payload),j)}if(fa(g))return b(y,p,g,j);if(Yi(g))return x(y,p,g,j);Yo(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(y,p.sibling),p=s(p,g),p.return=y,y=p):(n(y,p),p=Zu(g,y.mode,j),p.return=y,y=p),o(y)):n(y,p)}return w}var Ci=I0(!0),L0=I0(!1),ql=Br(null),Kl=null,ni=null,Kh=null;function Yh(){Kh=ni=Kl=null}function Xh(e){var t=ql.current;De(ql),e._currentValue=t}function hf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function hi(e,t){Kl=e,Kh=ni=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kt=!0),e.firstContext=null)}function an(e){var t=e._currentValue;if(Kh!==e)if(e={context:e,memoizedValue:t,next:null},ni===null){if(Kl===null)throw Error(F(308));ni=e,Kl.dependencies={lanes:0,firstContext:e}}else ni=ni.next=e;return t}var is=null;function Qh(e){is===null?is=[e]:is.push(e)}function $0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Qh(t)):(n.next=s.next,s.next=n),t.interleaved=n,Jn(e,r)}function Jn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mr=!1;function Jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function F0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _r(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Jn(e,n)}return s=r.interleaved,s===null?(t.next=t,Qh(r)):(t.next=s.next,s.next=t),r.interleaved=t,Jn(e,n)}function jl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lh(e,n)}}function Dg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yl(e,t,n,r){var s=e.updateQueue;mr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,v=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,x=l;switch(m=t,v=n,x.tag){case 1:if(b=x.payload,typeof b=="function"){f=b.call(v,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,m=typeof b=="function"?b.call(v,f,m):b,m==null)break e;f=Ve({},f,m);break e;case 2:mr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=f):d=d.next=v,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ps|=o,e.lanes=o,e.memoizedState=f}}function Mg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(F(191,s));s.call(r)}}}var go={},Rn=Br(go),Ga=Br(go),qa=Br(go);function as(e){if(e===go)throw Error(F(174));return e}function Zh(e,t){switch(_e(qa,t),_e(Ga,e),_e(Rn,go),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gd(t,e)}De(Rn),_e(Rn,t)}function Ni(){De(Rn),De(Ga),De(qa)}function V0(e){as(qa.current);var t=as(Rn.current),n=Gd(t,e.type);t!==n&&(_e(Ga,e),_e(Rn,n))}function em(e){Ga.current===e&&(De(Rn),De(Ga))}var Le=Br(0);function Xl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qu=[];function tm(){for(var e=0;e<qu.length;e++)qu[e]._workInProgressVersionPrimary=null;qu.length=0}var Sl=rr.ReactCurrentDispatcher,Ku=rr.ReactCurrentBatchConfig,ms=0,Fe=null,Xe=null,Ze=null,Ql=!1,Ca=!1,Ka=0,r2=0;function lt(){throw Error(F(321))}function nm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bn(e[n],t[n]))return!1;return!0}function rm(e,t,n,r,s,i){if(ms=i,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sl.current=e===null||e.memoizedState===null?o2:l2,e=n(r,s),Ca){i=0;do{if(Ca=!1,Ka=0,25<=i)throw Error(F(301));i+=1,Ze=Xe=null,t.updateQueue=null,Sl.current=c2,e=n(r,s)}while(Ca)}if(Sl.current=Jl,t=Xe!==null&&Xe.next!==null,ms=0,Ze=Xe=Fe=null,Ql=!1,t)throw Error(F(300));return e}function sm(){var e=Ka!==0;return Ka=0,e}function _n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Fe.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function on(){if(Xe===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=Ze===null?Fe.memoizedState:Ze.next;if(t!==null)Ze=t,Xe=e;else{if(e===null)throw Error(F(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Ze===null?Fe.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Ya(e,t){return typeof t=="function"?t(e):t}function Yu(e){var t=on(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=Xe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((ms&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Fe.lanes|=d,ps|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,bn(r,t.memoizedState)||(kt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Fe.lanes|=i,ps|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xu(e){var t=on(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);bn(i,t.memoizedState)||(kt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function U0(){}function B0(e,t){var n=Fe,r=on(),s=t(),i=!bn(r.memoizedState,s);if(i&&(r.memoizedState=s,kt=!0),r=r.queue,im(H0.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,Xa(9,W0.bind(null,n,r,s,t),void 0,null),et===null)throw Error(F(349));ms&30||z0(n,t,s)}return s}function z0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function W0(e,t,n,r){t.value=n,t.getSnapshot=r,G0(t)&&q0(e)}function H0(e,t,n){return n(function(){G0(t)&&q0(e)})}function G0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bn(e,n)}catch{return!0}}function q0(e){var t=Jn(e,1);t!==null&&wn(t,e,1,-1)}function Og(e){var t=_n();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:e},t.queue=e,e=e.dispatch=a2.bind(null,Fe,e),[t.memoizedState,e]}function Xa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function K0(){return on().memoizedState}function Cl(e,t,n,r){var s=_n();Fe.flags|=e,s.memoizedState=Xa(1|t,n,void 0,r===void 0?null:r)}function Rc(e,t,n,r){var s=on();r=r===void 0?null:r;var i=void 0;if(Xe!==null){var o=Xe.memoizedState;if(i=o.destroy,r!==null&&nm(r,o.deps)){s.memoizedState=Xa(t,n,i,r);return}}Fe.flags|=e,s.memoizedState=Xa(1|t,n,i,r)}function Ig(e,t){return Cl(8390656,8,e,t)}function im(e,t){return Rc(2048,8,e,t)}function Y0(e,t){return Rc(4,2,e,t)}function X0(e,t){return Rc(4,4,e,t)}function Q0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function J0(e,t,n){return n=n!=null?n.concat([e]):null,Rc(4,4,Q0.bind(null,t,e),n)}function am(){}function Z0(e,t){var n=on();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&nm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ew(e,t){var n=on();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&nm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function tw(e,t,n){return ms&21?(bn(n,t)||(n=a0(),Fe.lanes|=n,ps|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kt=!0),e.memoizedState=n)}function s2(e,t){var n=be;be=n!==0&&4>n?n:4,e(!0);var r=Ku.transition;Ku.transition={};try{e(!1),t()}finally{be=n,Ku.transition=r}}function nw(){return on().memoizedState}function i2(e,t,n){var r=Tr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rw(e))sw(t,n);else if(n=$0(e,t,n,r),n!==null){var s=yt();wn(n,e,r,s),iw(n,t,r)}}function a2(e,t,n){var r=Tr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rw(e))sw(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,bn(l,o)){var c=t.interleaved;c===null?(s.next=s,Qh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=$0(e,t,s,r),n!==null&&(s=yt(),wn(n,e,r,s),iw(n,t,r))}}function rw(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function sw(e,t){Ca=Ql=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function iw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lh(e,n)}}var Jl={readContext:an,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},o2={readContext:an,useCallback:function(e,t){return _n().memoizedState=[e,t===void 0?null:t],e},useContext:an,useEffect:Ig,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Cl(4194308,4,Q0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cl(4,2,e,t)},useMemo:function(e,t){var n=_n();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_n();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=i2.bind(null,Fe,e),[r.memoizedState,e]},useRef:function(e){var t=_n();return e={current:e},t.memoizedState=e},useState:Og,useDebugValue:am,useDeferredValue:function(e){return _n().memoizedState=e},useTransition:function(){var e=Og(!1),t=e[0];return e=s2.bind(null,e[1]),_n().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Fe,s=_n();if(Me){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),et===null)throw Error(F(349));ms&30||z0(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ig(H0.bind(null,r,i,e),[e]),r.flags|=2048,Xa(9,W0.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=_n(),t=et.identifierPrefix;if(Me){var n=Hn,r=Wn;n=(r&~(1<<32-yn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ka++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=r2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},l2={readContext:an,useCallback:Z0,useContext:an,useEffect:im,useImperativeHandle:J0,useInsertionEffect:Y0,useLayoutEffect:X0,useMemo:ew,useReducer:Yu,useRef:K0,useState:function(){return Yu(Ya)},useDebugValue:am,useDeferredValue:function(e){var t=on();return tw(t,Xe.memoizedState,e)},useTransition:function(){var e=Yu(Ya)[0],t=on().memoizedState;return[e,t]},useMutableSource:U0,useSyncExternalStore:B0,useId:nw,unstable_isNewReconciler:!1},c2={readContext:an,useCallback:Z0,useContext:an,useEffect:im,useImperativeHandle:J0,useInsertionEffect:Y0,useLayoutEffect:X0,useMemo:ew,useReducer:Xu,useRef:K0,useState:function(){return Xu(Ya)},useDebugValue:am,useDeferredValue:function(e){var t=on();return Xe===null?t.memoizedState=e:tw(t,Xe.memoizedState,e)},useTransition:function(){var e=Xu(Ya)[0],t=on().memoizedState;return[e,t]},useMutableSource:U0,useSyncExternalStore:B0,useId:nw,unstable_isNewReconciler:!1};function pn(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function mf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dc={isMounted:function(e){return(e=e._reactInternals)?ks(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=yt(),s=Tr(e),i=qn(r,s);i.payload=t,n!=null&&(i.callback=n),t=_r(e,i,s),t!==null&&(wn(t,e,s,r),jl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=yt(),s=Tr(e),i=qn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=_r(e,i,s),t!==null&&(wn(t,e,s,r),jl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yt(),r=Tr(e),s=qn(n,r);s.tag=2,t!=null&&(s.callback=t),t=_r(e,s,r),t!==null&&(wn(t,e,r,n),jl(t,e,r))}};function Lg(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ba(n,r)||!Ba(s,i):!0}function aw(e,t,n){var r=!1,s=Mr,i=t.contextType;return typeof i=="object"&&i!==null?i=an(i):(s=Tt(t)?fs:ht.current,r=t.contextTypes,i=(r=r!=null)?ji(e,s):Mr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function $g(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dc.enqueueReplaceState(t,t.state,null)}function pf(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Jh(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=an(i):(i=Tt(t)?fs:ht.current,s.context=ji(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(mf(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Dc.enqueueReplaceState(s,s.state,null),Yl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ki(e,t){try{var n="",r=t;do n+=Lk(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Qu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var u2=typeof WeakMap=="function"?WeakMap:Map;function ow(e,t,n){n=qn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ec||(ec=!0,kf=r),gf(e,t)},n}function lw(e,t,n){n=qn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){gf(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){gf(e,t),typeof r!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Fg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new u2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=C2.bind(null,e,t,n),t.then(e,e))}function Vg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ug(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qn(-1,1),t.tag=2,_r(n,t,1))),n.lanes|=1),e)}var d2=rr.ReactCurrentOwner,kt=!1;function xt(e,t,n,r){t.child=e===null?L0(t,null,n,r):Ci(t,e.child,n,r)}function Bg(e,t,n,r,s){n=n.render;var i=t.ref;return hi(t,s),r=rm(e,t,n,r,i,s),n=sm(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zn(e,t,s)):(Me&&n&&Hh(t),t.flags|=1,xt(e,t,r,s),t.child)}function zg(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!mm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,cw(e,t,i,r,s)):(e=El(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ba,n(o,r)&&e.ref===t.ref)return Zn(e,t,s)}return t.flags|=1,e=Pr(i,r),e.ref=t.ref,e.return=t,t.child=e}function cw(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ba(i,r)&&e.ref===t.ref)if(kt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(kt=!0);else return t.lanes=e.lanes,Zn(e,t,s)}return vf(e,t,n,r,s)}function uw(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(si,Ft),Ft|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(si,Ft),Ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,_e(si,Ft),Ft|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,_e(si,Ft),Ft|=r;return xt(e,t,s,n),t.child}function dw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vf(e,t,n,r,s){var i=Tt(n)?fs:ht.current;return i=ji(t,i),hi(t,s),n=rm(e,t,n,r,i,s),r=sm(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zn(e,t,s)):(Me&&r&&Hh(t),t.flags|=1,xt(e,t,n,s),t.child)}function Wg(e,t,n,r,s){if(Tt(n)){var i=!0;Wl(t)}else i=!1;if(hi(t,s),t.stateNode===null)Nl(e,t),aw(t,n,r),pf(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=an(u):(u=Tt(n)?fs:ht.current,u=ji(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&$g(t,o,r,u),mr=!1;var m=t.memoizedState;o.state=m,Yl(t,r,o,s),c=t.memoizedState,l!==r||m!==c||Et.current||mr?(typeof d=="function"&&(mf(t,n,d,r),c=t.memoizedState),(l=mr||Lg(t,n,l,r,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,F0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:pn(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=an(c):(c=Tt(n)?fs:ht.current,c=ji(t,c));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&$g(t,o,r,c),mr=!1,m=t.memoizedState,o.state=m,Yl(t,r,o,s);var b=t.memoizedState;l!==f||m!==b||Et.current||mr?(typeof v=="function"&&(mf(t,n,v,r),b=t.memoizedState),(u=mr||Lg(t,n,u,r,m,b,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return xf(e,t,n,r,i,s)}function xf(e,t,n,r,s,i){dw(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Tg(t,n,!1),Zn(e,t,i);r=t.stateNode,d2.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ci(t,e.child,null,i),t.child=Ci(t,null,l,i)):xt(e,t,l,i),t.memoizedState=r.state,s&&Tg(t,n,!0),t.child}function fw(e){var t=e.stateNode;t.pendingContext?Eg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Eg(e,t.context,!1),Zh(e,t.containerInfo)}function Hg(e,t,n,r,s){return Si(),qh(s),t.flags|=256,xt(e,t,n,r),t.child}var yf={dehydrated:null,treeContext:null,retryLane:0};function wf(e){return{baseLanes:e,cachePool:null,transitions:null}}function hw(e,t,n){var r=t.pendingProps,s=Le.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),_e(Le,s&1),e===null)return ff(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ic(o,r,0,null),e=us(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=wf(n),t.memoizedState=yf,e):om(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return f2(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Pr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Pr(l,i):(i=us(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?wf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=yf,r}return i=e.child,e=i.sibling,r=Pr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function om(e,t){return t=Ic({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xo(e,t,n,r){return r!==null&&qh(r),Ci(t,e.child,null,n),e=om(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function f2(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Qu(Error(F(422))),Xo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ic({mode:"visible",children:r.children},s,0,null),i=us(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ci(t,e.child,null,o),t.child.memoizedState=wf(o),t.memoizedState=yf,i);if(!(t.mode&1))return Xo(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(F(419)),r=Qu(i,r,void 0),Xo(e,t,o,r)}if(l=(o&e.childLanes)!==0,kt||l){if(r=et,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Jn(e,s),wn(r,e,s,-1))}return hm(),r=Qu(Error(F(421))),Xo(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=N2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ut=kr(s.nextSibling),Bt=t,Me=!0,xn=null,e!==null&&(Zt[en++]=Wn,Zt[en++]=Hn,Zt[en++]=hs,Wn=e.id,Hn=e.overflow,hs=t),t=om(t,r.children),t.flags|=4096,t)}function Gg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),hf(e.return,t,n)}function Ju(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function mw(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(xt(e,t,r.children,n),r=Le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gg(e,n,t);else if(e.tag===19)Gg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_e(Le,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Xl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ju(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Xl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ju(t,!0,n,null,i);break;case"together":Ju(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Nl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ps|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Pr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function h2(e,t,n){switch(t.tag){case 3:fw(t),Si();break;case 5:V0(t);break;case 1:Tt(t.type)&&Wl(t);break;case 4:Zh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;_e(ql,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(_e(Le,Le.current&1),t.flags|=128,null):n&t.child.childLanes?hw(e,t,n):(_e(Le,Le.current&1),e=Zn(e,t,n),e!==null?e.sibling:null);_e(Le,Le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return mw(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_e(Le,Le.current),r)break;return null;case 22:case 23:return t.lanes=0,uw(e,t,n)}return Zn(e,t,n)}var pw,bf,gw,vw;pw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bf=function(){};gw=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,as(Rn.current);var i=null;switch(n){case"input":s=Bd(e,s),r=Bd(e,r),i=[];break;case"select":s=Ve({},s,{value:void 0}),r=Ve({},r,{value:void 0}),i=[];break;case"textarea":s=Hd(e,s),r=Hd(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Bl)}qd(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Oa.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Oa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Re("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};vw=function(e,t,n,r){n!==r&&(t.flags|=4)};function ta(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function m2(e,t,n){var r=t.pendingProps;switch(Gh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return Tt(t.type)&&zl(),ct(t),null;case 3:return r=t.stateNode,Ni(),De(Et),De(ht),tm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ko(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xn!==null&&(Tf(xn),xn=null))),bf(e,t),ct(t),null;case 5:em(t);var s=as(qa.current);if(n=t.type,e!==null&&t.stateNode!=null)gw(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return ct(t),null}if(e=as(Rn.current),Ko(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[En]=t,r[Ha]=i,e=(t.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(s=0;s<ma.length;s++)Re(ma[s],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":tg(r,i),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Re("invalid",r);break;case"textarea":rg(r,i),Re("invalid",r)}qd(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&qo(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&qo(r.textContent,l,e),s=["children",""+l]):Oa.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":Fo(r),ng(r,i,!0);break;case"textarea":Fo(r),sg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Bl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[En]=t,e[Ha]=r,pw(e,t,!1,!1),t.stateNode=e;e:{switch(o=Kd(n,r),n){case"dialog":Re("cancel",e),Re("close",e),s=r;break;case"iframe":case"object":case"embed":Re("load",e),s=r;break;case"video":case"audio":for(s=0;s<ma.length;s++)Re(ma[s],e);s=r;break;case"source":Re("error",e),s=r;break;case"img":case"image":case"link":Re("error",e),Re("load",e),s=r;break;case"details":Re("toggle",e),s=r;break;case"input":tg(e,r),s=Bd(e,r),Re("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ve({},r,{value:void 0}),Re("invalid",e);break;case"textarea":rg(e,r),s=Hd(e,r),Re("invalid",e);break;default:s=r}qd(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Ky(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Gy(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ia(e,c):typeof c=="number"&&Ia(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Oa.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Re("scroll",e):c!=null&&Ah(e,i,c,o))}switch(n){case"input":Fo(e),ng(e,r,!1);break;case"textarea":Fo(e),sg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Dr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ci(e,!!r.multiple,i,!1):r.defaultValue!=null&&ci(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Bl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ct(t),null;case 6:if(e&&t.stateNode!=null)vw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=as(qa.current),as(Rn.current),Ko(t)){if(r=t.stateNode,n=t.memoizedProps,r[En]=t,(i=r.nodeValue!==n)&&(e=Bt,e!==null))switch(e.tag){case 3:qo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[En]=t,t.stateNode=r}return ct(t),null;case 13:if(De(Le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&Ut!==null&&t.mode&1&&!(t.flags&128))O0(),Si(),t.flags|=98560,i=!1;else if(i=Ko(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(F(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[En]=t}else Si(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),i=!1}else xn!==null&&(Tf(xn),xn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?Qe===0&&(Qe=3):hm())),t.updateQueue!==null&&(t.flags|=4),ct(t),null);case 4:return Ni(),bf(e,t),e===null&&za(t.stateNode.containerInfo),ct(t),null;case 10:return Xh(t.type._context),ct(t),null;case 17:return Tt(t.type)&&zl(),ct(t),null;case 19:if(De(Le),i=t.memoizedState,i===null)return ct(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ta(i,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Xl(e),o!==null){for(t.flags|=128,ta(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _e(Le,Le.current&1|2),t.child}e=e.sibling}i.tail!==null&&ze()>_i&&(t.flags|=128,r=!0,ta(i,!1),t.lanes=4194304)}else{if(!r)if(e=Xl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ta(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Me)return ct(t),null}else 2*ze()-i.renderingStartTime>_i&&n!==1073741824&&(t.flags|=128,r=!0,ta(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ze(),t.sibling=null,n=Le.current,_e(Le,r?n&1|2:n&1),t):(ct(t),null);case 22:case 23:return fm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ft&1073741824&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function p2(e,t){switch(Gh(t),t.tag){case 1:return Tt(t.type)&&zl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ni(),De(Et),De(ht),tm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return em(t),null;case 13:if(De(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Le),null;case 4:return Ni(),null;case 10:return Xh(t.type._context),null;case 22:case 23:return fm(),null;case 24:return null;default:return null}}var Qo=!1,ft=!1,g2=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ri(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(e,t,r)}else n.current=null}function jf(e,t,n){try{n()}catch(r){Ue(e,t,r)}}var qg=!1;function v2(e,t){if(sf=Fl,e=j0(),Wh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===e)break t;if(m===n&&++u===s&&(l=o),m===i&&++d===r&&(c=o),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(af={focusedElem:e,selectionRange:n},Fl=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,w=b.memoizedState,y=t.stateNode,p=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:pn(t.type,x),w);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(j){Ue(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return b=qg,qg=!1,b}function Na(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&jf(t,n,i)}s=s.next}while(s!==r)}}function Mc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Sf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function xw(e){var t=e.alternate;t!==null&&(e.alternate=null,xw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[En],delete t[Ha],delete t[cf],delete t[Z_],delete t[e2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yw(e){return e.tag===5||e.tag===3||e.tag===4}function Kg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Bl));else if(r!==4&&(e=e.child,e!==null))for(Cf(e,t,n),e=e.sibling;e!==null;)Cf(e,t,n),e=e.sibling}function Nf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Nf(e,t,n),e=e.sibling;e!==null;)Nf(e,t,n),e=e.sibling}var nt=null,gn=!1;function ar(e,t,n){for(n=n.child;n!==null;)ww(e,t,n),n=n.sibling}function ww(e,t,n){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(kc,n)}catch{}switch(n.tag){case 5:ft||ri(n,t);case 6:var r=nt,s=gn;nt=null,ar(e,t,n),nt=r,gn=s,nt!==null&&(gn?(e=nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(gn?(e=nt,n=n.stateNode,e.nodeType===8?Hu(e.parentNode,n):e.nodeType===1&&Hu(e,n),Va(e)):Hu(nt,n.stateNode));break;case 4:r=nt,s=gn,nt=n.stateNode.containerInfo,gn=!0,ar(e,t,n),nt=r,gn=s;break;case 0:case 11:case 14:case 15:if(!ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&jf(n,t,o),s=s.next}while(s!==r)}ar(e,t,n);break;case 1:if(!ft&&(ri(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ue(n,t,l)}ar(e,t,n);break;case 21:ar(e,t,n);break;case 22:n.mode&1?(ft=(r=ft)||n.memoizedState!==null,ar(e,t,n),ft=r):ar(e,t,n);break;default:ar(e,t,n)}}function Yg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new g2),t.forEach(function(r){var s=k2.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function dn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:nt=l.stateNode,gn=!1;break e;case 3:nt=l.stateNode.containerInfo,gn=!0;break e;case 4:nt=l.stateNode.containerInfo,gn=!0;break e}l=l.return}if(nt===null)throw Error(F(160));ww(i,o,s),nt=null,gn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ue(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bw(t,e),t=t.sibling}function bw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dn(t,e),kn(e),r&4){try{Na(3,e,e.return),Mc(3,e)}catch(x){Ue(e,e.return,x)}try{Na(5,e,e.return)}catch(x){Ue(e,e.return,x)}}break;case 1:dn(t,e),kn(e),r&512&&n!==null&&ri(n,n.return);break;case 5:if(dn(t,e),kn(e),r&512&&n!==null&&ri(n,n.return),e.flags&32){var s=e.stateNode;try{Ia(s,"")}catch(x){Ue(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&zy(s,i),Kd(l,o);var u=Kd(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?Ky(s,f):d==="dangerouslySetInnerHTML"?Gy(s,f):d==="children"?Ia(s,f):Ah(s,d,f,u)}switch(l){case"input":zd(s,i);break;case"textarea":Wy(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?ci(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?ci(s,!!i.multiple,i.defaultValue,!0):ci(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ha]=i}catch(x){Ue(e,e.return,x)}}break;case 6:if(dn(t,e),kn(e),r&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Ue(e,e.return,x)}}break;case 3:if(dn(t,e),kn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Va(t.containerInfo)}catch(x){Ue(e,e.return,x)}break;case 4:dn(t,e),kn(e);break;case 13:dn(t,e),kn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(um=ze())),r&4&&Yg(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ft=(u=ft)||d,dn(t,e),ft=u):dn(t,e),kn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Q=e,d=e.child;d!==null;){for(f=Q=d;Q!==null;){switch(m=Q,v=m.child,m.tag){case 0:case 11:case 14:case 15:Na(4,m,m.return);break;case 1:ri(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(x){Ue(r,n,x)}}break;case 5:ri(m,m.return);break;case 22:if(m.memoizedState!==null){Qg(f);continue}}v!==null?(v.return=m,Q=v):Qg(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=qy("display",o))}catch(x){Ue(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Ue(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:dn(t,e),kn(e),r&4&&Yg(e);break;case 21:break;default:dn(t,e),kn(e)}}function kn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yw(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ia(s,""),r.flags&=-33);var i=Kg(e);Nf(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Kg(e);Cf(e,l,o);break;default:throw Error(F(161))}}catch(c){Ue(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function x2(e,t,n){Q=e,jw(e)}function jw(e,t,n){for(var r=(e.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Qo;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ft;l=Qo;var u=ft;if(Qo=o,(ft=c)&&!u)for(Q=s;Q!==null;)o=Q,c=o.child,o.tag===22&&o.memoizedState!==null?Jg(s):c!==null?(c.return=o,Q=c):Jg(s);for(;i!==null;)Q=i,jw(i),i=i.sibling;Q=s,Qo=l,ft=u}Xg(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):Xg(e)}}function Xg(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ft||Mc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ft)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:pn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Mg(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mg(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Va(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}ft||t.flags&512&&Sf(t)}catch(m){Ue(t,t.return,m)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function Qg(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function Jg(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Mc(4,t)}catch(c){Ue(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Ue(t,s,c)}}var i=t.return;try{Sf(t)}catch(c){Ue(t,i,c)}break;case 5:var o=t.return;try{Sf(t)}catch(c){Ue(t,o,c)}}}catch(c){Ue(t,t.return,c)}if(t===e){Q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Q=l;break}Q=t.return}}var y2=Math.ceil,Zl=rr.ReactCurrentDispatcher,lm=rr.ReactCurrentOwner,rn=rr.ReactCurrentBatchConfig,ve=0,et=null,He=null,rt=0,Ft=0,si=Br(0),Qe=0,Qa=null,ps=0,Oc=0,cm=0,ka=null,Nt=null,um=0,_i=1/0,Bn=null,ec=!1,kf=null,Er=null,Jo=!1,br=null,tc=0,_a=0,_f=null,kl=-1,_l=0;function yt(){return ve&6?ze():kl!==-1?kl:kl=ze()}function Tr(e){return e.mode&1?ve&2&&rt!==0?rt&-rt:n2.transition!==null?(_l===0&&(_l=a0()),_l):(e=be,e!==0||(e=window.event,e=e===void 0?16:h0(e.type)),e):1}function wn(e,t,n,r){if(50<_a)throw _a=0,_f=null,Error(F(185));ho(e,n,r),(!(ve&2)||e!==et)&&(e===et&&(!(ve&2)&&(Oc|=n),Qe===4&&xr(e,rt)),Pt(e,r),n===1&&ve===0&&!(t.mode&1)&&(_i=ze()+500,Ac&&zr()))}function Pt(e,t){var n=e.callbackNode;n_(e,t);var r=$l(e,e===et?rt:0);if(r===0)n!==null&&og(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&og(n),t===1)e.tag===0?t2(Zg.bind(null,e)):R0(Zg.bind(null,e)),Q_(function(){!(ve&6)&&zr()}),n=null;else{switch(o0(r)){case 1:n=Ih;break;case 4:n=s0;break;case 16:n=Ll;break;case 536870912:n=i0;break;default:n=Ll}n=Pw(n,Sw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Sw(e,t){if(kl=-1,_l=0,ve&6)throw Error(F(327));var n=e.callbackNode;if(mi()&&e.callbackNode!==n)return null;var r=$l(e,e===et?rt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=nc(e,r);else{t=r;var s=ve;ve|=2;var i=Nw();(et!==e||rt!==t)&&(Bn=null,_i=ze()+500,cs(e,t));do try{j2();break}catch(l){Cw(e,l)}while(1);Yh(),Zl.current=i,ve=s,He!==null?t=0:(et=null,rt=0,t=Qe)}if(t!==0){if(t===2&&(s=Zd(e),s!==0&&(r=s,t=Ef(e,s))),t===1)throw n=Qa,cs(e,0),xr(e,r),Pt(e,ze()),n;if(t===6)xr(e,r);else{if(s=e.current.alternate,!(r&30)&&!w2(s)&&(t=nc(e,r),t===2&&(i=Zd(e),i!==0&&(r=i,t=Ef(e,i))),t===1))throw n=Qa,cs(e,0),xr(e,r),Pt(e,ze()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:Qr(e,Nt,Bn);break;case 3:if(xr(e,r),(r&130023424)===r&&(t=um+500-ze(),10<t)){if($l(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){yt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=lf(Qr.bind(null,e,Nt,Bn),t);break}Qr(e,Nt,Bn);break;case 4:if(xr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-yn(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*y2(r/1960))-r,10<r){e.timeoutHandle=lf(Qr.bind(null,e,Nt,Bn),r);break}Qr(e,Nt,Bn);break;case 5:Qr(e,Nt,Bn);break;default:throw Error(F(329))}}}return Pt(e,ze()),e.callbackNode===n?Sw.bind(null,e):null}function Ef(e,t){var n=ka;return e.current.memoizedState.isDehydrated&&(cs(e,t).flags|=256),e=nc(e,t),e!==2&&(t=Nt,Nt=n,t!==null&&Tf(t)),e}function Tf(e){Nt===null?Nt=e:Nt.push.apply(Nt,e)}function w2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!bn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xr(e,t){for(t&=~cm,t&=~Oc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yn(t),r=1<<n;e[n]=-1,t&=~r}}function Zg(e){if(ve&6)throw Error(F(327));mi();var t=$l(e,0);if(!(t&1))return Pt(e,ze()),null;var n=nc(e,t);if(e.tag!==0&&n===2){var r=Zd(e);r!==0&&(t=r,n=Ef(e,r))}if(n===1)throw n=Qa,cs(e,0),xr(e,t),Pt(e,ze()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qr(e,Nt,Bn),Pt(e,ze()),null}function dm(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(_i=ze()+500,Ac&&zr())}}function gs(e){br!==null&&br.tag===0&&!(ve&6)&&mi();var t=ve;ve|=1;var n=rn.transition,r=be;try{if(rn.transition=null,be=1,e)return e()}finally{be=r,rn.transition=n,ve=t,!(ve&6)&&zr()}}function fm(){Ft=si.current,De(si)}function cs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,X_(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(Gh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zl();break;case 3:Ni(),De(Et),De(ht),tm();break;case 5:em(r);break;case 4:Ni();break;case 13:De(Le);break;case 19:De(Le);break;case 10:Xh(r.type._context);break;case 22:case 23:fm()}n=n.return}if(et=e,He=e=Pr(e.current,null),rt=Ft=t,Qe=0,Qa=null,cm=Oc=ps=0,Nt=ka=null,is!==null){for(t=0;t<is.length;t++)if(n=is[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}is=null}return e}function Cw(e,t){do{var n=He;try{if(Yh(),Sl.current=Jl,Ql){for(var r=Fe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ql=!1}if(ms=0,Ze=Xe=Fe=null,Ca=!1,Ka=0,lm.current=null,n===null||n.return===null){Qe=1,Qa=t,He=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=rt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Vg(o);if(v!==null){v.flags&=-257,Ug(v,o,l,i,t),v.mode&1&&Fg(i,u,t),t=v,c=u;var b=t.updateQueue;if(b===null){var x=new Set;x.add(c),t.updateQueue=x}else b.add(c);break e}else{if(!(t&1)){Fg(i,u,t),hm();break e}c=Error(F(426))}}else if(Me&&l.mode&1){var w=Vg(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ug(w,o,l,i,t),qh(ki(c,l));break e}}i=c=ki(c,l),Qe!==4&&(Qe=2),ka===null?ka=[i]:ka.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=ow(i,c,t);Dg(i,y);break e;case 1:l=c;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Er===null||!Er.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=lw(i,l,t);Dg(i,j);break e}}i=i.return}while(i!==null)}_w(n)}catch(S){t=S,He===n&&n!==null&&(He=n=n.return);continue}break}while(1)}function Nw(){var e=Zl.current;return Zl.current=Jl,e===null?Jl:e}function hm(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),et===null||!(ps&268435455)&&!(Oc&268435455)||xr(et,rt)}function nc(e,t){var n=ve;ve|=2;var r=Nw();(et!==e||rt!==t)&&(Bn=null,cs(e,t));do try{b2();break}catch(s){Cw(e,s)}while(1);if(Yh(),ve=n,Zl.current=r,He!==null)throw Error(F(261));return et=null,rt=0,Qe}function b2(){for(;He!==null;)kw(He)}function j2(){for(;He!==null&&!qk();)kw(He)}function kw(e){var t=Tw(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,t===null?_w(e):He=t,lm.current=null}function _w(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=p2(n,t),n!==null){n.flags&=32767,He=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,He=null;return}}else if(n=m2(n,t,Ft),n!==null){He=n;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Qe===0&&(Qe=5)}function Qr(e,t,n){var r=be,s=rn.transition;try{rn.transition=null,be=1,S2(e,t,n,r)}finally{rn.transition=s,be=r}return null}function S2(e,t,n,r){do mi();while(br!==null);if(ve&6)throw Error(F(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(r_(e,i),e===et&&(He=et=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jo||(Jo=!0,Pw(Ll,function(){return mi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=rn.transition,rn.transition=null;var o=be;be=1;var l=ve;ve|=4,lm.current=null,v2(e,n),bw(n,e),z_(af),Fl=!!sf,af=sf=null,e.current=n,x2(n),Kk(),ve=l,be=o,rn.transition=i}else e.current=n;if(Jo&&(Jo=!1,br=e,tc=s),i=e.pendingLanes,i===0&&(Er=null),Qk(n.stateNode),Pt(e,ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ec)throw ec=!1,e=kf,kf=null,e;return tc&1&&e.tag!==0&&mi(),i=e.pendingLanes,i&1?e===_f?_a++:(_a=0,_f=e):_a=0,zr(),null}function mi(){if(br!==null){var e=o0(tc),t=rn.transition,n=be;try{if(rn.transition=null,be=16>e?16:e,br===null)var r=!1;else{if(e=br,br=null,tc=0,ve&6)throw Error(F(331));var s=ve;for(ve|=4,Q=e.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Na(8,d,i)}var f=d.child;if(f!==null)f.return=d,Q=f;else for(;Q!==null;){d=Q;var m=d.sibling,v=d.return;if(xw(d),d===u){Q=null;break}if(m!==null){m.return=v,Q=m;break}Q=v}}}var b=i.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Na(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Q=y;break e}Q=i.return}}var p=e.current;for(Q=p;Q!==null;){o=Q;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,Q=g;else e:for(o=p;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Mc(9,l)}}catch(S){Ue(l,l.return,S)}if(l===o){Q=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Q=j;break e}Q=l.return}}if(ve=s,zr(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(kc,e)}catch{}r=!0}return r}finally{be=n,rn.transition=t}}return!1}function ev(e,t,n){t=ki(n,t),t=ow(e,t,1),e=_r(e,t,1),t=yt(),e!==null&&(ho(e,1,t),Pt(e,t))}function Ue(e,t,n){if(e.tag===3)ev(e,e,n);else for(;t!==null;){if(t.tag===3){ev(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Er===null||!Er.has(r))){e=ki(n,e),e=lw(t,e,1),t=_r(t,e,1),e=yt(),t!==null&&(ho(t,1,e),Pt(t,e));break}}t=t.return}}function C2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=yt(),e.pingedLanes|=e.suspendedLanes&n,et===e&&(rt&n)===n&&(Qe===4||Qe===3&&(rt&130023424)===rt&&500>ze()-um?cs(e,0):cm|=n),Pt(e,t)}function Ew(e,t){t===0&&(e.mode&1?(t=Bo,Bo<<=1,!(Bo&130023424)&&(Bo=4194304)):t=1);var n=yt();e=Jn(e,t),e!==null&&(ho(e,t,n),Pt(e,n))}function N2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ew(e,n)}function k2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),Ew(e,n)}var Tw;Tw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)kt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return kt=!1,h2(e,t,n);kt=!!(e.flags&131072)}else kt=!1,Me&&t.flags&1048576&&D0(t,Gl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Nl(e,t),e=t.pendingProps;var s=ji(t,ht.current);hi(t,n),s=rm(null,t,r,e,s,n);var i=sm();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tt(r)?(i=!0,Wl(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jh(t),s.updater=Dc,t.stateNode=s,s._reactInternals=t,pf(t,r,e,n),t=xf(null,t,r,!0,i,n)):(t.tag=0,Me&&i&&Hh(t),xt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Nl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=E2(r),e=pn(r,e),s){case 0:t=vf(null,t,r,e,n);break e;case 1:t=Wg(null,t,r,e,n);break e;case 11:t=Bg(null,t,r,e,n);break e;case 14:t=zg(null,t,r,pn(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pn(r,s),vf(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pn(r,s),Wg(e,t,r,s,n);case 3:e:{if(fw(t),e===null)throw Error(F(387));r=t.pendingProps,i=t.memoizedState,s=i.element,F0(e,t),Yl(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ki(Error(F(423)),t),t=Hg(e,t,r,n,s);break e}else if(r!==s){s=ki(Error(F(424)),t),t=Hg(e,t,r,n,s);break e}else for(Ut=kr(t.stateNode.containerInfo.firstChild),Bt=t,Me=!0,xn=null,n=L0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Si(),r===s){t=Zn(e,t,n);break e}xt(e,t,r,n)}t=t.child}return t;case 5:return V0(t),e===null&&ff(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,of(r,s)?o=null:i!==null&&of(r,i)&&(t.flags|=32),dw(e,t),xt(e,t,o,n),t.child;case 6:return e===null&&ff(t),null;case 13:return hw(e,t,n);case 4:return Zh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ci(t,null,r,n):xt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pn(r,s),Bg(e,t,r,s,n);case 7:return xt(e,t,t.pendingProps,n),t.child;case 8:return xt(e,t,t.pendingProps.children,n),t.child;case 12:return xt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,_e(ql,r._currentValue),r._currentValue=o,i!==null)if(bn(i.value,o)){if(i.children===s.children&&!Et.current){t=Zn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=qn(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),hf(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(F(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),hf(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}xt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,hi(t,n),s=an(s),r=r(s),t.flags|=1,xt(e,t,r,n),t.child;case 14:return r=t.type,s=pn(r,t.pendingProps),s=pn(r.type,s),zg(e,t,r,s,n);case 15:return cw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pn(r,s),Nl(e,t),t.tag=1,Tt(r)?(e=!0,Wl(t)):e=!1,hi(t,n),aw(t,r,s),pf(t,r,s,n),xf(null,t,r,!0,e,n);case 19:return mw(e,t,n);case 22:return uw(e,t,n)}throw Error(F(156,t.tag))};function Pw(e,t){return r0(e,t)}function _2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(e,t,n,r){return new _2(e,t,n,r)}function mm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function E2(e){if(typeof e=="function")return mm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dh)return 11;if(e===Mh)return 14}return 2}function Pr(e,t){var n=e.alternate;return n===null?(n=tn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function El(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")mm(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ks:return us(n.children,s,i,t);case Rh:o=8,s|=8;break;case $d:return e=tn(12,n,t,s|2),e.elementType=$d,e.lanes=i,e;case Fd:return e=tn(13,n,t,s),e.elementType=Fd,e.lanes=i,e;case Vd:return e=tn(19,n,t,s),e.elementType=Vd,e.lanes=i,e;case Vy:return Ic(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $y:o=10;break e;case Fy:o=9;break e;case Dh:o=11;break e;case Mh:o=14;break e;case hr:o=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=tn(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function us(e,t,n,r){return e=tn(7,e,r,t),e.lanes=n,e}function Ic(e,t,n,r){return e=tn(22,e,r,t),e.elementType=Vy,e.lanes=n,e.stateNode={isHidden:!1},e}function Zu(e,t,n){return e=tn(6,e,null,t),e.lanes=n,e}function ed(e,t,n){return t=tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function T2(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mu(0),this.expirationTimes=Mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pm(e,t,n,r,s,i,o,l,c){return e=new T2(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=tn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jh(i),e}function P2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Aw(e){if(!e)return Mr;e=e._reactInternals;e:{if(ks(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Tt(n))return A0(e,n,t)}return t}function Rw(e,t,n,r,s,i,o,l,c){return e=pm(n,r,!0,e,s,i,o,l,c),e.context=Aw(null),n=e.current,r=yt(),s=Tr(n),i=qn(r,s),i.callback=t??null,_r(n,i,s),e.current.lanes=s,ho(e,s,r),Pt(e,r),e}function Lc(e,t,n,r){var s=t.current,i=yt(),o=Tr(s);return n=Aw(n),t.context===null?t.context=n:t.pendingContext=n,t=qn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_r(s,t,o),e!==null&&(wn(e,s,o,i),jl(e,s,o)),o}function rc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gm(e,t){tv(e,t),(e=e.alternate)&&tv(e,t)}function A2(){return null}var Dw=typeof reportError=="function"?reportError:function(e){console.error(e)};function vm(e){this._internalRoot=e}$c.prototype.render=vm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Lc(e,t,null,null)};$c.prototype.unmount=vm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gs(function(){Lc(null,e,null,null)}),t[Qn]=null}};function $c(e){this._internalRoot=e}$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=u0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vr.length&&t!==0&&t<vr[n].priority;n++);vr.splice(n,0,e),n===0&&f0(e)}};function xm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nv(){}function R2(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=rc(o);i.call(u)}}var o=Rw(t,r,e,0,null,!1,!1,"",nv);return e._reactRootContainer=o,e[Qn]=o.current,za(e.nodeType===8?e.parentNode:e),gs(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=rc(c);l.call(u)}}var c=pm(e,0,!1,null,null,!1,!1,"",nv);return e._reactRootContainer=c,e[Qn]=c.current,za(e.nodeType===8?e.parentNode:e),gs(function(){Lc(t,c,n,r)}),c}function Vc(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=rc(o);l.call(c)}}Lc(t,o,e,s)}else o=R2(n,t,e,s,r);return rc(o)}l0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ha(t.pendingLanes);n!==0&&(Lh(t,n|1),Pt(t,ze()),!(ve&6)&&(_i=ze()+500,zr()))}break;case 13:gs(function(){var r=Jn(e,1);if(r!==null){var s=yt();wn(r,e,1,s)}}),gm(e,1)}};$h=function(e){if(e.tag===13){var t=Jn(e,134217728);if(t!==null){var n=yt();wn(t,e,134217728,n)}gm(e,134217728)}};c0=function(e){if(e.tag===13){var t=Tr(e),n=Jn(e,t);if(n!==null){var r=yt();wn(n,e,t,r)}gm(e,t)}};u0=function(){return be};d0=function(e,t){var n=be;try{return be=e,t()}finally{be=n}};Xd=function(e,t,n){switch(t){case"input":if(zd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Pc(r);if(!s)throw Error(F(90));By(r),zd(r,s)}}}break;case"textarea":Wy(e,n);break;case"select":t=n.value,t!=null&&ci(e,!!n.multiple,t,!1)}};Qy=dm;Jy=gs;var D2={usingClientEntryPoint:!1,Events:[po,Js,Pc,Yy,Xy,dm]},na={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M2={bundleType:na.bundleType,version:na.version,rendererPackageName:na.rendererPackageName,rendererConfig:na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=t0(e),e===null?null:e.stateNode},findFiberByHostInstance:na.findFiberByHostInstance||A2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zo.isDisabled&&Zo.supportsFiber)try{kc=Zo.inject(M2),An=Zo}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D2;Kt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xm(t))throw Error(F(200));return P2(e,t,null,n)};Kt.createRoot=function(e,t){if(!xm(e))throw Error(F(299));var n=!1,r="",s=Dw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=pm(e,1,!1,null,null,n,!1,r,s),e[Qn]=t.current,za(e.nodeType===8?e.parentNode:e),new vm(t)};Kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=t0(t),e=e===null?null:e.stateNode,e};Kt.flushSync=function(e){return gs(e)};Kt.hydrate=function(e,t,n){if(!Fc(t))throw Error(F(200));return Vc(null,e,t,!0,n)};Kt.hydrateRoot=function(e,t,n){if(!xm(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Dw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Rw(t,null,e,1,n??null,s,!1,i,o),e[Qn]=t.current,za(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new $c(t)};Kt.render=function(e,t,n){if(!Fc(t))throw Error(F(200));return Vc(null,e,t,!1,n)};Kt.unmountComponentAtNode=function(e){if(!Fc(e))throw Error(F(40));return e._reactRootContainer?(gs(function(){Vc(null,null,e,!1,function(){e._reactRootContainer=null,e[Qn]=null})}),!0):!1};Kt.unstable_batchedUpdates=dm;Kt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fc(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Vc(e,t,n,!1,r)};Kt.version="18.3.1-next-f1338f8080-20240426";function Mw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mw)}catch(e){console.error(e)}}Mw(),My.exports=Kt;var _s=My.exports;const O2=jy(_s);var rv=_s;Id.createRoot=rv.createRoot,Id.hydrateRoot=rv.hydrateRoot;const I2="modulepreload",L2=function(e){return"/"+e},sv={},Ei=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=L2(i),i in sv)return;sv[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const f=s[d];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":I2,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},$2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ei(()=>Promise.resolve().then(()=>vo),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class ym extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class F2 extends ym{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class V2 extends ym{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class U2 extends ym{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Pf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Pf||(Pf={}));var B2=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class z2{constructor(t,{headers:n={},customFetch:r,region:s=Pf.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=$2(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return B2(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(b=>{throw new F2(b)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new V2(d);if(!d.ok)throw new U2(d);let m=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return m==="application/json"?v=yield d.json():m==="application/octet-stream"?v=yield d.blob():m==="text/event-stream"?v=d:m==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var W2=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ti=W2();const H2=Ti.fetch,wm=Ti.fetch.bind(Ti),Ow=Ti.Headers,G2=Ti.Request,q2=Ti.Response,vo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ow,Request:G2,Response:q2,default:wm,fetch:H2},Symbol.toStringTag,{value:"Module"}));class K2 extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}class Y2{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=wm:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,f=null,m=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{u=JSON.parse(x),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,v="OK")}catch{i.status===404&&x===""?(m=204,v="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,v="OK"),u&&this.shouldThrowOnError)throw new K2(u)}return{error:u,data:d,count:f,status:m,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}}class X2 extends Y2{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Hs extends X2{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}}class Q2{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Hs({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Hs({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Hs({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Hs({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Hs({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const J2="1.15.2",Z2={"X-Client-Info":`postgrest-js/${J2}`};class bm{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Z2),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new Q2(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new bm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Hs({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}}const eE="2.9.5",tE={"X-Client-Info":`realtime-js/${eE}`},nE="1.0.0",Iw=1e4,rE=1e3;var pi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(pi||(pi={}));var $t;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})($t||($t={}));var vn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vn||(vn={}));var Af;(function(e){e.websocket="websocket"})(Af||(Af={}));var rs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(rs||(rs={}));class Lw{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class sE{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const c=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class td{constructor(t,n,r={},s=Iw){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var iv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(iv||(iv={}));class Ea{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ea.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Ea.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ea.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const m=d.map(w=>w.presence_ref),v=f.map(w=>w.presence_ref),b=d.filter(w=>v.indexOf(w.presence_ref)<0),x=f.filter(w=>m.indexOf(w.presence_ref)<0);b.length>0&&(l[u]=b),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(v=>v.presence_ref),m=d.filter(v=>f.indexOf(v.presence_ref)<0);t[l].unshift(...m)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ke;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ke||(ke={}));const av=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=iE(o,e,t,s),i),{})},iE=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?$w(i,o):Rf(o)},$w=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return cE(t,n)}switch(e){case ke.bool:return aE(t);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return oE(t);case ke.json:case ke.jsonb:return lE(t);case ke.timestamp:return uE(t);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return Rf(t);default:return Rf(t)}},Rf=e=>e,aE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},oE=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},cE=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>$w(t,l))}return e},uE=e=>typeof e=="string"?e.replace(" ","T"):e;var ov;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ov||(ov={}));var lv;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"})(lv||(lv={}));var cv;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(cv||(cv={}));class jm{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=$t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new td(this,vn.join,this.params,this.timeout),this.rejoinTimer=new Lw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$t.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=$t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ea(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o}}=this.params;this._onError(u=>t&&t("CHANNEL_ERROR",u)),this._onClose(()=>t&&t("CLOSED"));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[]};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:u})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){t&&t("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,m=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,v=[];for(let b=0;b<m;b++){const x=f[b],{filter:{event:w,schema:y,table:p,filter:g}}=x,j=u&&u[b];if(j&&j.event===w&&j.schema===y&&j.table===p&&j.filter===g)v.push(Object.assign(Object.assign({},x),{id:j.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t("SUBSCRIBED");return}}).receive("error",u=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{apikey:(r=this.socket.apiKey)!==null&&r!==void 0?r:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout)).ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=$t.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new td(this,vn.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}_broadcastEndpointURL(){let t=this.socket.endPoint;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new td(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=vn;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var b,x,w;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(x=v.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(v=>v.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var b,x,w,y,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const j=v.id,S=(b=v.filter)===null||b===void 0?void 0:b.event;return j&&((x=n.ids)===null||x===void 0?void 0:x.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(p=(y=v==null?void 0:v.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return j==="*"||j===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:x,table:w,commit_timestamp:y,type:p,errors:g}=b;m=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:y,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(b))}v.callback(m,r)})}_isClosed(){return this.state===$t.closed}_isJoined(){return this.state===$t.joined}_isJoining(){return this.state===$t.joining}_isLeaving(){return this.state===$t.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&jm.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vn.close,{},t)}_onError(t){this._on(vn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$t.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=av(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=av(t.columns,t.old_record)),n}}const dE=()=>{},fE=typeof WebSocket<"u";class hE{constructor(t,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=tE,this.params={},this.timeout=Iw,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=dE,this.conn=null,this.sendBuffer=[],this.serializer=new sE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Ei(()=>Promise.resolve().then(()=>vo),void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Af.websocket}`,n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Lw(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(fE){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new mE(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Ei(()=>import("./browser-a5ebb31b.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case pi.connecting:return rs.Connecting;case pi.open:return rs.Open;case pi.closing:return rs.Closing;default:return rs.Closed}}isConnected(){return this.connectionState()===rs.Open}channel(t,n={config:{}}){const r=new jm(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(vn.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:nE}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(vn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(rE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class mE{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=pi.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Sm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function dt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class pE extends Sm{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class uv extends Sm{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var gE=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Fw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ei(()=>Promise.resolve().then(()=>vo),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},vE=()=>gE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ei(()=>Promise.resolve().then(()=>vo),void 0)).Response:Response});var Vi=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const nd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xE=(e,t)=>Vi(void 0,void 0,void 0,function*(){const n=yield vE();e instanceof n?e.json().then(r=>{t(new pE(nd(r),e.status||500))}).catch(r=>{t(new uv(nd(r),r))}):t(new uv(nd(e),e))}),yE=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};function Uc(e,t,n,r,s,i){return Vi(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,yE(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>xE(c,l))})})}function Df(e,t,n,r){return Vi(this,void 0,void 0,function*(){return Uc(e,"GET",t,n,r)})}function pr(e,t,n,r,s){return Vi(this,void 0,void 0,function*(){return Uc(e,"POST",t,r,s,n)})}function wE(e,t,n,r,s){return Vi(this,void 0,void 0,function*(){return Uc(e,"PUT",t,r,s,n)})}function Vw(e,t,n,r,s){return Vi(this,void 0,void 0,function*(){return Uc(e,"DELETE",t,r,s,n)})}var Xt=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const bE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jE{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Fw(s)}uploadOrUpdate(t,n,r,s){return Xt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},dv),s),l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl)):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType);const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(dt(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Xt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:dv.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield f.json();return f.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(dt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t){return Xt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const r=yield pr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:this.headers}),s=new URL(this.url+r.url),i=s.searchParams.get("token");if(!i)throw new Sm("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:i},error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}update(t,n,r){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n){return Xt(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}copy(t,n){return Xt(this,void 0,void 0,function*(){try{return{data:{path:(yield pr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}createSignedUrl(t,n,r){return Xt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield pr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Xt(this,void 0,void 0,function*(){try{const s=yield pr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}download(t,n){return Xt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Df(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(dt(l))return{data:null,error:l};throw l}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Xt(this,void 0,void 0,function*(){try{return{data:yield Vw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Xt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},bE),n),{prefix:t||""});return{data:yield pr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const SE="2.5.5",CE={"X-Client-Info":`storage-js/${SE}`};var $s=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class NE{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},CE),n),this.fetch=Fw(r)}listBuckets(){return $s(this,void 0,void 0,function*(){try{return{data:yield Df(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(dt(t))return{data:null,error:t};throw t}})}getBucket(t){return $s(this,void 0,void 0,function*(){try{return{data:yield Df(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return $s(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return $s(this,void 0,void 0,function*(){try{return{data:yield wE(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return $s(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return $s(this,void 0,void 0,function*(){try{return{data:yield Vw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}}class kE extends NE{constructor(t,n={},r){super(t,n,r)}from(t){return new jE(this.url,this.headers,t,this.fetch)}}const _E="2.43.4";let pa="";typeof Deno<"u"?pa="deno":typeof document<"u"?pa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pa="react-native":pa="node";const EE={"X-Client-Info":`supabase-js-${pa}/${_E}`},TE={headers:EE},PE={schema:"public"},AE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},RE={};var DE=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const ME=e=>{let t;return e?t=e:typeof fetch>"u"?t=wm:t=fetch,(...n)=>t(...n)},OE=()=>typeof Headers>"u"?Ow:Headers,IE=(e,t,n)=>{const r=ME(n),s=OE();return(i,o)=>DE(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};function LE(e){return e.replace(/\/$/,"")}function $E(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i)}}const Uw="2.64.2",FE="http://localhost:9999",VE="supabase.auth.token",UE={"X-Client-Info":`gotrue-js/${Uw}`},fv=10,Mf="X-Supabase-Api-Version",Bw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function BE(e){return Math.round(Date.now()/1e3)+e}function zE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const hn=()=>typeof document<"u",qr={tested:!1,writable:!1},Ta=()=>{if(!hn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qr.tested)return qr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),qr.tested=!0,qr.writable=!0}catch{qr.tested=!0,qr.writable=!1}return qr.writable};function rd(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const zw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ei(()=>Promise.resolve().then(()=>vo),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},WE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ww=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},el=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},sd=async(e,t)=>{await e.removeItem(t)};function HE(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,l,c,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),r=o<<2|l>>4,s=(l&15)<<4|c>>2,i=(c&3)<<6|u,n=n+String.fromCharCode(r),c!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Bc{constructor(){this.promise=new Bc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Bc.promiseConstructor=Promise;function hv(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(HE(r))}async function GE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function qE(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function KE(e){return("0"+e.toString(16)).substr(-2)}function YE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,KE).join("")}async function XE(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function QE(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function JE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await XE(e);return QE(n)}async function Fs(e,t,n=!1){const r=YE();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ww(e,`${t}-code-verifier`,s);const i=await JE(r);return[i,r===i?"plain":"s256"]}const ZE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function eT(e){const t=e.headers.get(Mf);if(!t||!t.match(ZE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Cm extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function de(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class tT extends Cm{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function nT(e){return de(e)&&e.name==="AuthApiError"}class Hw extends Cm{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Es extends Cm{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Kr extends Es{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class id extends Es{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tl extends Es{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class nl extends Es{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mv extends Es{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Of extends Es{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ad(e){return de(e)&&e.name==="AuthRetryableFetchError"}class pv extends Es{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var rT=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Jr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sT=[502,503,504];async function gv(e){var t;if(!WE(e))throw new Of(Jr(e),0);if(sT.includes(e.status))throw new Of(Jr(e),e.status);let n;try{n=await e.json()}catch(i){throw new Hw(Jr(i),i)}let r;const s=eT(e);if(s&&s.getTime()>=Bw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new pv(Jr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[])}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new pv(Jr(n),e.status,n.weak_password.reasons);throw new tT(Jr(n),e.status||500,r)}const iT=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function pe(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Mf]||(i[Mf]=Bw["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await aT(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function aT(e,t,n,r,s,i){const o=iT(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new Of(Jr(c),0)}if(l.ok||await gv(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await gv(c)}}function ur(e){var t;let n=null;uT(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=BE(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function vv(e){const t=ur(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function yr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function oT(e){return{data:e,error:null}}function lT(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=rT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function cT(e){return e}function uT(e){return e.access_token&&e.refresh_token&&e.expires_in}var dT=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class fT{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=zw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yr})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=dT(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:lT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(de(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:yr})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:cT});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(de(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:yr})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:yr})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:yr})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}}const hT={getItem:e=>Ta()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ta()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ta()&&globalThis.localStorage.removeItem(e)}};function xv(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function mT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Vs={debug:!!(globalThis&&Ta()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class pT extends Gw{}async function gT(e,t,n){Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}mT();const vT={url:FE,storageKey:VE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:UE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ra=30*1e3,yv=3;async function wv(e,t,n){return await n()}class Ja{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ja.nextInstanceID,Ja.nextInstanceID+=1,this.instanceID>0&&hn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},vT),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new fT({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=zw(s.fetch),this.lock=s.lock||wv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:hn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=gT:this.lock=wv,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ta()?this.storage=hT:(this.memoryStorage={},this.storage=xv(this.memoryStorage)):(this.memoryStorage={},this.storage=xv(this.memoryStorage)),hn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Uw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=hn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.message)==="Identity is already linked"||(r==null?void 0:r.message)==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return de(t)?{error:t}:{error:new Hw("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{await this._removeSession();const i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ur}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{await this._removeSession();let i;if("email"in t){const{email:d,password:f,options:m}=t;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await Fs(this.storage,this.storageKey)),i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:b},xform:ur})}else if("phone"in t){const{phone:d,password:f,options:m}=t;i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ur})}else throw new tl("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{await this._removeSession();let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:vv})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:vv})}else throw new tl("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new id}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await el(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/"),{data:i,error:o}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ur});return await sd(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new id}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}async signInWithIdToken(t){await this._removeSession();try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ur}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new id}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if(await this._removeSession(),"email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Fs(this.storage,this.storageKey));const{error:f}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new tl("You must provide either an email or phone number.")}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ur});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{await this._removeSession();let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Fs(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:oT})}catch(i){if(de(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Kr;const{error:s}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(de(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new tl("You must provide either an email or phone number and a type")}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await el(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){const o=this.suppressGetSessionWarning;t=new Proxy(t,{get(c,u,d){return!o&&u==="user"&&console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),Reflect.get(c,u,d)}})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:yr}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kr}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:yr})})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Kr;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Fs(this.storage,this.storageKey));const{data:u,error:d}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:yr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return hv(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Kr;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=hv(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(de(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Kr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t){try{if(!hn())throw new nl("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new nl("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new mv("Not a valid PKCE flow url.");const n=rd(window.location.href);if(t){if(!n.code)throw new mv("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(n.code);if(g)throw g;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:p.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new nl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=n;if(!i||!l||!o||!u)throw new nl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const v=m-d;v*1e3<=ra&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const b=m-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",b,m,d);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:n.type},error:null}}catch(n){if(de(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const t=rd(window.location.href);return!!(hn()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=rd(window.location.href),n=await el(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(nT(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await sd(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const n=zE(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Fs(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(de(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return hn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(de(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await qE(async s=>(s>0&&await GE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ur})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ad(i)&&Date.now()+o-r<ra})}catch(r){if(this._debug(n,"error",r),de(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),hn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await el(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+fv;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${fv}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),ad(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Kr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bc;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Kr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),de(i)){const o={session:null,error:i};return ad(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ww(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await sd(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&hn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ra);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/ra);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ra}ms, refresh threshold is ${yv} ticks`),s<=yv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Gw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Fs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const{data:l,error:c}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(de(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(de(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:r,totp:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}}Ja.nextInstanceID=0;const xT=Ja;class yT extends xT{constructor(t){super(t)}}var wT=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class bT{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=LE(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:PE,realtime:RE,auth:Object.assign(Object.assign({},AE),{storageKey:c}),global:TE},d=$E(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=IE(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},d.realtime)),this.rest=new bm(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new z2(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new kE(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return wT(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,debug:l},c,u){var d;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yT({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,debug:l,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(t){return new hE(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jT=(e,t,n)=>new bT(e,t,n),ST="https://pjxvbsoqwcppuyctwxeh.supabase.co",CT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBqeHZic29xd2NwcHV5Y3R3eGVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA1MjAxNDMsImV4cCI6MjA2NjA5NjE0M30.d8ODXPZVO7EKjRROvrMTvLxLNitsyMQ7dG1NvmqH5Tc",M=jT(ST,CT),qw=h.createContext(null),bv=[{user_id_custom:"ADMIN001",email:"admin@egov.in",password:"admin123",role:"admin",name:"Admin Goa",phone:"9876543210"},{user_id_custom:"VLE001",email:"sayyed.vle@egov.in",password:"password",role:"vle",name:"Sayyed",center:"Panaji Center",phone:"9876543214"},{user_id_custom:"VLE002",email:"veeresh.vle@egov.in",password:"password",role:"vle",name:"Veeresh",center:"Margao Center",phone:"9876543215"},{user_id_custom:"VLE003",email:"ibrahim.vle@egov.in",password:"password",role:"vle",name:"Ibrahim",center:"Vasco Center",is_available:!1,phone:"9876543216"},{user_id_custom:"VLE004",email:"shubham.vle@egov.in",password:"password",role:"vle",name:"Shubham",center:"Mapusa Center",phone:"9876543217"},{user_id_custom:"CUST001",email:"sahil.customer@egov.in",password:"password",role:"customer",name:"Sahil",address:"123 Beach View, Panaji",phone:"9876543211"},{user_id_custom:"CUST002",email:"viraj.customer@egov.in",password:"password",role:"customer",name:"Viraj",address:"456 River Side, Margao",phone:"9876543212"},{user_id_custom:"CUST003",email:"manoj.customer@egov.in",password:"password",role:"customer",name:"Manoj",address:"789 Hill Top, Vasco",phone:"9876543213"}],NT=({children:e})=>{const[t,n]=h.useState(null),[r,s]=h.useState(!0),[i,o]=h.useState(!1);h.useEffect(()=>{(async()=>{s(!0);const{data:{session:y},error:p}=await M.auth.getSession();if(p&&console.error("Error getting session:",p),y!=null&&y.user){const{data:g}=await M.from("profiles").select("*").eq("id",y.user.id).single();n(g||null),o(!!g)}else n(null),o(!1);s(!1)})();const{data:w}=M.auth.onAuthStateChange(async(y,p)=>{if(s(!0),p!=null&&p.user){const{data:g}=await M.from("profiles").select("*").eq("id",p.user.id).single();n(g||null),o(!!g)}else n(null),o(!1);s(!1)});return()=>{var y;return(y=w==null?void 0:w.subscription)==null?void 0:y.unsubscribe()}},[]);const l=h.useCallback(async(x,w)=>{s(!0);const{data:y,error:p}=await M.auth.signInWithPassword({email:x,password:w});if(p)return s(!1),p.message.includes("Email not confirmed")?{success:!1,error:"This account has not been confirmed. Please check your email for a confirmation link or contact support."}:{success:!1,error:p.message};if(y.user){const{data:g}=await M.from("profiles").select("*").eq("id",y.user.id).single();return n(g),o(!!g),s(!1),g?{success:!0,user:g}:(await M.auth.signOut(),{success:!1,error:"Login failed: User profile not found. Please contact support."})}return s(!1),{success:!1,error:"An unexpected error occurred."}},[]),c=h.useCallback(async(x,w)=>await l(x,w),[l]),u=h.useCallback(async x=>{s(!0);const w=`CUST${Date.now().toString().slice(-4)}`,{data:y,error:p}=await M.auth.signUp({email:x.email,password:x.password,phone:x.phone,options:{data:{name:x.name,role:"customer",address:x.address,user_id_custom:w,wallet_balance:1e3,is_available:!0}}});return s(!1),p?{success:!1,error:p.message}:{success:!0,user:y.user,message:"Signup successful! If email confirmation is enabled, please check your inbox."}},[]),d=h.useCallback(async()=>{s(!0),await M.auth.signOut(),n(null),o(!1),s(!1)},[]),f=h.useCallback(async()=>{s(!0);const{data:{user:x}}=await M.auth.getUser();if(x){const{data:w}=await M.from("profiles").select("*").eq("id",x.id).single();n(w),o(!!w)}else n(null),o(!1);s(!1)},[]),m=h.useCallback(async(x,w)=>{const{error:y}=await M.from("profiles").update(w).eq("id",x);return y?(console.error("Error updating profile in Supabase:",y),!1):(await f(),!0)},[f]),v=h.useCallback(async()=>{s(!0);let x=0,w=0;const y=[],p=bv.filter(g=>g.email!=="admin@egov.in");for(const g of p)try{const{data:j,error:S}=await M.auth.signUp({email:g.email,password:g.password,phone:g.phone,options:{data:{name:g.name,role:g.role,user_id_custom:g.user_id_custom,center:g.center,address:g.address,is_available:g.is_available!==!1,wallet_balance:1e3}}});S?S.message.includes("User already registered")||S.message.includes("already been registered")?x++:(w++,y.push(`Error creating ${g.email}: ${S.message}`)):x++}catch(j){w++,y.push(`Exception creating ${g.email}: ${j.message}`)}return await M.auth.signOut(),n(null),o(!1),s(!1),{successCount:x,errorCount:w,errors:y}},[]),b=h.useMemo(()=>({user:t,login:l,quickLogin:c,signup:u,logout:d,loading:r,isAuthenticated:i,refreshUser:f,updateUserDetailsInSupabase:m,QUICK_LOGIN_USERS:bv,seedUsers:v}),[t,r,i,l,c,u,d,f,m,v]);return a.jsx(qw.Provider,{value:b,children:e})};function ot(){const e=h.useContext(qw);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Kw(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Kw(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Yw(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Kw(e))&&(r&&(r+=" "),r+=t);return r}function kT(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=Xw(t))&&(r&&(r+=" "),r+=n);return r}function Xw(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=Xw(e[r]))&&(n&&(n+=" "),n+=t);return n}var Nm="-";function _T(e){var t=TT(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function i(l){var c=l.split(Nm);return c[0]===""&&c.length!==1&&c.shift(),Qw(c,t)||ET(l)}function o(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function Qw(e,t){var o;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?Qw(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var i=e.join(Nm);return(o=t.validators.find(function(l){var c=l.validator;return c(i)}))==null?void 0:o.classGroupId}}var jv=/^\[(.+)\]$/;function ET(e){if(jv.test(e)){var t=jv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function TT(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=AT(Object.entries(e.classGroups),n);return s.forEach(function(i){var o=i[0],l=i[1];If(l,r,o,t)}),r}function If(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var i=s===""?t:Sv(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(PT(s)){If(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(o){var l=o[0],c=o[1];If(c,Sv(t,l),n,r)})})}function Sv(e,t){var n=e;return t.split(Nm).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function PT(e){return e.isThemeGetter}function AT(e,t){return t?e.map(function(n){var r=n[0],s=n[1],i=s.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):o});return[r,i]}):e}function RT(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(i,o){n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(o){var l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set:function(o,l){n.has(o)?n.set(o,l):s(o,l)}}}var Jw="!";function DT(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(o){for(var l=[],c=0,u=0,d,f=0;f<o.length;f++){var m=o[f];if(c===0){if(m===r&&(n||o.slice(f,f+s)===t)){l.push(o.slice(u,f)),u=f+s;continue}if(m==="/"){d=f;continue}}m==="["?c++:m==="]"&&c--}var v=l.length===0?o:o.substring(u),b=v.startsWith(Jw),x=b?v.substring(1):v,w=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:x,maybePostfixModifierPosition:w}}}function MT(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function OT(e){return{cache:RT(e.cacheSize),splitModifiers:DT(e),..._T(e)}}var IT=/\s+/;function LT(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(IT).map(function(o){var l=n(o),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,f=l.maybePostfixModifierPosition,m=r(f?d.substring(0,f):d),v=!!f;if(!m){if(!f)return{isTailwindClass:!1,originalClassName:o};if(m=r(d),!m)return{isTailwindClass:!1,originalClassName:o};v=!1}var b=MT(c).join(":"),x=u?b+Jw:b;return{isTailwindClass:!0,modifierId:x,classGroupId:m,originalClassName:o,hasPostfixModifier:v}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,u=o.hasPostfixModifier,d=l+c;return i.has(d)?!1:(i.add(d),s(c,u).forEach(function(f){return i.add(l+f)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function $T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,i,o=l;function l(u){var d=t[0],f=t.slice(1),m=f.reduce(function(v,b){return b(v)},d());return r=OT(m),s=r.cache.get,i=r.cache.set,o=c,c(u)}function c(u){var d=s(u);if(d)return d;var f=LT(u,r);return i(u,f),f}return function(){return o(kT.apply(null,arguments))}}function Ae(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var Zw=/^\[(?:([a-z-]+):)?(.+)\]$/i,FT=/^\d+\/\d+$/,VT=new Set(["px","full","screen"]),UT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zT=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function fn(e){return os(e)||VT.has(e)||FT.test(e)||Lf(e)}function Lf(e){return Ts(e,"length",YT)}function WT(e){return Ts(e,"size",eb)}function HT(e){return Ts(e,"position",eb)}function GT(e){return Ts(e,"url",XT)}function rl(e){return Ts(e,"number",os)}function os(e){return!Number.isNaN(Number(e))}function qT(e){return e.endsWith("%")&&os(e.slice(0,-1))}function sa(e){return Cv(e)||Ts(e,"number",Cv)}function me(e){return Zw.test(e)}function ia(){return!0}function or(e){return UT.test(e)}function KT(e){return Ts(e,"",QT)}function Ts(e,t,n){var r=Zw.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function YT(e){return BT.test(e)}function eb(){return!1}function XT(e){return e.startsWith("url(")}function Cv(e){return Number.isInteger(Number(e))}function QT(e){return zT.test(e)}function JT(){var e=Ae("colors"),t=Ae("spacing"),n=Ae("blur"),r=Ae("brightness"),s=Ae("borderColor"),i=Ae("borderRadius"),o=Ae("borderSpacing"),l=Ae("borderWidth"),c=Ae("contrast"),u=Ae("grayscale"),d=Ae("hueRotate"),f=Ae("invert"),m=Ae("gap"),v=Ae("gradientColorStops"),b=Ae("gradientColorStopPositions"),x=Ae("inset"),w=Ae("margin"),y=Ae("opacity"),p=Ae("padding"),g=Ae("saturate"),j=Ae("scale"),S=Ae("sepia"),k=Ae("skew"),_=Ae("space"),C=Ae("translate"),N=function(){return["auto","contain","none"]},T=function(){return["auto","hidden","clip","visible","scroll"]},O=function(){return["auto",me,t]},R=function(){return[me,t]},V=function(){return["",fn]},E=function(){return["auto",os,me]},I=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},P=function(){return["solid","dashed","dotted","double","none"]},z=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},A=function(){return["start","end","center","between","around","evenly","stretch"]},D=function(){return["","0",me]},W=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},U=function(){return[os,rl]},K=function(){return[os,me]};return{cacheSize:500,theme:{colors:[ia],spacing:[fn],blur:["none","",or,me],brightness:U(),borderColor:[e],borderRadius:["none","","full",or,me],borderSpacing:R(),borderWidth:V(),contrast:U(),grayscale:D(),hueRotate:K(),invert:D(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[qT,Lf],inset:O(),margin:O(),opacity:U(),padding:R(),saturate:U(),scale:U(),sepia:D(),skew:K(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[or]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(I(),[me])}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sa]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",sa]}],"grid-cols":[{"grid-cols":[ia]}],"col-start-end":[{col:["auto",{span:["full",sa]},me]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[ia]}],"row-start-end":[{row:["auto",{span:[sa]},me]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(A())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(A(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(A(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",me,t]}],"min-w":[{"min-w":["min","max","fit",me,fn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[or]},or,me]}],h:[{h:[me,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",me,fn]}],"max-h":[{"max-h":[me,t,"min","max","fit"]}],"font-size":[{text:["base",or,Lf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rl]}],"font-family":[{font:[ia]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",os,rl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",me,fn]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(P(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",fn]}],"underline-offset":[{"underline-offset":["auto",me,fn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(I(),[HT])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",WT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},GT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[].concat(P(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:P()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(P())}],"outline-offset":[{"outline-offset":[me,fn]}],"outline-w":[{outline:[fn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[fn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",or,KT]}],"shadow-color":[{shadow:[ia]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":z()}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",or,me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[g]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[sa,me]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[fn,rl]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var ZT=$T(JT);function ne(...e){return ZT(Yw(e))}function Nv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function zc(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Nv(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Nv(e[s],null)}}}}function ye(...e){return h.useCallback(zc(...e),e)}function vs(e){const t=tP(e),n=h.forwardRef((r,s)=>{const{children:i,...o}=r,l=h.Children.toArray(i),c=l.find(rP);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var eP=vs("Slot");function tP(e){const t=h.forwardRef((n,r)=>{const{children:s,...i}=n;if(h.isValidElement(s)){const o=iP(s),l=sP(i,s.props);return s.type!==h.Fragment&&(l.ref=r?zc(r,o):o),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tb=Symbol("radix.slottable");function nP(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=tb,t}function rP(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tb}function sP(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function iP(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const kv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,_v=Yw,Wc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return _v(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const m=kv(d)||kv(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...v}=d;return Object.entries(v).every(b=>{let[x,w]=b;return Array.isArray(w)?w.includes({...i,...l}[x]):{...i,...l}[x]===w})?[...u,f,m]:u},[]);return _v(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},km=Wc("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),L=X.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?eP:"button";return a.jsx(o,{className:ne(km({variant:t,size:n,className:e})),ref:i,...s})});L.displayName="Button";const Z=X.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Z.displayName="Input";var aP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],se=aP.reduce((e,t)=>{const n=vs(`Primitive.${t}`),r=h.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function _m(e,t){e&&_s.flushSync(()=>e.dispatchEvent(t))}var oP="Label",nb=h.forwardRef((e,t)=>a.jsx(se.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));nb.displayName=oP;var rb=nb;const lP=Wc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),B=X.forwardRef(({className:e,...t},n)=>a.jsx(rb,{ref:n,className:ne(lP(),e),...t}));B.displayName=rb.displayName;const ie=X.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ne("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ie.displayName="Card";const fe=X.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ne("flex flex-col space-y-1.5 p-6",e),...t}));fe.displayName="CardHeader";const ge=X.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:ne("text-2xl font-semibold leading-none tracking-tight",e),...t}));ge.displayName="CardTitle";const je=X.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));je.displayName="CardDescription";const oe=X.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ne("p-6 pt-0",e),...t}));oe.displayName="CardContent";const Ps=X.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ne("flex items-center p-6 pt-0",e),...t}));Ps.displayName="CardFooter";const cP=1;let od=0;function uP(){return od=(od+1)%Number.MAX_VALUE,od.toString()}const gt={state:{toasts:[]},listeners:[],getState:()=>gt.state,setState:e=>{typeof e=="function"?gt.state=e(gt.state):gt.state={...gt.state,...e},gt.listeners.forEach(t=>t(gt.state))},subscribe:e=>(gt.listeners.push(e),()=>{gt.listeners=gt.listeners.filter(t=>t!==e)})},dP=({...e})=>{const t=uP(),n=s=>gt.setState(i=>({...i,toasts:i.toasts.map(o=>o.id===t?{...o,...s}:o)})),r=()=>gt.setState(s=>({...s,toasts:s.toasts.filter(i=>i.id!==t)}));return gt.setState(s=>({...s,toasts:[{...e,id:t,dismiss:r},...s.toasts].slice(0,cP)})),{id:t,dismiss:r,update:n}};function Oe(){const[e,t]=h.useState(gt.getState());return h.useEffect(()=>gt.subscribe(r=>{t(r)}),[]),h.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:dP,toasts:e.toasts}}var fP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y=(e,t)=>{const n=h.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...c},u)=>h.createElement("svg",{ref:u,...fP,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${hP(e)}`,...c},[...t.map(([d,f])=>h.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n},Hc=Y("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),sc=Y("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),mP=Y("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]),pP=Y("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]),Ev=Y("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),sb=Y("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),Em=Y("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),gP=Y("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Tv=Y("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Tm=Y("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Pm=Y("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),At=Y("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Am=Y("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),ib=Y("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),ab=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),vP=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),xP=Y("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),yP=Y("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),_t=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),wP=Y("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]),Gc=Y("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Rm=Y("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),bP=Y("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),ob=Y("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),sr=Y("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),jP=Y("FilePlus",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"12",x2:"12",y1:"18",y2:"12",key:"1tsf04"}],["line",{x1:"9",x2:"15",y1:"15",y2:"15",key:"110plj"}]]),Je=Y("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),lb=Y("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),qc=Y("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Dm=Y("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),gi=Y("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]),cb=Y("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),SP=Y("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),Kc=Y("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),CP=Y("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),NP=Y("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),kP=Y("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Mm=Y("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ub=Y("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),_P=Y("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Om=Y("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Za=Y("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),db=Y("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]),Im=Y("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),EP=Y("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]),Ui=Y("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Bi=Y("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),fb=Y("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),TP=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),hb=Y("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Pi=Y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),mb=Y("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),pb=Y("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),xs=Y("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Lm=Y("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),ln=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),zi=Y("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Pv=Y("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Or=Y("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),PP=Y("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),Yc=Y("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),cn=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Av=Y("Users2",[["path",{d:"M14 19a6 6 0 0 0-12 0",key:"vej9p1"}],["circle",{cx:"8",cy:"9",r:"4",key:"143rtg"}],["path",{d:"M22 19a6 6 0 0 0-6-6 4 4 0 1 0 0-8",key:"hqbn22"}]]),vi=Y("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),xo=Y("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),In=Y("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),$m=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),AP=Y("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function q(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function RP(e,t){const n=h.createContext(t),r=i=>{const{children:o,...l}=i,c=h.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(i){const o=h.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function $n(e,t=[]){let n=[];function r(i,o){const l=h.createContext(o),c=n.length;n=[...n,o];const u=f=>{var y;const{scope:m,children:v,...b}=f,x=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,w=h.useMemo(()=>b,Object.values(b));return a.jsx(x.Provider,{value:w,children:v})};u.displayName=i+"Provider";function d(f,m){var x;const v=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,b=h.useContext(v);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,DP(s,...t)]}function DP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var at=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},MP=Eh[" useId ".trim().toString()]||(()=>{}),OP=0;function Dn(e){const[t,n]=h.useState(MP());return at(()=>{e||n(r=>r??String(OP++))},[e]),e||(t?`radix-${t}`:"")}var IP=Eh[" useInsertionEffect ".trim().toString()]||at;function ys({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=LP({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=h.useCallback(d=>{var f;if(l){const m=$P(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else i(d)},[l,e,i,o]);return[c,u]}function LP({defaultProp:e,onChange:t}){const[n,r]=h.useState(e),s=h.useRef(n),i=h.useRef(t);return IP(()=>{i.current=t},[t]),h.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function $P(e){return typeof e=="function"}function Rt(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function FP(e,t=globalThis==null?void 0:globalThis.document){const n=Rt(e);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var VP="DismissableLayer",$f="dismissableLayer.update",UP="dismissableLayer.pointerDownOutside",BP="dismissableLayer.focusOutside",Rv,gb=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yo=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=h.useContext(gb),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=h.useState({}),b=ye(t,_=>f(_)),x=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(w),p=d?x.indexOf(d):-1,g=u.layersWithOutsidePointerEventsDisabled.size>0,j=p>=y,S=WP(_=>{const C=_.target,N=[...u.branches].some(T=>T.contains(C));!j||N||(s==null||s(_),o==null||o(_),_.defaultPrevented||l==null||l())},m),k=HP(_=>{const C=_.target;[...u.branches].some(T=>T.contains(C))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},m);return FP(_=>{p===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},m),h.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Rv=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Dv(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Rv)}},[d,m,n,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Dv())},[d,u]),h.useEffect(()=>{const _=()=>v({});return document.addEventListener($f,_),()=>document.removeEventListener($f,_)},[]),a.jsx(se.div,{...c,ref:b,style:{pointerEvents:g?j?"auto":"none":void 0,...e.style},onFocusCapture:q(e.onFocusCapture,k.onFocusCapture),onBlurCapture:q(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:q(e.onPointerDownCapture,S.onPointerDownCapture)})});yo.displayName=VP;var zP="DismissableLayerBranch",vb=h.forwardRef((e,t)=>{const n=h.useContext(gb),r=h.useRef(null),s=ye(t,r);return h.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(se.div,{...e,ref:s})});vb.displayName=zP;function WP(e,t=globalThis==null?void 0:globalThis.document){const n=Rt(e),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){xb(UP,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function HP(e,t=globalThis==null?void 0:globalThis.document){const n=Rt(e),r=h.useRef(!1);return h.useEffect(()=>{const s=i=>{i.target&&!r.current&&xb(BP,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Dv(){const e=new CustomEvent($f);document.dispatchEvent(e)}function xb(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?_m(s,i):s.dispatchEvent(i)}var GP=yo,qP=vb,ld="focusScope.autoFocusOnMount",cd="focusScope.autoFocusOnUnmount",Mv={bubbles:!1,cancelable:!0},KP="FocusScope",Xc=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=h.useState(null),u=Rt(s),d=Rt(i),f=h.useRef(null),m=ye(t,x=>c(x)),v=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let x=function(g){if(v.paused||!l)return;const j=g.target;l.contains(j)?f.current=j:dr(f.current,{select:!0})},w=function(g){if(v.paused||!l)return;const j=g.relatedTarget;j!==null&&(l.contains(j)||dr(f.current,{select:!0}))},y=function(g){if(document.activeElement===document.body)for(const S of g)S.removedNodes.length>0&&dr(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const p=new MutationObserver(y);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),p.disconnect()}}},[r,l,v.paused]),h.useEffect(()=>{if(l){Iv.add(v);const x=document.activeElement;if(!l.contains(x)){const y=new CustomEvent(ld,Mv);l.addEventListener(ld,u),l.dispatchEvent(y),y.defaultPrevented||(YP(eA(yb(l)),{select:!0}),document.activeElement===x&&dr(l))}return()=>{l.removeEventListener(ld,u),setTimeout(()=>{const y=new CustomEvent(cd,Mv);l.addEventListener(cd,d),l.dispatchEvent(y),y.defaultPrevented||dr(x??document.body,{select:!0}),l.removeEventListener(cd,d),Iv.remove(v)},0)}}},[l,u,d,v]);const b=h.useCallback(x=>{if(!n&&!r||v.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,y=document.activeElement;if(w&&y){const p=x.currentTarget,[g,j]=XP(p);g&&j?!x.shiftKey&&y===j?(x.preventDefault(),n&&dr(g,{select:!0})):x.shiftKey&&y===g&&(x.preventDefault(),n&&dr(j,{select:!0})):y===p&&x.preventDefault()}},[n,r,v.paused]);return a.jsx(se.div,{tabIndex:-1,...o,ref:m,onKeyDown:b})});Xc.displayName=KP;function YP(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(dr(r,{select:t}),document.activeElement!==n)return}function XP(e){const t=yb(e),n=Ov(t,e),r=Ov(t.reverse(),e);return[n,r]}function yb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ov(e,t){for(const n of e)if(!QP(n,{upTo:t}))return n}function QP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function JP(e){return e instanceof HTMLInputElement&&"select"in e}function dr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&JP(e)&&t&&e.select()}}var Iv=ZP();function ZP(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Lv(e,t),e.unshift(t)},remove(t){var n;e=Lv(e,t),(n=e[0])==null||n.resume()}}}function Lv(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function eA(e){return e.filter(t=>t.tagName!=="A")}var tA="Portal",wo=h.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=h.useState(!1);at(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?O2.createPortal(a.jsx(se.div,{...r,ref:t}),o):null});wo.displayName=tA;function nA(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var Fn=e=>{const{present:t,children:n}=e,r=rA(t),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),i=ye(r.ref,sA(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:i}):null};Fn.displayName="Presence";function rA(e){const[t,n]=h.useState(),r=h.useRef(null),s=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=nA(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=sl(r.current);i.current=l==="mounted"?u:"none"},[l]),at(()=>{const u=r.current,d=s.current;if(d!==e){const m=i.current,v=sl(u);e?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),at(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=v=>{const x=sl(r.current).includes(v.animationName);if(v.target===t&&x&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=v=>{v.target===t&&(i.current=sl(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function sl(e){return(e==null?void 0:e.animationName)||"none"}function sA(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ud=0;function Fm(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$v()),document.body.insertAdjacentElement("beforeend",e[1]??$v()),ud++,()=>{ud===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ud--}},[])}function $v(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Tn=function(){return Tn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Tn.apply(this,arguments)};function wb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function iA(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Tl="right-scroll-bar-position",Pl="width-before-scroll-bar",aA="with-scroll-bars-hidden",oA="--removed-body-scroll-bar-size";function dd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function lA(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var cA=typeof window<"u"?h.useLayoutEffect:h.useEffect,Fv=new WeakMap;function uA(e,t){var n=lA(t||null,function(r){return e.forEach(function(s){return dd(s,r)})});return cA(function(){var r=Fv.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(l){i.has(l)||dd(l,null)}),i.forEach(function(l){s.has(l)||dd(l,o)})}Fv.set(n,e)},[e]),n}function dA(e){return e}function fA(e,t){t===void 0&&(t=dA);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function hA(e){e===void 0&&(e={});var t=fA(null);return t.options=Tn({async:!0,ssr:!1},e),t}var bb=function(e){var t=e.sideCar,n=wb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Tn({},n))};bb.isSideCarExport=!0;function mA(e,t){return e.useMedium(t),bb}var jb=hA(),fd=function(){},Qc=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:fd,onWheelCapture:fd,onTouchMoveCapture:fd}),s=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,v=e.noRelative,b=e.noIsolation,x=e.inert,w=e.allowPinchZoom,y=e.as,p=y===void 0?"div":y,g=e.gapMode,j=wb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,k=uA([n,t]),_=Tn(Tn({},j),s);return h.createElement(h.Fragment,null,d&&h.createElement(S,{sideCar:jb,removeScrollBar:u,shards:f,noRelative:v,noIsolation:b,inert:x,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:g}),o?h.cloneElement(h.Children.only(l),Tn(Tn({},_),{ref:k})):h.createElement(p,Tn({},_,{className:c,ref:k}),l))});Qc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qc.classNames={fullWidth:Pl,zeroRight:Tl};var Vv,pA=function(){if(Vv)return Vv;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gA(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=pA();return t&&e.setAttribute("nonce",t),e}function vA(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function xA(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var yA=function(){var e=0,t=null;return{add:function(n){e==0&&(t=gA())&&(vA(t,n),xA(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},wA=function(){var e=yA();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Sb=function(){var e=wA(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},bA={left:0,top:0,right:0,gap:0},hd=function(e){return parseInt(e||"",10)||0},jA=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[hd(n),hd(r),hd(s)]},SA=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return bA;var t=jA(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},CA=Sb(),xi="data-scroll-locked",NA=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(aA,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(xi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tl,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Pl,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Tl," .").concat(Tl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Pl," .").concat(Pl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xi,`] {
    `).concat(oA,": ").concat(l,`px;
  }
`)},Uv=function(){var e=parseInt(document.body.getAttribute(xi)||"0",10);return isFinite(e)?e:0},kA=function(){h.useEffect(function(){return document.body.setAttribute(xi,(Uv()+1).toString()),function(){var e=Uv()-1;e<=0?document.body.removeAttribute(xi):document.body.setAttribute(xi,e.toString())}},[])},_A=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;kA();var i=h.useMemo(function(){return SA(s)},[s]);return h.createElement(CA,{styles:NA(i,!t,s,n?"":"!important")})},Ff=!1;if(typeof window<"u")try{var il=Object.defineProperty({},"passive",{get:function(){return Ff=!0,!0}});window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{Ff=!1}var Us=Ff?{passive:!1}:!1,EA=function(e){return e.tagName==="TEXTAREA"},Cb=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!EA(e)&&n[t]==="visible")},TA=function(e){return Cb(e,"overflowY")},PA=function(e){return Cb(e,"overflowX")},Bv=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Nb(e,r);if(s){var i=kb(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},AA=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},RA=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Nb=function(e,t){return e==="v"?TA(t):PA(t)},kb=function(e,t){return e==="v"?AA(t):RA(t)},DA=function(e,t){return e==="h"&&t==="rtl"?-1:1},MA=function(e,t,n,r,s){var i=DA(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var v=kb(e,l),b=v[0],x=v[1],w=v[2],y=x-w-i*b;(b||y)&&Nb(e,l)&&(f+=y,m+=b);var p=l.parentNode;l=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(s&&Math.abs(f)<1||!s&&o>f)||!d&&(s&&Math.abs(m)<1||!s&&-o>m))&&(u=!0),u},al=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},zv=function(e){return[e.deltaX,e.deltaY]},Wv=function(e){return e&&"current"in e?e.current:e},OA=function(e,t){return e[0]===t[0]&&e[1]===t[1]},IA=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},LA=0,Bs=[];function $A(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(LA++)[0],i=h.useState(Sb)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=iA([e.lockRef.current],(e.shards||[]).map(Wv),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var y=al(x),p=n.current,g="deltaX"in x?x.deltaX:p[0]-y[0],j="deltaY"in x?x.deltaY:p[1]-y[1],S,k=x.target,_=Math.abs(g)>Math.abs(j)?"h":"v";if("touches"in x&&_==="h"&&k.type==="range")return!1;var C=Bv(_,k);if(!C)return!0;if(C?S=_:(S=_==="v"?"h":"v",C=Bv(_,k)),!C)return!1;if(!r.current&&"changedTouches"in x&&(g||j)&&(r.current=S),!S)return!0;var N=r.current||S;return MA(N,w,x,N==="h"?g:j,!0)},[]),c=h.useCallback(function(x){var w=x;if(!(!Bs.length||Bs[Bs.length-1]!==i)){var y="deltaY"in w?zv(w):al(w),p=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&OA(S.delta,y)})[0];if(p&&p.should){w.cancelable&&w.preventDefault();return}if(!p){var g=(o.current.shards||[]).map(Wv).filter(Boolean).filter(function(S){return S.contains(w.target)}),j=g.length>0?l(w,g[0]):!o.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),u=h.useCallback(function(x,w,y,p){var g={name:x,delta:w,target:y,should:p,shadowParent:FA(y)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(j){return j!==g})},1)},[]),d=h.useCallback(function(x){n.current=al(x),r.current=void 0},[]),f=h.useCallback(function(x){u(x.type,zv(x),x.target,l(x,e.lockRef.current))},[]),m=h.useCallback(function(x){u(x.type,al(x),x.target,l(x,e.lockRef.current))},[]);h.useEffect(function(){return Bs.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Us),document.addEventListener("touchmove",c,Us),document.addEventListener("touchstart",d,Us),function(){Bs=Bs.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,Us),document.removeEventListener("touchmove",c,Us),document.removeEventListener("touchstart",d,Us)}},[]);var v=e.removeScrollBar,b=e.inert;return h.createElement(h.Fragment,null,b?h.createElement(i,{styles:IA(s)}):null,v?h.createElement(_A,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function FA(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const VA=mA(jb,$A);var _b=h.forwardRef(function(e,t){return h.createElement(Qc,Tn({},e,{ref:t,sideCar:VA}))});_b.classNames=Qc.classNames;const Vm=_b;var UA=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zs=new WeakMap,ol=new WeakMap,ll={},md=0,Eb=function(e){return e&&(e.host||Eb(e.parentNode))},BA=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Eb(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},zA=function(e,t,n,r){var s=BA(t,Array.isArray(e)?e:[e]);ll[n]||(ll[n]=new WeakMap);var i=ll[n],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var v=m.getAttribute(r),b=v!==null&&v!=="false",x=(zs.get(m)||0)+1,w=(i.get(m)||0)+1;zs.set(m,x),i.set(m,w),o.push(m),x===1&&b&&ol.set(m,!0),w===1&&m.setAttribute(n,"true"),b||m.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return d(t),l.clear(),md++,function(){o.forEach(function(f){var m=zs.get(f)-1,v=i.get(f)-1;zs.set(f,m),i.set(f,v),m||(ol.has(f)||f.removeAttribute(r),ol.delete(f)),v||f.removeAttribute(n)}),md--,md||(zs=new WeakMap,zs=new WeakMap,ol=new WeakMap,ll={})}},Um=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=t||UA(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),zA(r,s,n,"aria-hidden")):function(){return null}},Jc="Dialog",[Tb,Pb]=$n(Jc),[WA,Cn]=Tb(Jc),Ab=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=h.useRef(null),c=h.useRef(null),[u,d]=ys({prop:r,defaultProp:s??!1,onChange:i,caller:Jc});return a.jsx(WA,{scope:t,triggerRef:l,contentRef:c,contentId:Dn(),titleId:Dn(),descriptionId:Dn(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};Ab.displayName=Jc;var Rb="DialogTrigger",Db=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cn(Rb,n),i=ye(t,s.triggerRef);return a.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Wm(s.open),...r,ref:i,onClick:q(e.onClick,s.onOpenToggle)})});Db.displayName=Rb;var Bm="DialogPortal",[HA,Mb]=Tb(Bm,{forceMount:void 0}),Ob=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Cn(Bm,t);return a.jsx(HA,{scope:t,forceMount:n,children:h.Children.map(r,o=>a.jsx(Fn,{present:n||i.open,children:a.jsx(wo,{asChild:!0,container:s,children:o})}))})};Ob.displayName=Bm;var ic="DialogOverlay",Ib=h.forwardRef((e,t)=>{const n=Mb(ic,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Cn(ic,e.__scopeDialog);return i.modal?a.jsx(Fn,{present:r||i.open,children:a.jsx(qA,{...s,ref:t})}):null});Ib.displayName=ic;var GA=vs("DialogOverlay.RemoveScroll"),qA=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cn(ic,n);return a.jsx(Vm,{as:GA,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(se.div,{"data-state":Wm(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ws="DialogContent",Lb=h.forwardRef((e,t)=>{const n=Mb(ws,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Cn(ws,e.__scopeDialog);return a.jsx(Fn,{present:r||i.open,children:i.modal?a.jsx(KA,{...s,ref:t}):a.jsx(YA,{...s,ref:t})})});Lb.displayName=ws;var KA=h.forwardRef((e,t)=>{const n=Cn(ws,e.__scopeDialog),r=h.useRef(null),s=ye(t,n.contentRef,r);return h.useEffect(()=>{const i=r.current;if(i)return Um(i)},[]),a.jsx($b,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:q(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:q(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:q(e.onFocusOutside,i=>i.preventDefault())})}),YA=h.forwardRef((e,t)=>{const n=Cn(ws,e.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return a.jsx($b,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),$b=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Cn(ws,n),c=h.useRef(null),u=ye(t,c);return Fm(),a.jsxs(a.Fragment,{children:[a.jsx(Xc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(yo,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Wm(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(QA,{titleId:l.titleId}),a.jsx(ZA,{contentRef:c,descriptionId:l.descriptionId})]})]})}),zm="DialogTitle",Fb=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cn(zm,n);return a.jsx(se.h2,{id:s.titleId,...r,ref:t})});Fb.displayName=zm;var Vb="DialogDescription",Ub=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cn(Vb,n);return a.jsx(se.p,{id:s.descriptionId,...r,ref:t})});Ub.displayName=Vb;var Bb="DialogClose",zb=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cn(Bb,n);return a.jsx(se.button,{type:"button",...r,ref:t,onClick:q(e.onClick,()=>s.onOpenChange(!1))})});zb.displayName=Bb;function Wm(e){return e?"open":"closed"}var Wb="DialogTitleWarning",[XA,Hb]=RP(Wb,{contentName:ws,titleName:zm,docsSlug:"dialog"}),QA=({titleId:e})=>{const t=Hb(Wb),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},JA="DialogDescriptionWarning",ZA=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Hb(JA).contentName}}.`;return h.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Gb=Ab,qb=Db,Kb=Ob,Hm=Ib,Gm=Lb,qm=Fb,Km=Ub,Zc=zb;const Te=Gb,mt=qb,eR=Kb,st=Zc,Yb=X.forwardRef(({className:e,...t},n)=>a.jsx(Hm,{ref:n,className:ne("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Yb.displayName=Hm.displayName;const Se=X.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(eR,{children:[a.jsx(Yb,{}),a.jsxs(Gm,{ref:r,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(Zc,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx($m,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Se.displayName=Gm.displayName;const Ce=({className:e,...t})=>a.jsx("div",{className:ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ce.displayName="DialogHeader";const tt=({className:e,...t})=>a.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});tt.displayName="DialogFooter";const Ne=X.forwardRef(({className:e,...t},n)=>a.jsx(qm,{ref:n,className:ne("text-lg font-semibold leading-none tracking-tight",e),...t}));Ne.displayName=qm.displayName;const un=X.forwardRef(({className:e,...t},n)=>a.jsx(Km,{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));un.displayName=Km.displayName;const Xb=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),eu=h.createContext({}),tu=h.createContext(null),nu=typeof document<"u",Ym=nu?h.useLayoutEffect:h.useEffect,Qb=h.createContext({strict:!1}),Xm=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),tR="framerAppearId",Jb="data-"+Xm(tR);function nR(e,t,n,r){const{visualElement:s}=h.useContext(eu),i=h.useContext(Qb),o=h.useContext(tu),l=h.useContext(Xb).reducedMotion,c=h.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;h.useInsertionEffect(()=>{u&&u.update(n,o)});const d=h.useRef(!!(n[Jb]&&!window.HandoffComplete));return Ym(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function ii(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function rR(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ii(n)&&(n.current=r))},[t])}function eo(e){return typeof e=="string"||Array.isArray(e)}function ru(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Qm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jm=["initial",...Qm];function su(e){return ru(e.animate)||Jm.some(t=>eo(e[t]))}function Zb(e){return!!(su(e)||e.variants)}function sR(e,t){if(su(e)){const{initial:n,animate:r}=e;return{initial:n===!1||eo(n)?n:void 0,animate:eo(r)?r:void 0}}return e.inherit!==!1?t:{}}function iR(e){const{initial:t,animate:n}=sR(e,h.useContext(eu));return h.useMemo(()=>({initial:t,animate:n}),[Hv(t),Hv(n)])}function Hv(e){return Array.isArray(e)?e.join(" "):e}const Gv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},to={};for(const e in Gv)to[e]={isEnabled:t=>Gv[e].some(n=>!!t[n])};function aR(e){for(const t in e)to[t]={...to[t],...e[t]}}const Zm=h.createContext({}),e1=h.createContext({}),oR=Symbol.for("motionComponentSymbol");function lR({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&aR(e);function i(l,c){let u;const d={...h.useContext(Xb),...l,layoutId:cR(l)},{isStatic:f}=d,m=iR(l),v=r(l,f);if(!f&&nu){m.visualElement=nR(s,v,d,t);const b=h.useContext(e1),x=h.useContext(Qb).strict;m.visualElement&&(u=m.visualElement.loadFeatures(d,x,e,b))}return h.createElement(eu.Provider,{value:m},u&&m.visualElement?h.createElement(u,{visualElement:m.visualElement,...d}):null,n(s,l,rR(v,m.visualElement,c),v,f,m.visualElement))}const o=h.forwardRef(i);return o[oR]=s,o}function cR({layoutId:e}){const t=h.useContext(Zm).id;return t&&e!==void 0?t+"-"+e:e}function uR(e){function t(r,s={}){return lR(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const dR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ep(e){return typeof e!="string"||e.includes("-")?!1:!!(dR.indexOf(e)>-1||/[A-Z]/.test(e))}const ac={};function fR(e){Object.assign(ac,e)}const bo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],As=new Set(bo);function t1(e,{layout:t,layoutId:n}){return As.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ac[e]||e==="opacity")}const Dt=e=>!!(e&&e.getVelocity),hR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mR=bo.length;function pR(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<mR;o++){const l=bo[o];if(e[l]!==void 0){const c=hR[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,r?"":i):n&&r&&(i="none"),i}const n1=e=>t=>typeof t=="string"&&t.startsWith(e),r1=n1("--"),Vf=n1("var(--"),gR=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,vR=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ir=(e,t,n)=>Math.min(Math.max(n,e),t),Rs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Pa={...Rs,transform:e=>Ir(0,1,e)},cl={...Rs,default:1},Aa=e=>Math.round(e*1e5)/1e5,iu=/(-)?([\d]*\.?[\d])+/g,s1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,xR=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function jo(e){return typeof e=="string"}const So=e=>({test:t=>jo(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fr=So("deg"),Mn=So("%"),re=So("px"),yR=So("vh"),wR=So("vw"),qv={...Mn,parse:e=>Mn.parse(e)/100,transform:e=>Mn.transform(e*100)},Kv={...Rs,transform:Math.round},i1={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,size:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,rotate:fr,rotateX:fr,rotateY:fr,rotateZ:fr,scale:cl,scaleX:cl,scaleY:cl,scaleZ:cl,skew:fr,skewX:fr,skewY:fr,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:Pa,originX:qv,originY:qv,originZ:re,zIndex:Kv,fillOpacity:Pa,strokeOpacity:Pa,numOctaves:Kv};function tp(e,t,n,r){const{style:s,vars:i,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const m=t[f];if(r1(f)){i[f]=m;continue}const v=i1[f],b=vR(m,v);if(As.has(f)){if(c=!0,o[f]=b,!d)continue;m!==(v.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=b):s[f]=b}if(t.transform||(c||r?s.transform=pR(e.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:m="50%",originZ:v=0}=l;s.transformOrigin=`${f} ${m} ${v}`}}const np=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function a1(e,t,n){for(const r in t)!Dt(t[r])&&!t1(r,n)&&(e[r]=t[r])}function bR({transformTemplate:e},t,n){return h.useMemo(()=>{const r=np();return tp(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function jR(e,t,n){const r=e.style||{},s={};return a1(s,r,e),Object.assign(s,bR(e,t,n)),e.transformValues?e.transformValues(s):s}function SR(e,t,n){const r={},s=jR(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const CR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function oc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||CR.has(e)}let o1=e=>!oc(e);function NR(e){e&&(o1=t=>t.startsWith("on")?!oc(t):e(t))}try{NR(require("@emotion/is-prop-valid").default)}catch{}function kR(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(o1(s)||n===!0&&oc(s)||!t&&!oc(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Yv(e,t,n){return typeof e=="string"?e:re.transform(t+n*e)}function _R(e,t,n){const r=Yv(t,e.x,e.width),s=Yv(n,e.y,e.height);return`${r} ${s}`}const ER={offset:"stroke-dashoffset",array:"stroke-dasharray"},TR={offset:"strokeDashoffset",array:"strokeDasharray"};function PR(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?ER:TR;e[i.offset]=re.transform(-r);const o=re.transform(t),l=re.transform(n);e[i.array]=`${o} ${l}`}function rp(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f,m){if(tp(e,u,d,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:b,dimensions:x}=e;v.transform&&(x&&(b.transform=v.transform),delete v.transform),x&&(s!==void 0||i!==void 0||b.transform)&&(b.transformOrigin=_R(x,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),o!==void 0&&PR(v,o,l,c,!1)}const l1=()=>({...np(),attrs:{}}),sp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function AR(e,t,n,r){const s=h.useMemo(()=>{const i=l1();return rp(i,t,{enableHardwareAcceleration:!1},sp(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};a1(i,e.style,e),s.style={...i,...s.style}}return s}function RR(e=!1){return(n,r,s,{latestValues:i},o)=>{const c=(ep(n)?AR:SR)(r,i,o,n),d={...kR(r,typeof n=="string",e),...c,ref:s},{children:f}=r,m=h.useMemo(()=>Dt(f)?f.get():f,[f]);return h.createElement(n,{...d,children:m})}}function c1(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const u1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function d1(e,t,n,r){c1(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(u1.has(s)?s:Xm(s),t.attrs[s])}function ip(e,t){const{style:n}=e,r={};for(const s in n)(Dt(n[s])||t.style&&Dt(t.style[s])||t1(s,e))&&(r[s]=n[s]);return r}function f1(e,t){const n=ip(e,t);for(const r in e)if(Dt(e[r])||Dt(t[r])){const s=bo.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function ap(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function h1(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const lc=e=>Array.isArray(e),DR=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),MR=e=>lc(e)?e[e.length-1]||0:e;function Al(e){const t=Dt(e)?e.get():e;return DR(t)?t.toValue():t}function OR({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const o={latestValues:IR(r,s,i,e),renderState:t()};return n&&(o.mount=l=>n(r,l,o)),o}const m1=e=>(t,n)=>{const r=h.useContext(eu),s=h.useContext(tu),i=()=>OR(e,t,r,s);return n?i():h1(i)};function IR(e,t,n,r){const s={},i=r(e,{});for(const m in i)s[m]=Al(i[m]);let{initial:o,animate:l}=e;const c=su(e),u=Zb(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;return f&&typeof f!="boolean"&&!ru(f)&&(Array.isArray(f)?f:[f]).forEach(v=>{const b=ap(e,v);if(!b)return;const{transitionEnd:x,transition:w,...y}=b;for(const p in y){let g=y[p];if(Array.isArray(g)){const j=d?g.length-1:0;g=g[j]}g!==null&&(s[p]=g)}for(const p in x)s[p]=x[p]}),s}const Be=e=>e;class Xv{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function LR(e){let t=new Xv,n=new Xv,r=0,s=!1,i=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,m=f?t:n;return u&&o.add(c),m.add(c)&&f&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}s=!1,i&&(i=!1,l.process(c))}};return l}const ul=["prepare","read","update","preRender","render","postRender"],$R=40;function FR(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=ul.reduce((f,m)=>(f[m]=LR(()=>n=!0),f),{}),o=f=>i[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,$R),1),s.timestamp=f,s.isProcessing=!0,ul.forEach(o),s.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,s.isProcessing||e(l)};return{schedule:ul.reduce((f,m)=>{const v=i[m];return f[m]=(b,x=!1,w=!1)=>(n||c(),v.schedule(b,x,w)),f},{}),cancel:f=>ul.forEach(m=>i[m].cancel(f)),state:s,steps:i}}const{schedule:Ee,cancel:er,state:ut,steps:pd}=FR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Be,!0),VR={useVisualState:m1({scrapeMotionValuesFromProps:f1,createRenderState:l1,onMount:(e,t,{renderState:n,latestValues:r})=>{Ee.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ee.render(()=>{rp(n,r,{enableHardwareAcceleration:!1},sp(t.tagName),e.transformTemplate),d1(t,n)})}})},UR={useVisualState:m1({scrapeMotionValuesFromProps:ip,createRenderState:np})};function BR(e,{forwardMotionProps:t=!1},n,r){return{...ep(e)?VR:UR,preloadedFeatures:n,useRender:RR(t),createVisualElement:r,Component:e}}function Gn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const p1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function au(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const zR=e=>t=>p1(t)&&e(t,au(t));function Kn(e,t,n,r){return Gn(e,t,zR(n),r)}const WR=(e,t)=>n=>t(e(n)),Ar=(...e)=>e.reduce(WR);function g1(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Qv=g1("dragHorizontal"),Jv=g1("dragVertical");function v1(e){let t=!1;if(e==="y")t=Jv();else if(e==="x")t=Qv();else{const n=Qv(),r=Jv();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function x1(){const e=v1(!0);return e?(e(),!1):!0}class Wr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Zv(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||x1())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&Ee.update(()=>l[r](i,o))};return Kn(e.current,n,s,{passive:!e.getProps()[r]})}class HR extends Wr{mount(){this.unmount=Ar(Zv(this.node,!0),Zv(this.node,!1))}unmount(){}}class GR extends Wr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ar(Gn(this.node.current,"focus",()=>this.onFocus()),Gn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const y1=(e,t)=>t?e===t?!0:y1(e,t.parentElement):!1;function gd(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,au(n))}class qR extends Wr{constructor(){super(...arguments),this.removeStartListeners=Be,this.removeEndListeners=Be,this.removeAccessibleListeners=Be,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Kn(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Ee.update(()=>{!f&&!y1(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=Kn(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ar(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||gd("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Ee.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Gn(this.node.current,"keyup",o),gd("down",(l,c)=>{this.startPress(l,c)})},n=Gn(this.node.current,"keydown",t),r=()=>{this.isPressing&&gd("cancel",(i,o)=>this.cancelPress(i,o))},s=Gn(this.node.current,"blur",r);this.removeAccessibleListeners=Ar(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ee.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!x1()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ee.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Kn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Gn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ar(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Uf=new WeakMap,vd=new WeakMap,KR=e=>{const t=Uf.get(e.target);t&&t(e)},YR=e=>{e.forEach(KR)};function XR({root:e,...t}){const n=e||document;vd.has(n)||vd.set(n,{});const r=vd.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(YR,{root:e,...t})),r[s]}function QR(e,t,n){const r=XR(t);return Uf.set(e,n),r.observe(e),()=>{Uf.delete(e),r.unobserve(e)}}const JR={some:0,all:1};class ZR extends Wr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:JR[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return QR(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(eD(t,n))&&this.startObserver()}unmount(){}}function eD({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const tD={inView:{Feature:ZR},tap:{Feature:qR},focus:{Feature:GR},hover:{Feature:HR}};function w1(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function nD(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function rD(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function ou(e,t,n){const r=e.getProps();return ap(r,t,n!==void 0?n:r.custom,nD(e),rD(e))}let sD=Be,op=Be;const Rr=e=>e*1e3,Yn=e=>e/1e3,iD={current:!1},b1=e=>Array.isArray(e)&&typeof e[0]=="number";function j1(e){return!!(!e||typeof e=="string"&&S1[e]||b1(e)||Array.isArray(e)&&e.every(j1))}const ga=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,S1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ga([0,.65,.55,1]),circOut:ga([.55,0,1,.45]),backIn:ga([.31,.01,.66,-.59]),backOut:ga([.33,1.53,.69,.99])};function C1(e){if(e)return b1(e)?ga(e):Array.isArray(e)?e.map(C1):S1[e]}function aD(e,t,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=C1(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function oD(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const N1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,lD=1e-7,cD=12;function uD(e,t,n,r,s){let i,o,l=0;do o=t+(n-t)/2,i=N1(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>lD&&++l<cD);return o}function Co(e,t,n,r){if(e===t&&n===r)return Be;const s=i=>uD(i,0,1,e,n);return i=>i===0||i===1?i:N1(s(i),t,r)}const dD=Co(.42,0,1,1),fD=Co(0,0,.58,1),k1=Co(.42,0,.58,1),hD=e=>Array.isArray(e)&&typeof e[0]!="number",_1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,E1=e=>t=>1-e(1-t),lp=e=>1-Math.sin(Math.acos(e)),T1=E1(lp),mD=_1(lp),P1=Co(.33,1.53,.69,.99),cp=E1(P1),pD=_1(cp),gD=e=>(e*=2)<1?.5*cp(e):.5*(2-Math.pow(2,-10*(e-1))),vD={linear:Be,easeIn:dD,easeInOut:k1,easeOut:fD,circIn:lp,circInOut:mD,circOut:T1,backIn:cp,backInOut:pD,backOut:P1,anticipate:gD},ex=e=>{if(Array.isArray(e)){op(e.length===4);const[t,n,r,s]=e;return Co(t,n,r,s)}else if(typeof e=="string")return vD[e];return e},up=(e,t)=>n=>!!(jo(n)&&xR.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),A1=(e,t,n)=>r=>{if(!jo(r))return r;const[s,i,o,l]=r.match(iu);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},xD=e=>Ir(0,255,e),xd={...Rs,transform:e=>Math.round(xD(e))},ls={test:up("rgb","red"),parse:A1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+xd.transform(e)+", "+xd.transform(t)+", "+xd.transform(n)+", "+Aa(Pa.transform(r))+")"};function yD(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Bf={test:up("#"),parse:yD,transform:ls.transform},ai={test:up("hsl","hue"),parse:A1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Mn.transform(Aa(t))+", "+Mn.transform(Aa(n))+", "+Aa(Pa.transform(r))+")"},vt={test:e=>ls.test(e)||Bf.test(e)||ai.test(e),parse:e=>ls.test(e)?ls.parse(e):ai.test(e)?ai.parse(e):Bf.parse(e),transform:e=>jo(e)?e:e.hasOwnProperty("red")?ls.transform(e):ai.transform(e)},$e=(e,t,n)=>-n*e+n*t+e;function yd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function wD({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=yd(c,l,e+1/3),i=yd(c,l,e),o=yd(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const wd=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},bD=[Bf,ls,ai],jD=e=>bD.find(t=>t.test(e));function tx(e){const t=jD(e);let n=t.parse(e);return t===ai&&(n=wD(n)),n}const R1=(e,t)=>{const n=tx(e),r=tx(t),s={...n};return i=>(s.red=wd(n.red,r.red,i),s.green=wd(n.green,r.green,i),s.blue=wd(n.blue,r.blue,i),s.alpha=$e(n.alpha,r.alpha,i),ls.transform(s))};function SD(e){var t,n;return isNaN(e)&&jo(e)&&(((t=e.match(iu))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(s1))===null||n===void 0?void 0:n.length)||0)>0}const D1={regex:gR,countKey:"Vars",token:"${v}",parse:Be},M1={regex:s1,countKey:"Colors",token:"${c}",parse:vt.parse},O1={regex:iu,countKey:"Numbers",token:"${n}",parse:Rs.parse};function bd(e,{regex:t,countKey:n,token:r,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(s)))}function cc(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&bd(n,D1),bd(n,M1),bd(n,O1),n}function I1(e){return cc(e).values}function L1(e){const{values:t,numColors:n,numVars:r,tokenised:s}=cc(e),i=t.length;return o=>{let l=s;for(let c=0;c<i;c++)c<r?l=l.replace(D1.token,o[c]):c<r+n?l=l.replace(M1.token,vt.transform(o[c])):l=l.replace(O1.token,Aa(o[c]));return l}}const CD=e=>typeof e=="number"?0:e;function ND(e){const t=I1(e);return L1(e)(t.map(CD))}const Lr={test:SD,parse:I1,createTransformer:L1,getAnimatableNone:ND},$1=(e,t)=>n=>`${n>0?t:e}`;function F1(e,t){return typeof e=="number"?n=>$e(e,t,n):vt.test(e)?R1(e,t):e.startsWith("var(")?$1(e,t):U1(e,t)}const V1=(e,t)=>{const n=[...e],r=n.length,s=e.map((i,o)=>F1(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},kD=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=F1(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},U1=(e,t)=>{const n=Lr.createTransformer(t),r=cc(e),s=cc(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Ar(V1(r.values,s.values),n):$1(e,t)},no=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},nx=(e,t)=>n=>$e(e,t,n);function _D(e){return typeof e=="number"?nx:typeof e=="string"?vt.test(e)?R1:U1:Array.isArray(e)?V1:typeof e=="object"?kD:nx}function ED(e,t,n){const r=[],s=n||_D(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Be:t;l=Ar(c,l)}r.push(l)}return r}function B1(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(op(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=ED(t,r,s),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=no(e[d],e[d+1],u);return o[d](f)};return n?u=>c(Ir(e[0],e[i-1],u)):c}function TD(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=no(0,t,r);e.push($e(n,1,s))}}function PD(e){const t=[0];return TD(t,e.length-1),t}function AD(e,t){return e.map(n=>n*t)}function RD(e,t){return e.map(()=>t||k1).splice(0,e.length-1)}function uc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=hD(r)?r.map(ex):ex(r),i={done:!1,value:t[0]},o=AD(n&&n.length===t.length?n:PD(t),e),l=B1(o,t,{ease:Array.isArray(s)?s:RD(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function z1(e,t){return t?e*(1e3/t):0}const DD=5;function W1(e,t,n){const r=Math.max(t-DD,0);return z1(n-e(r),t-r)}const jd=.001,MD=.01,rx=10,OD=.05,ID=1;function LD({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i;sD(e<=Rr(rx));let o=1-t;o=Ir(OD,ID,o),e=Ir(MD,rx,Yn(e)),o<1?(s=u=>{const d=u*o,f=d*e,m=d-n,v=zf(u,o),b=Math.exp(-f);return jd-m/v*b},i=u=>{const f=u*o*e,m=f*n+n,v=Math.pow(o,2)*Math.pow(u,2)*e,b=Math.exp(-f),x=zf(Math.pow(u,2),o);return(-s(u)+jd>0?-1:1)*((m-v)*b)/x}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-jd+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=FD(s,i,l);if(e=Rr(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const $D=12;function FD(e,t,n){let r=n;for(let s=1;s<$D;s++)r=r-e(r)/t(r);return r}function zf(e,t){return e*Math.sqrt(1-t*t)}const VD=["duration","bounce"],UD=["stiffness","damping","mass"];function sx(e,t){return t.some(n=>e[n]!==void 0)}function BD(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!sx(e,UD)&&sx(e,VD)){const n=LD(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function H1({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:m}=BD({...r,velocity:-Yn(r.velocity||0)}),v=f||0,b=c/(2*Math.sqrt(l*u)),x=i-s,w=Yn(Math.sqrt(l/u)),y=Math.abs(x)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let p;if(b<1){const g=zf(w,b);p=j=>{const S=Math.exp(-b*w*j);return i-S*((v+b*w*x)/g*Math.sin(g*j)+x*Math.cos(g*j))}}else if(b===1)p=g=>i-Math.exp(-w*g)*(x+(v+w*x)*g);else{const g=w*Math.sqrt(b*b-1);p=j=>{const S=Math.exp(-b*w*j),k=Math.min(g*j,300);return i-S*((v+b*w*x)*Math.sinh(k)+g*x*Math.cosh(k))/g}}return{calculatedDuration:m&&d||null,next:g=>{const j=p(g);if(m)o.done=g>=d;else{let S=v;g!==0&&(b<1?S=W1(p,g,j):S=0);const k=Math.abs(S)<=n,_=Math.abs(i-j)<=t;o.done=k&&_}return o.value=o.done?i:j,o}}}function ix({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},v=C=>l!==void 0&&C<l||c!==void 0&&C>c,b=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let x=n*t;const w=f+x,y=o===void 0?w:o(w);y!==w&&(x=y-f);const p=C=>-x*Math.exp(-C/r),g=C=>y+p(C),j=C=>{const N=p(C),T=g(C);m.done=Math.abs(N)<=u,m.value=m.done?y:T};let S,k;const _=C=>{v(m.value)&&(S=C,k=H1({keyframes:[m.value,b(m.value)],velocity:W1(g,C,m.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:C=>{let N=!1;return!k&&S===void 0&&(N=!0,j(C),_(C)),S!==void 0&&C>S?k.next(C-S):(!N&&j(C),m)}}}const zD=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ee.update(t,!0),stop:()=>er(t),now:()=>ut.isProcessing?ut.timestamp:performance.now()}},ax=2e4;function ox(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<ax;)t+=n,r=e.next(t);return t>=ax?1/0:t}const WD={decay:ix,inertia:ix,tween:uc,keyframes:uc,spring:H1};function dc({autoplay:e=!0,delay:t=0,driver:n=zD,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...m}){let v=1,b=!1,x,w;const y=()=>{w=new Promise(U=>{x=U})};y();let p;const g=WD[s]||uc;let j;g!==uc&&typeof r[0]!="number"&&(j=B1([0,100],r,{clamp:!1}),r=[0,100]);const S=g({...m,keyframes:r});let k;l==="mirror"&&(k=g({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let _="idle",C=null,N=null,T=null;S.calculatedDuration===null&&i&&(S.calculatedDuration=ox(S));const{calculatedDuration:O}=S;let R=1/0,V=1/0;O!==null&&(R=O+o,V=R*(i+1)-o);let E=0;const I=U=>{if(N===null)return;v>0&&(N=Math.min(N,U)),v<0&&(N=Math.min(U-V/v,N)),C!==null?E=C:E=Math.round(U-N)*v;const K=E-t*(v>=0?1:-1),$=v>=0?K<0:K>V;E=Math.max(K,0),_==="finished"&&C===null&&(E=V);let te=E,ee=S;if(i){const ue=Math.min(E,V)/R;let le=Math.floor(ue),ce=ue%1;!ce&&ue>=1&&(ce=1),ce===1&&le--,le=Math.min(le,i+1),!!(le%2)&&(l==="reverse"?(ce=1-ce,o&&(ce-=o/R)):l==="mirror"&&(ee=k)),te=Ir(0,1,ce)*R}const J=$?{done:!1,value:r[0]}:ee.next(te);j&&(J.value=j(J.value));let{done:G}=J;!$&&O!==null&&(G=v>=0?E>=V:E<=0);const ae=C===null&&(_==="finished"||_==="running"&&G);return f&&f(J.value),ae&&A(),J},P=()=>{p&&p.stop(),p=void 0},z=()=>{_="idle",P(),x(),y(),N=T=null},A=()=>{_="finished",d&&d(),P(),x()},D=()=>{if(b)return;p||(p=n(I));const U=p.now();c&&c(),C!==null?N=U-C:(!N||_==="finished")&&(N=U),_==="finished"&&y(),T=N,C=null,_="running",p.start()};e&&D();const W={then(U,K){return w.then(U,K)},get time(){return Yn(E)},set time(U){U=Rr(U),E=U,C!==null||!p||v===0?C=U:N=p.now()-U/v},get duration(){const U=S.calculatedDuration===null?ox(S):S.calculatedDuration;return Yn(U)},get speed(){return v},set speed(U){U===v||!p||(v=U,W.time=Yn(E))},get state(){return _},play:D,pause:()=>{_="paused",C=E},stop:()=>{b=!0,_!=="idle"&&(_="idle",u&&u(),z())},cancel:()=>{T!==null&&I(T),z()},complete:()=>{_="finished"},sample:U=>(N=0,I(U))};return W}function HD(e){let t;return()=>(t===void 0&&(t=e()),t)}const GD=HD(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qD=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),dl=10,KD=2e4,YD=(e,t)=>t.type==="spring"||e==="backgroundColor"||!j1(t.ease);function XD(e,t,{onUpdate:n,onComplete:r,...s}){if(!(GD()&&qD.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(g=>{l=g})};d();let{keyframes:f,duration:m=300,ease:v,times:b}=s;if(YD(t,s)){const g=dc({...s,repeat:0,delay:0});let j={done:!1,value:f[0]};const S=[];let k=0;for(;!j.done&&k<KD;)j=g.sample(k),S.push(j.value),k+=dl;b=void 0,f=S,m=k-dl,v="linear"}const x=aD(e.owner.current,t,f,{...s,duration:m,ease:v,times:b}),w=()=>{u=!1,x.cancel()},y=()=>{u=!0,Ee.update(w),l(),d()};return x.onfinish=()=>{u||(e.set(oD(f,s)),r&&r(),y())},{then(g,j){return c.then(g,j)},attachTimeline(g){return x.timeline=g,x.onfinish=null,Be},get time(){return Yn(x.currentTime||0)},set time(g){x.currentTime=Rr(g)},get speed(){return x.playbackRate},set speed(g){x.playbackRate=g},get duration(){return Yn(m)},play:()=>{o||(x.play(),er(w))},pause:()=>x.pause(),stop:()=>{if(o=!0,x.playState==="idle")return;const{currentTime:g}=x;if(g){const j=dc({...s,autoplay:!1});e.setWithVelocity(j.sample(g-dl).value,j.sample(g).value,dl)}y()},complete:()=>{u||x.finish()},cancel:y}}function QD({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Be,pause:Be,stop:Be,then:i=>(i(),Promise.resolve()),cancel:Be,complete:Be});return t?dc({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const JD={type:"spring",stiffness:500,damping:25,restSpeed:10},ZD=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),eM={type:"keyframes",duration:.8},tM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nM=(e,{keyframes:t})=>t.length>2?eM:As.has(e)?e.startsWith("scale")?ZD(t[1]):JD:tM,Wf=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Lr.test(t)||t==="0")&&!t.startsWith("url(")),rM=new Set(["brightness","contrast","saturate","opacity"]);function sM(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(iu)||[];if(!r)return e;const s=n.replace(r,"");let i=rM.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const iM=/([a-z-]*)\(.*?\)/g,Hf={...Lr,getAnimatableNone:e=>{const t=e.match(iM);return t?t.map(sM).join(" "):e}},aM={...i1,color:vt,backgroundColor:vt,outlineColor:vt,fill:vt,stroke:vt,borderColor:vt,borderTopColor:vt,borderRightColor:vt,borderBottomColor:vt,borderLeftColor:vt,filter:Hf,WebkitFilter:Hf},dp=e=>aM[e];function G1(e,t){let n=dp(e);return n!==Hf&&(n=Lr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const q1=e=>/^0[^.\s]+$/.test(e);function oM(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||q1(e)}function lM(e,t,n,r){const s=Wf(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),oM(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];i[d]=G1(t,l)}return i}function cM({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function fp(e,t){return e[t]||e.default||e}const uM={skipAnimations:!1},hp=(e,t,n,r={})=>s=>{const i=fp(r,e)||{},o=i.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Rr(o);const c=lM(t,e,n,i),u=c[0],d=c[c.length-1],f=Wf(e,u),m=Wf(e,d);let v={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:b=>{t.set(b),i.onUpdate&&i.onUpdate(b)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(cM(i)||(v={...v,...nM(e,v)}),v.duration&&(v.duration=Rr(v.duration)),v.repeatDelay&&(v.repeatDelay=Rr(v.repeatDelay)),!f||!m||iD.current||i.type===!1||uM.skipAnimations)return QD(v);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const b=XD(t,e,v);if(b)return b}return dc(v)};function fc(e){return!!(Dt(e)&&e.add)}const K1=e=>/^\-?\d*\.?\d+$/.test(e);function mp(e,t){e.indexOf(t)===-1&&e.push(t)}function pp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class gp{constructor(){this.subscriptions=[]}add(t){return mp(this.subscriptions,t),()=>pp(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dM=e=>!isNaN(parseFloat(e));class fM{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=ut;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Ee.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ee.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=dM(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new gp);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ee.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?z1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ai(e,t){return new fM(e,t)}const Y1=e=>t=>t.test(e),hM={test:e=>e==="auto",parse:e=>e},X1=[Rs,re,Mn,fr,wR,yR,hM],aa=e=>X1.find(Y1(e)),mM=[...X1,vt,Lr],pM=e=>mM.find(Y1(e));function gM(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ai(n))}function vM(e,t){const n=ou(e,t);let{transitionEnd:r={},transition:s={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const l=MR(i[o]);gM(e,o,l)}}function xM(e,t,n){var r,s;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(K1(d)||q1(d))?d=parseFloat(d):!pM(d)&&Lr.test(u)&&(d=G1(c,u)),e.addValue(c,Ai(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function yM(e,t){return t?(t[e]||t.default||t).from:void 0}function wM(e,t,n){const r={};for(const s in e){const i=yM(s,t);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function bM({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function jM(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function Q1(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const m=e.getValue(f),v=l[f];if(!m||v===void 0||d&&bM(d,f))continue;const b={delay:n,elapsed:0,...fp(i||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[Jb];if(y){const p=window.HandoffAppearAnimations(y,f,m,Ee);p!==null&&(b.elapsed=p,b.isHandoff=!0)}}let x=!b.isHandoff&&!jM(m,v);if(b.type==="spring"&&(m.getVelocity()||b.velocity)&&(x=!1),m.animation&&(x=!1),x)continue;m.start(hp(f,m,v,e.shouldReduceMotion&&As.has(f)?{type:!1}:b));const w=m.animation;fc(c)&&(c.add(f),w.then(()=>c.remove(f))),u.push(w)}return o&&Promise.all(u).then(()=>{o&&vM(e,o)}),u}function Gf(e,t,n={}){const r=ou(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Q1(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return SM(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function SM(e,t,n=0,r=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(CM).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Gf(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function CM(e,t){return e.sortNodePosition(t)}function NM(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Gf(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Gf(e,t,n);else{const s=typeof t=="function"?ou(e,t,n.custom):t;r=Promise.all(Q1(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const kM=[...Qm].reverse(),_M=Qm.length;function EM(e){return t=>Promise.all(t.map(({animation:n,options:r})=>NM(e,n,r)))}function TM(e){let t=EM(e);const n=AM();let r=!0;const s=(c,u)=>{const d=ou(e,u);if(d){const{transition:f,transitionEnd:m,...v}=d;c={...c,...v,...m}}return c};function i(c){t=c(e)}function o(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},m=[],v=new Set;let b={},x=1/0;for(let y=0;y<_M;y++){const p=kM[y],g=n[p],j=d[p]!==void 0?d[p]:f[p],S=eo(j),k=p===u?g.isActive:null;k===!1&&(x=y);let _=j===f[p]&&j!==d[p]&&S;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),g.protectedKeys={...b},!g.isActive&&k===null||!j&&!g.prevProp||ru(j)||typeof j=="boolean")continue;let N=PM(g.prevProp,j)||p===u&&g.isActive&&!_&&S||y>x&&S,T=!1;const O=Array.isArray(j)?j:[j];let R=O.reduce(s,{});k===!1&&(R={});const{prevResolvedValues:V={}}=g,E={...V,...R},I=P=>{N=!0,v.has(P)&&(T=!0,v.delete(P)),g.needsAnimating[P]=!0};for(const P in E){const z=R[P],A=V[P];if(b.hasOwnProperty(P))continue;let D=!1;lc(z)&&lc(A)?D=!w1(z,A):D=z!==A,D?z!==void 0?I(P):v.add(P):z!==void 0&&v.has(P)?I(P):g.protectedKeys[P]=!0}g.prevProp=j,g.prevResolvedValues=R,g.isActive&&(b={...b,...R}),r&&e.blockInitialAnimation&&(N=!1),N&&(!_||T)&&m.push(...O.map(P=>({animation:P,options:{type:p,...c}})))}if(v.size){const y={};v.forEach(p=>{const g=e.getBaseTarget(p);g!==void 0&&(y[p]=g)}),m.push({animation:y})}let w=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(m):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(v=>{var b;return(b=v.animationState)===null||b===void 0?void 0:b.setActive(c,u)}),n[c].isActive=u;const m=o(d,c);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n}}function PM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!w1(t,e):!1}function Yr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AM(){return{animate:Yr(!0),whileInView:Yr(),whileHover:Yr(),whileTap:Yr(),whileDrag:Yr(),whileFocus:Yr(),exit:Yr()}}class RM extends Wr{constructor(t){super(t),t.animationState||(t.animationState=TM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),ru(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let DM=0;class MM extends Wr{constructor(){super(...arguments),this.id=DM++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const OM={animation:{Feature:RM},exit:{Feature:MM}},lx=(e,t)=>Math.abs(e-t);function IM(e,t){const n=lx(e.x,t.x),r=lx(e.y,t.y);return Math.sqrt(n**2+r**2)}class J1{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Cd(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=IM(f.offset,{x:0,y:0})>=3;if(!m&&!v)return;const{point:b}=f,{timestamp:x}=ut;this.history.push({...b,timestamp:x});const{onStart:w,onMove:y}=this.handlers;m||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Sd(m,this.transformPagePoint),Ee.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:v,onSessionEnd:b,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Cd(f.type==="pointercancel"?this.lastMoveEventInfo:Sd(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,w),b&&b(f,w)},!p1(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=au(t),l=Sd(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=ut;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Cd(l,this.history)),this.removeListeners=Ar(Kn(this.contextWindow,"pointermove",this.handlePointerMove),Kn(this.contextWindow,"pointerup",this.handlePointerUp),Kn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),er(this.updatePoint)}}function Sd(e,t){return t?{point:t(e.point)}:e}function cx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Cd({point:e},t){return{point:e,delta:cx(e,Z1(t)),offset:cx(e,LM(t)),velocity:$M(t,.1)}}function LM(e){return e[0]}function Z1(e){return e[e.length-1]}function $M(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Z1(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Rr(t)));)n--;if(!r)return{x:0,y:0};const i=Yn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ht(e){return e.max-e.min}function qf(e,t=0,n=.01){return Math.abs(e-t)<=n}function ux(e,t,n,r=.5){e.origin=r,e.originPoint=$e(t.min,t.max,e.origin),e.scale=Ht(n)/Ht(t),(qf(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=$e(n.min,n.max,e.origin)-e.originPoint,(qf(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ra(e,t,n,r){ux(e.x,t.x,n.x,r?r.originX:void 0),ux(e.y,t.y,n.y,r?r.originY:void 0)}function dx(e,t,n){e.min=n.min+t.min,e.max=e.min+Ht(t)}function FM(e,t,n){dx(e.x,t.x,n.x),dx(e.y,t.y,n.y)}function fx(e,t,n){e.min=t.min-n.min,e.max=e.min+Ht(t)}function Da(e,t,n){fx(e.x,t.x,n.x),fx(e.y,t.y,n.y)}function VM(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?$e(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?$e(n,e,r.max):Math.min(e,n)),e}function hx(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function UM(e,{top:t,left:n,bottom:r,right:s}){return{x:hx(e.x,n,s),y:hx(e.y,t,r)}}function mx(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function BM(e,t){return{x:mx(e.x,t.x),y:mx(e.y,t.y)}}function zM(e,t){let n=.5;const r=Ht(e),s=Ht(t);return s>r?n=no(t.min,t.max-r,e.min):r>s&&(n=no(e.min,e.max-s,t.min)),Ir(0,1,n)}function WM(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Kf=.35;function HM(e=Kf){return e===!1?e=0:e===!0&&(e=Kf),{x:px(e,"left","right"),y:px(e,"top","bottom")}}function px(e,t,n){return{min:gx(e,t),max:gx(e,n)}}function gx(e,t){return typeof e=="number"?e:e[t]||0}const vx=()=>({translate:0,scale:1,origin:0,originPoint:0}),oi=()=>({x:vx(),y:vx()}),xx=()=>({min:0,max:0}),We=()=>({x:xx(),y:xx()});function Jt(e){return[e("x"),e("y")]}function ej({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function GM({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function qM(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Nd(e){return e===void 0||e===1}function Yf({scale:e,scaleX:t,scaleY:n}){return!Nd(e)||!Nd(t)||!Nd(n)}function Zr(e){return Yf(e)||tj(e)||e.z||e.rotate||e.rotateX||e.rotateY}function tj(e){return yx(e.x)||yx(e.y)}function yx(e){return e&&e!=="0%"}function hc(e,t,n){const r=e-n,s=t*r;return n+s}function wx(e,t,n,r,s){return s!==void 0&&(e=hc(e,s,r)),hc(e,n,r)+t}function Xf(e,t=0,n=1,r,s){e.min=wx(e.min,t,n,r,s),e.max=wx(e.max,t,n,r,s)}function nj(e,{x:t,y:n}){Xf(e.x,t.translate,t.scale,t.originPoint),Xf(e.y,n.translate,n.scale,n.originPoint)}function KM(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&li(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,nj(e,o)),r&&Zr(i.latestValues)&&li(e,i.latestValues))}t.x=bx(t.x),t.y=bx(t.y)}function bx(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function gr(e,t){e.min=e.min+t,e.max=e.max+t}function jx(e,t,[n,r,s]){const i=t[s]!==void 0?t[s]:.5,o=$e(e.min,e.max,i);Xf(e,t[n],t[r],o,t.scale)}const YM=["x","scaleX","originX"],XM=["y","scaleY","originY"];function li(e,t){jx(e.x,t,YM),jx(e.y,t,XM)}function rj(e,t){return ej(qM(e.getBoundingClientRect(),t))}function QM(e,t,n){const r=rj(e,n),{scroll:s}=t;return s&&(gr(r.x,s.offset.x),gr(r.y,s.offset.y)),r}const sj=({current:e})=>e?e.ownerDocument.defaultView:null,JM=new WeakMap;class ZM{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=We(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(au(d,"page").point)},i=(d,f)=>{const{drag:m,dragPropagation:v,onDragStart:b}=this.getProps();if(m&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=v1(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jt(w=>{let y=this.getAxisMotionValue(w).get()||0;if(Mn.test(y)){const{projection:p}=this.visualElement;if(p&&p.layout){const g=p.layout.layoutBox[w];g&&(y=Ht(g)*(parseFloat(y)/100))}}this.originPoint[w]=y}),b&&Ee.update(()=>b(d,f),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:b,onDrag:x}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:w}=f;if(v&&this.currentDirection===null){this.currentDirection=eO(w),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),x&&x(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Jt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new J1(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:sj(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Ee.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!fl(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=VM(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&ii(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=UM(s.layoutBox,n):this.constraints=!1,this.elastic=HM(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Jt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=WM(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ii(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=QM(r,s.root,this.visualElement.getTransformPagePoint());let o=BM(s.layout.layoutBox,i);if(n){const l=n(GM(o));this.hasMutatedConstraints=!!l,l&&(o=ej(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Jt(d=>{if(!fl(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const m=s?200:1e6,v=s?40:1e7,b={type:"inertia",velocity:r?t[d]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,b)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(hp(t,r,0,n))}stopAnimation(){Jt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Jt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Jt(n=>{const{drag:r}=this.getProps();if(!fl(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(t[n]-$e(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ii(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Jt(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();s[o]=zM({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Jt(o=>{if(!fl(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set($e(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;JM.set(this.visualElement,this);const t=this.visualElement.current,n=Kn(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ii(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Gn(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Jt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Kf,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function fl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function eO(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class tO extends Wr{constructor(t){super(t),this.removeGroupControls=Be,this.removeListeners=Be,this.controls=new ZM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Be}unmount(){this.removeGroupControls(),this.removeListeners()}}const Sx=e=>(t,n)=>{e&&Ee.update(()=>e(t,n))};class nO extends Wr{constructor(){super(...arguments),this.removePointerDownListener=Be}onPointerDown(t){this.session=new J1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Sx(t),onStart:Sx(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Ee.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Kn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function rO(){const e=h.useContext(tu);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=h.useId();return h.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const Rl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Cx(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const oa={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(re.test(e))e=parseFloat(e);else return e;const n=Cx(e,t.target.x),r=Cx(e,t.target.y);return`${n}% ${r}%`}},sO={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Lr.parse(e);if(s.length>5)return r;const i=Lr.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=$e(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class iO extends X.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;fR(aO),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Rl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Ee.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ij(e){const[t,n]=rO(),r=h.useContext(Zm);return X.createElement(iO,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(e1),isPresent:t,safeToRemove:n})}const aO={borderRadius:{...oa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oa,borderTopRightRadius:oa,borderBottomLeftRadius:oa,borderBottomRightRadius:oa,boxShadow:sO},aj=["TopLeft","TopRight","BottomLeft","BottomRight"],oO=aj.length,Nx=e=>typeof e=="string"?parseFloat(e):e,kx=e=>typeof e=="number"||re.test(e);function lO(e,t,n,r,s,i){s?(e.opacity=$e(0,n.opacity!==void 0?n.opacity:1,cO(r)),e.opacityExit=$e(t.opacity!==void 0?t.opacity:1,0,uO(r))):i&&(e.opacity=$e(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<oO;o++){const l=`border${aj[o]}Radius`;let c=_x(t,l),u=_x(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||kx(c)===kx(u)?(e[l]=Math.max($e(Nx(c),Nx(u),r),0),(Mn.test(u)||Mn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=$e(t.rotate||0,n.rotate||0,r))}function _x(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const cO=oj(0,.5,T1),uO=oj(.5,.95,Be);function oj(e,t,n){return r=>r<e?0:r>t?1:n(no(e,t,r))}function Ex(e,t){e.min=t.min,e.max=t.max}function Qt(e,t){Ex(e.x,t.x),Ex(e.y,t.y)}function Tx(e,t,n,r,s){return e-=t,e=hc(e,1/n,r),s!==void 0&&(e=hc(e,1/s,r)),e}function dO(e,t=0,n=1,r=.5,s,i=e,o=e){if(Mn.test(t)&&(t=parseFloat(t),t=$e(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=$e(i.min,i.max,r);e===i&&(l-=t),e.min=Tx(e.min,t,n,l,s),e.max=Tx(e.max,t,n,l,s)}function Px(e,t,[n,r,s],i,o){dO(e,t[n],t[r],t[s],t.scale,i,o)}const fO=["x","scaleX","originX"],hO=["y","scaleY","originY"];function Ax(e,t,n,r){Px(e.x,t,fO,n?n.x:void 0,r?r.x:void 0),Px(e.y,t,hO,n?n.y:void 0,r?r.y:void 0)}function Rx(e){return e.translate===0&&e.scale===1}function lj(e){return Rx(e.x)&&Rx(e.y)}function mO(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function cj(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Dx(e){return Ht(e.x)/Ht(e.y)}class pO{constructor(){this.members=[]}add(t){mp(this.members,t),t.scheduleRender()}remove(t){if(pp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Mx(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const gO=(e,t)=>e.depth-t.depth;class vO{constructor(){this.children=[],this.isDirty=!1}add(t){mp(this.children,t),this.isDirty=!0}remove(t){pp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(gO),this.isDirty=!1,this.children.forEach(t)}}function xO(e,t){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(er(r),e(i-t))};return Ee.read(r,!0),()=>er(r)}function yO(e){window.MotionDebug&&window.MotionDebug.record(e)}function wO(e){return e instanceof SVGElement&&e.tagName!=="svg"}function bO(e,t,n){const r=Dt(e)?e:Ai(e);return r.start(hp("",r,t,n)),r.animation}const Ox=["","X","Y","Z"],jO={visibility:"hidden"},Ix=1e3;let SO=0;const es={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function uj({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=SO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,es.totalNodes=es.resolvedTargetDeltas=es.recalculatedProjection=0,this.nodes.forEach(kO),this.nodes.forEach(AO),this.nodes.forEach(RO),this.nodes.forEach(_O),yO(es)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new vO)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new gp),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=wO(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=xO(m,250),Rl.hasAnimatedSinceResize&&(Rl.hasAnimatedSinceResize=!1,this.nodes.forEach($x))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:v,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||LO,{onLayoutAnimationStart:w,onLayoutAnimationComplete:y}=d.getProps(),p=!this.targetLayout||!cj(this.targetLayout,b)||v,g=!m&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||m&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,g);const j={...fp(x,"layout"),onPlay:w,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||$x(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,er(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DO),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lx);return}this.isUpdating||this.nodes.forEach(TO),this.isUpdating=!1,this.nodes.forEach(PO),this.nodes.forEach(CO),this.nodes.forEach(NO),this.clearAllSnapshots();const l=performance.now();ut.delta=Ir(0,1e3/60,l-ut.timestamp),ut.timestamp=l,ut.isProcessing=!0,pd.update.process(ut),pd.preRender.process(ut),pd.render.process(ut),ut.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(EO),this.sharedNodes.forEach(MO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=We(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!lj(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Zr(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),$O(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return We();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(gr(l.x,c.offset.x),gr(l.y,c.offset.y)),l}removeElementScroll(o){const l=We();Qt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Qt(l,o);const{scroll:m}=this.root;m&&(gr(l.x,-m.offset.x),gr(l.y,-m.offset.y))}gr(l.x,d.offset.x),gr(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=We();Qt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&li(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Zr(d.latestValues)&&li(c,d.latestValues)}return Zr(this.latestValues)&&li(c,this.latestValues),c}removeTransform(o){const l=We();Qt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Zr(u.latestValues))continue;Yf(u.latestValues)&&u.updateSnapshot();const d=We(),f=u.measurePageBox();Qt(d,f),Ax(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Zr(this.latestValues)&&Ax(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ut.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=ut.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),Da(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=We(),this.targetWithTransforms=We()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qt(this.target,this.layout.layoutBox),nj(this.target,this.targetDelta)):Qt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),Da(this.relativeTargetOrigin,this.target,v.target),Qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}es.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Yf(this.parent.latestValues)||tj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ut.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Qt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;KM(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:b}=l;if(!b){this.projectionTransform&&(this.projectionDelta=oi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=oi(),this.projectionDeltaWithTransform=oi());const x=this.projectionTransform;Ra(this.projectionDelta,this.layoutCorrected,b,this.latestValues),this.projectionTransform=Mx(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==m||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),es.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=oi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=We(),v=c?c.source:void 0,b=this.layout?this.layout.source:void 0,x=v!==b,w=this.getStack(),y=!w||w.members.length<=1,p=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(IO));this.animationProgress=0;let g;this.mixTargetDelta=j=>{const S=j/1e3;Fx(f.x,o.x,S),Fx(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Da(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OO(this.relativeTarget,this.relativeTargetOrigin,m,S),g&&mO(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=We()),Qt(g,this.relativeTarget)),x&&(this.animationValues=d,lO(d,u,this.latestValues,S,p,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(er(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ee.update(()=>{Rl.hasAnimatedSinceResize=!0,this.currentAnimation=bO(0,Ix,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ix),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&dj(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||We();const f=Ht(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=Ht(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}Qt(l,c),li(l,d),Ra(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new pO),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<Ox.length;d++){const f="rotate"+Ox[d];c[f]&&(u[f]=c[f],o.setStaticValue(f,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return jO;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Al(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Al(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Zr(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Mx(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:v,y:b}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in ac){if(m[x]===void 0)continue;const{correct:w,applyTo:y}=ac[x],p=u.transform==="none"?m[x]:w(m[x],f);if(y){const g=y.length;for(let j=0;j<g;j++)u[y[j]]=p}else u[x]=p}return this.options.layoutId&&(u.pointerEvents=f===this?Al(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Lx),this.root.sharedNodes.clear()}}}function CO(e){e.updateLayout()}function NO(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Jt(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],v=Ht(m);m.min=r[f].min,m.max=m.min+v}):dj(i,n.layoutBox,r)&&Jt(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],v=Ht(r[f]);m.max=m.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+v)});const l=oi();Ra(l,r,n.layoutBox);const c=oi();o?Ra(c,e.applyTransform(s,!0),n.measuredBox):Ra(c,r,n.layoutBox);const u=!lj(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:v}=f;if(m&&v){const b=We();Da(b,n.layoutBox,m.layoutBox);const x=We();Da(x,r,v.layoutBox),cj(b,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=b,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function kO(e){es.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function _O(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function EO(e){e.clearSnapshot()}function Lx(e){e.clearMeasurements()}function TO(e){e.isLayoutDirty=!1}function PO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function $x(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function AO(e){e.resolveTargetDelta()}function RO(e){e.calcProjection()}function DO(e){e.resetRotation()}function MO(e){e.removeLeadSnapshot()}function Fx(e,t,n){e.translate=$e(t.translate,0,n),e.scale=$e(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Vx(e,t,n,r){e.min=$e(t.min,n.min,r),e.max=$e(t.max,n.max,r)}function OO(e,t,n,r){Vx(e.x,t.x,n.x,r),Vx(e.y,t.y,n.y,r)}function IO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const LO={duration:.45,ease:[.4,0,.1,1]},Ux=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Bx=Ux("applewebkit/")&&!Ux("chrome/")?Math.round:Be;function zx(e){e.min=Bx(e.min),e.max=Bx(e.max)}function $O(e){zx(e.x),zx(e.y)}function dj(e,t,n){return e==="position"||e==="preserve-aspect"&&!qf(Dx(t),Dx(n),.2)}const FO=uj({attachResizeListener:(e,t)=>Gn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kd={current:void 0},fj=uj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!kd.current){const e=new FO({});e.mount(window),e.setOptions({layoutScroll:!0}),kd.current=e}return kd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),VO={pan:{Feature:nO},drag:{Feature:tO,ProjectionNode:fj,MeasureLayout:ij}},UO=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function BO(e){const t=UO.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Qf(e,t,n=1){const[r,s]=BO(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return K1(o)?parseFloat(o):o}else return Vf(s)?Qf(s,t,n+1):s}function zO(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const i=s.get();if(!Vf(i))return;const o=Qf(i,r);o&&s.set(o)});for(const s in t){const i=t[s];if(!Vf(i))continue;const o=Qf(i,r);o&&(t[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:t,transitionEnd:n}}const WO=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),hj=e=>WO.has(e),HO=e=>Object.keys(e).some(hj),Wx=e=>e===Rs||e===re,Hx=(e,t)=>parseFloat(e.split(", ")[t]),Gx=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Hx(s[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?Hx(i[1],e):0}},GO=new Set(["x","y","z"]),qO=bo.filter(e=>!GO.has(e));function KO(e){const t=[];return qO.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ri={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Gx(4,13),y:Gx(5,14)};Ri.translateX=Ri.x;Ri.translateY=Ri.y;const YO=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=Ri[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=Ri[u](c,i)}),e},XO=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(hj);let i=[],o=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=aa(d);const m=t[c];let v;if(lc(m)){const b=m.length,x=m[0]===null?1:0;d=m[x],f=aa(d);for(let w=x;w<b&&m[w]!==null;w++)v?op(aa(m[w])===v):v=aa(m[w])}else v=aa(m);if(f!==v)if(Wx(f)&&Wx(v)){const b=u.get();typeof b=="string"&&u.set(parseFloat(b)),typeof m=="string"?t[c]=parseFloat(m):Array.isArray(m)&&v===re&&(t[c]=m.map(parseFloat))}else f!=null&&f.transform&&(v!=null&&v.transform)&&(d===0||m===0)?d===0?u.set(v.transform(d)):t[c]=f.transform(m):(o||(i=KO(e),o=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=YO(t,e,l);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),nu&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function QO(e,t,n,r){return HO(t)?XO(e,t,n,r):{target:t,transitionEnd:r}}const JO=(e,t,n,r)=>{const s=zO(e,t,r);return t=s.target,r=s.transitionEnd,QO(e,t,n,r)},Jf={current:null},mj={current:!1};function ZO(){if(mj.current=!0,!!nu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Jf.current=e.matches;e.addListener(t),t()}else Jf.current=!1}function eI(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],o=n[s];if(Dt(i))e.addValue(s,i),fc(r)&&r.add(s);else if(Dt(o))e.addValue(s,Ai(i,{owner:e})),fc(r)&&r.remove(s);else if(o!==i)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(s);e.addValue(s,Ai(l!==void 0?l:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const qx=new WeakMap,pj=Object.keys(to),tI=pj.length,Kx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],nI=Jm.length;class rI{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ee.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=su(n),this.isVariantNode=Zb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const m=d[f];l[f]!==void 0&&Dt(m)&&(m.set(l[f],!1),fc(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,qx.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),mj.current||ZO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){qx.delete(this.current),this.projection&&this.projection.unmount(),er(this.notifyUpdate),er(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=As.has(t),s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ee.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,i){let o,l;for(let c=0;c<tI;c++){const u=pj[c],{isEnabled:d,Feature:f,ProjectionNode:m,MeasureLayout:v}=to[u];m&&(o=m),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),v&&(l=v))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:m,layoutRoot:v}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&ii(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:v})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):We()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Kx.length;r++){const s=Kx[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=eI(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<nI;r++){const s=Jm[r],i=this.props[s];(eo(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ai(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=ap(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Dt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new gp),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class gj extends rI{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},i){let o=wM(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){xM(this,r,o);const l=JO(this,r,o,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function sI(e){return window.getComputedStyle(e)}class iI extends gj{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(As.has(n)){const r=dp(n);return r&&r.default||0}else{const r=sI(t),s=(r1(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return rj(t,n)}build(t,n,r,s){tp(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return ip(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Dt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){c1(t,n,r,s)}}class aI extends gj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(As.has(n)){const r=dp(n);return r&&r.default||0}return n=u1.has(n)?n:Xm(n),t.getAttribute(n)}measureInstanceViewportBox(){return We()}scrapeMotionValuesFromProps(t,n){return f1(t,n)}build(t,n,r,s){rp(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){d1(t,n,r,s)}mount(t){this.isSVGTag=sp(t.tagName),super.mount(t)}}const oI=(e,t)=>ep(e)?new aI(t,{enableHardwareAcceleration:!1}):new iI(t,{enableHardwareAcceleration:!0}),lI={layout:{ProjectionNode:fj,MeasureLayout:ij}},cI={...OM,...tD,...VO,...lI},Pe=uR((e,t)=>BR(e,t,cI,oI));function vj(){const e=h.useRef(!1);return Ym(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function uI(){const e=vj(),[t,n]=h.useState(0),r=h.useCallback(()=>{e.current&&n(t+1)},[t]);return[h.useCallback(()=>Ee.postRender(r),[r]),t]}class dI extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function fI({children:e,isPresent:t}){const n=h.useId(),r=h.useRef(null),s=h.useRef({width:0,height:0,top:0,left:0});return h.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=s.current;if(t||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),h.createElement(dI,{isPresent:t,childRef:r,sizeRef:s},h.cloneElement(e,{ref:r}))}const _d=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=h1(hI),c=h.useId(),u=h.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),i?void 0:[n]);return h.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),h.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=h.createElement(fI,{isPresent:n},e)),h.createElement(tu.Provider,{value:u},e)};function hI(){return new Map}function mI(e){return h.useEffect(()=>()=>e(),[])}const ts=e=>e.key||"";function pI(e,t){e.forEach(n=>{const r=ts(n);t.set(r,n)})}function gI(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const vp=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=h.useContext(Zm).forceRender||uI()[0],c=vj(),u=gI(e);let d=u;const f=h.useRef(new Map).current,m=h.useRef(d),v=h.useRef(new Map).current,b=h.useRef(!0);if(Ym(()=>{b.current=!1,pI(u,v),m.current=d}),mI(()=>{b.current=!0,v.clear(),f.clear()}),b.current)return h.createElement(h.Fragment,null,d.map(p=>h.createElement(_d,{key:ts(p),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},p)));d=[...d];const x=m.current.map(ts),w=u.map(ts),y=x.length;for(let p=0;p<y;p++){const g=x[p];w.indexOf(g)===-1&&!f.has(g)&&f.set(g,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((p,g)=>{if(w.indexOf(g)!==-1)return;const j=v.get(g);if(!j)return;const S=x.indexOf(g);let k=p;if(!k){const _=()=>{f.delete(g);const C=Array.from(v.keys()).filter(N=>!w.includes(N));if(C.forEach(N=>v.delete(N)),m.current=u.filter(N=>{const T=ts(N);return T===g||C.includes(T)}),!f.size){if(c.current===!1)return;l(),r&&r()}};k=h.createElement(_d,{key:ts(j),isPresent:!1,onExitComplete:_,custom:t,presenceAffectsLayout:i,mode:o},j),f.set(g,k)}d.splice(S,0,k)}),d=d.map(p=>{const g=p.key;return f.has(g)?p:h.createElement(_d,{key:ts(p),isPresent:!0,presenceAffectsLayout:i,mode:o},p)}),h.createElement(h.Fragment,null,f.size?d:d.map(p=>h.cloneElement(p)))};function vI({onLogin:e,onQuickLogin:t,onSignup:n}){const[r,s]=h.useState(""),[i,o]=h.useState(""),[l,c]=h.useState(!1),{toast:u}=Oe(),{QUICK_LOGIN_USERS:d,seedUsers:f}=ot(),[m,v]=h.useState(""),[b,x]=h.useState(""),[w,y]=h.useState(""),[p,g]=h.useState(""),[j,S]=h.useState(""),[k,_]=h.useState(!1),C=async P=>{P.preventDefault(),c(!0);const z=await e(r,i);O(z),c(!1)},N=async(P,z)=>{c(!0);const A=await t(P,z);O(A),c(!1)},T=async P=>{P.preventDefault(),c(!0);const z=await n({name:m,email:b,password:w,phone:p,address:j});z.success&&z.message?(u({title:"Signup Almost Done!",description:z.message,variant:"default"}),_(!1)):O(z,"Signup Successful!"),z.success&&(_(!1),v(""),x(""),y(""),g(""),S("")),c(!1)},O=(P,z="Login Successful!")=>{P.success?u({title:z,description:`Welcome to eGoa Sarathi, ${P.user.name}!`,variant:"default"}):u({title:"Action Failed",description:P.error,variant:"destructive"})},R=async()=>{c(!0),u({title:"Initializing Database...",description:"Please wait while we set up the demo users."});const P=await f();c(!1),P.errorCount>0?(u({title:"Setup Complete!",description:`${P.successCount} users ready. You can now use Quick Login buttons.`,variant:"default"}),P.errors.length>0&&console.log("Some users may already exist:",P.errors)):u({title:"Database Initialized!",description:`Successfully created ${P.successCount} demo users. You can now use Quick Login.`})},V=d.filter(P=>P.role==="customer"),E=d.filter(P=>P.role==="vle"),I=d.find(P=>P.role==="admin");return a.jsxs("div",{className:"min-h-screen gradient-bg flex items-center justify-center p-4 overflow-hidden",children:[a.jsxs(Pe.div,{className:"w-full max-w-sm space-y-6",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[a.jsxs("div",{className:"text-center text-white",children:[a.jsx(Pe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:260,damping:20},children:a.jsx(mb,{className:"mx-auto h-16 w-16 mb-3 text-white drop-shadow-lg"})}),a.jsx("h1",{className:"text-4xl font-poppins font-bold mb-1 drop-shadow-md",children:"eGoa Sarathi"}),a.jsx("p",{className:"text-lg font-inter opacity-90 drop-shadow-sm",children:"Streamlined Citizen Services"})]}),a.jsxs(ie,{className:"glass-effect border-white/20 rounded-xl",children:[a.jsxs(fe,{className:"text-center pt-5 pb-4",children:[a.jsxs(ge,{className:"flex items-center justify-center gap-2 text-xl font-poppins text-white",children:[a.jsx(kP,{className:"h-5 w-5"}),"Login to Your Portal"]}),a.jsx(je,{className:"text-white/80 font-inter text-xs",children:"Access services with your credentials or quick login."})]}),a.jsx(oe,{className:"px-5 pb-5",children:a.jsxs("form",{onSubmit:C,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(B,{htmlFor:"email",className:"login-label",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(ub,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-white/50"}),a.jsx(Z,{id:"email",type:"email",placeholder:"your.email@example.com",value:r,onChange:P=>s(P.target.value),className:"login-input rounded-lg h-11 text-sm",required:!0})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(B,{htmlFor:"password",className:"login-label",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(NP,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-white/50"}),a.jsx(Z,{id:"password",type:"password",placeholder:"",value:i,onChange:P=>o(P.target.value),className:"login-input rounded-lg h-11 text-sm",required:!0})]})]}),a.jsx(L,{type:"submit",className:"w-full bg-white text-blue-700 hover:bg-white/90 font-semibold text-sm py-2.5 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 h-11",disabled:l,children:l?"Verifying...":"Secure Sign In"})]})}),a.jsxs(Ps,{className:"flex flex-col space-y-3 pt-4 px-5 pb-5",children:[a.jsx("p",{className:"text-xs text-center text-white/70 font-inter",children:"Or login instantly as:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 w-full",children:[I&&a.jsxs(L,{variant:"outline",className:"quick-login-btn text-xs col-span-2",onClick:()=>N(I.email,I.password),disabled:l,children:[a.jsx(PP,{className:"mr-1.5 h-3.5 w-3.5"}),"Admin (",I.user_id_custom,")"]}),E.map(P=>a.jsxs(L,{variant:"outline",className:"quick-login-btn text-xs",onClick:()=>N(P.email,P.password),disabled:l,children:[a.jsx(Tm,{className:"mr-1.5 h-3.5 w-3.5"}),P.name]},P.email)),V.map(P=>a.jsxs(L,{variant:"outline",className:"quick-login-btn text-xs",onClick:()=>N(P.email,P.password),disabled:l,children:[a.jsx(Or,{className:"mr-1.5 h-3.5 w-3.5"}),P.name]},P.email))]}),a.jsxs("div",{className:"relative flex py-2 items-center w-full",children:[a.jsx("div",{className:"flex-grow border-t border-white/20"}),a.jsx("span",{className:"flex-shrink mx-4 text-white/50 text-xs",children:"First Time?"}),a.jsx("div",{className:"flex-grow border-t border-white/20"})]}),a.jsxs(L,{variant:"secondary",className:"w-full bg-teal-500/20 border-teal-500/50 text-teal-100 hover:bg-teal-500/30",onClick:R,disabled:l,children:[a.jsx(wP,{className:"mr-2 h-4 w-4"}),"Initialize Demo Users"]}),a.jsxs(Te,{open:k,onOpenChange:_,children:[a.jsx(mt,{asChild:!0,children:a.jsxs(L,{variant:"link",className:"text-white/80 hover:text-white w-full mt-2 text-xs",children:[a.jsx(Yc,{className:"mr-1.5 h-3.5 w-3.5"})," New Customer? Register Here"]})}),a.jsxs(Se,{className:"sm:max-w-md bg-white text-foreground rounded-lg shadow-2xl p-5",children:[a.jsxs(Ce,{className:"pb-3",children:[a.jsx(Ne,{className:"font-poppins text-lg",children:"New Customer Registration"}),a.jsx(un,{className:"font-inter text-xs",children:"Create your eGoa Sarathi account."})]}),a.jsxs("form",{onSubmit:T,className:"grid gap-3 py-2",children:[a.jsxs("div",{className:"grid grid-cols-4 items-center gap-3",children:[a.jsx(B,{htmlFor:"signup-name",className:"text-right font-inter text-xs",children:"Full Name"}),a.jsx(Z,{id:"signup-name",placeholder:"Your Full Name",value:m,onChange:P=>v(P.target.value),className:"col-span-3 rounded-md h-9 text-xs",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-3",children:[a.jsx(B,{htmlFor:"signup-email",className:"text-right font-inter text-xs",children:"Email"}),a.jsx(Z,{id:"signup-email",type:"email",placeholder:"your.email@example.com",value:b,onChange:P=>x(P.target.value),className:"col-span-3 rounded-md h-9 text-xs",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-3",children:[a.jsx(B,{htmlFor:"signup-password",className:"text-right font-inter text-xs",children:"Password"}),a.jsx(Z,{id:"signup-password",type:"password",placeholder:"Choose a strong password",value:w,onChange:P=>y(P.target.value),className:"col-span-3 rounded-md h-9 text-xs",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-3",children:[a.jsx(B,{htmlFor:"signup-phone",className:"text-right font-inter text-xs",children:"Phone"}),a.jsx(Z,{id:"signup-phone",type:"tel",placeholder:"Your Mobile Number",value:p,onChange:P=>g(P.target.value),className:"col-span-3 rounded-md h-9 text-xs",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-3",children:[a.jsx(B,{htmlFor:"signup-address",className:"text-right font-inter text-xs",children:"Address"}),a.jsx(Z,{id:"signup-address",placeholder:"Your Full Address (Optional)",value:j,onChange:P=>S(P.target.value),className:"col-span-3 rounded-md h-9 text-xs"})]}),a.jsx(L,{type:"submit",disabled:l,className:"w-full mt-3 py-2.5 text-sm rounded-md bg-primary hover:bg-primary/90 text-primary-foreground h-10",children:l?"Creating Account...":"Create Account"})]})]})]})]})]}),a.jsxs("div",{className:"text-center text-white/80 text-xs flex items-center justify-center gap-1.5 font-inter",children:[a.jsx(EP,{className:"h-3.5 w-3.5"}),a.jsx("span",{children:"Helpdesk: 1800-123-4567"})]})]}),a.jsx("style",{jsx:!0,children:`
        .quick-login-btn {
          @apply bg-white/5 border-white/20 text-white hover:bg-white/10 backdrop-blur-sm rounded-lg py-2 text-xs font-medium transition-all duration-200 ease-in-out h-10;
        }
        .quick-login-btn:hover {
          transform: translateY(-1px);
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
      `})]})}function lu(e){const t=e+"CollectionProvider",[n,r]=$n(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:w,children:y}=x,p=X.useRef(null),g=X.useRef(new Map).current;return a.jsx(s,{scope:w,itemMap:g,collectionRef:p,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=vs(l),u=X.forwardRef((x,w)=>{const{scope:y,children:p}=x,g=i(l,y),j=ye(w,g.collectionRef);return a.jsx(c,{ref:j,children:p})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=vs(d),v=X.forwardRef((x,w)=>{const{scope:y,children:p,...g}=x,j=X.useRef(null),S=ye(w,j),k=i(d,y);return X.useEffect(()=>(k.itemMap.set(j,{ref:j,...g}),()=>void k.itemMap.delete(j))),a.jsx(m,{[f]:"",ref:S,children:p})});v.displayName=d;function b(x){const w=i(e+"CollectionConsumer",x);return X.useCallback(()=>{const p=w.collectionRef.current;if(!p)return[];const g=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((k,_)=>g.indexOf(k.ref.current)-g.indexOf(_.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},b,r]}var xI=h.createContext(void 0);function cu(e){const t=h.useContext(xI);return e||t||"ltr"}var Ed="rovingFocusGroup.onEntryFocus",yI={bubbles:!1,cancelable:!0},No="RovingFocusGroup",[Zf,xj,wI]=lu(No),[bI,uu]=$n(No,[wI]),[jI,SI]=bI(No),yj=h.forwardRef((e,t)=>a.jsx(Zf.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Zf.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(CI,{...e,ref:t})})}));yj.displayName=No;var CI=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=h.useRef(null),v=ye(t,m),b=cu(i),[x,w]=ys({prop:o,defaultProp:l??null,onChange:c,caller:No}),[y,p]=h.useState(!1),g=Rt(u),j=xj(n),S=h.useRef(!1),[k,_]=h.useState(0);return h.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(Ed,g),()=>C.removeEventListener(Ed,g)},[g]),a.jsx(jI,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:x,onItemFocus:h.useCallback(C=>w(C),[w]),onItemShiftTab:h.useCallback(()=>p(!0),[]),onFocusableItemAdd:h.useCallback(()=>_(C=>C+1),[]),onFocusableItemRemove:h.useCallback(()=>_(C=>C-1),[]),children:a.jsx(se.div,{tabIndex:y||k===0?-1:0,"data-orientation":r,...f,ref:v,style:{outline:"none",...e.style},onMouseDown:q(e.onMouseDown,()=>{S.current=!0}),onFocus:q(e.onFocus,C=>{const N=!S.current;if(C.target===C.currentTarget&&N&&!y){const T=new CustomEvent(Ed,yI);if(C.currentTarget.dispatchEvent(T),!T.defaultPrevented){const O=j().filter(P=>P.focusable),R=O.find(P=>P.active),V=O.find(P=>P.id===x),I=[R,V,...O].filter(Boolean).map(P=>P.ref.current);jj(I,d)}}S.current=!1}),onBlur:q(e.onBlur,()=>p(!1))})})}),wj="RovingFocusGroupItem",bj=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Dn(),u=i||c,d=SI(wj,n),f=d.currentTabStopId===u,m=xj(n),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:x}=d;return h.useEffect(()=>{if(r)return v(),()=>b()},[r,v,b]),a.jsx(Zf.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(se.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:q(e.onMouseDown,w=>{r?d.onItemFocus(u):w.preventDefault()}),onFocus:q(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:q(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=_I(w,d.orientation,d.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let g=m().filter(j=>j.focusable).map(j=>j.ref.current);if(y==="last")g.reverse();else if(y==="prev"||y==="next"){y==="prev"&&g.reverse();const j=g.indexOf(w.currentTarget);g=d.loop?EI(g,j+1):g.slice(j+1)}setTimeout(()=>jj(g))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:x!=null}):o})})});bj.displayName=wj;var NI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function _I(e,t,n){const r=kI(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return NI[r]}function jj(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function EI(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Sj=yj,Cj=bj,du="Tabs",[TI,UV]=$n(du,[uu]),Nj=uu(),[PI,xp]=TI(du),kj=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=cu(l),[f,m]=ys({prop:r,onChange:s,defaultProp:i??"",caller:du});return a.jsx(PI,{scope:n,baseId:Dn(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:a.jsx(se.div,{dir:d,"data-orientation":o,...u,ref:t})})});kj.displayName=du;var _j="TabsList",Ej=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=xp(_j,n),o=Nj(n);return a.jsx(Sj,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:a.jsx(se.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});Ej.displayName=_j;var Tj="TabsTrigger",Pj=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,o=xp(Tj,n),l=Nj(n),c=Dj(o.baseId,r),u=Mj(o.baseId,r),d=r===o.value;return a.jsx(Cj,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(se.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:q(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:q(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:q(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});Pj.displayName=Tj;var Aj="TabsContent",Rj=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=e,l=xp(Aj,n),c=Dj(l.baseId,r),u=Mj(l.baseId,r),d=r===l.value,f=h.useRef(d);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(Fn,{present:s||d,children:({present:m})=>a.jsx(se.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});Rj.displayName=Aj;function Dj(e,t){return`${e}-trigger-${t}`}function Mj(e,t){return`${e}-content-${t}`}var AI=kj,Oj=Ej,Ij=Pj,Lj=Rj;const yp=AI,ro=X.forwardRef(({className:e,...t},n)=>a.jsx(Oj,{ref:n,className:ne("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ro.displayName=Oj.displayName;const so=X.forwardRef(({className:e,...t},n)=>a.jsx(Ij,{ref:n,className:ne("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));so.displayName=Ij.displayName;const Ie=X.forwardRef(({className:e,...t},n)=>a.jsx(Lj,{ref:n,className:ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ie.displayName=Lj.displayName;const fu=h.createContext(null),RI=(e="TXN")=>{const t=Date.now().toString().slice(-6),n=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`${e}${t}${n}`},DI=async(e,t,n,r,s,i,o,l,c)=>{if(!M)return console.error("_updateWalletAndHistory called but Supabase client is null."),!1;c(!0);const{data:u,error:d}=await M.from("profiles").select("wallet_balance, transaction_history").eq("id",e).single();if(d&&d.code!=="PGRST116")return console.error("Error fetching user profile for wallet update (Supabase):",d),c(!1),!1;if(!u&&!d)return console.error("User profile not found in Supabase for wallet update."),c(!1),!1;const f=(u==null?void 0:u.wallet_balance)||0,m=(u==null?void 0:u.transaction_history)||[],v=f+t,x=[{id:RI(),type:n,amount:Math.abs(t),description:r,serviceId:s,commission:i,timestamp:new Date().toISOString(),balanceAfterTransaction:v},...m],w={wallet_balance:v,transaction_history:x,updated_at:new Date().toISOString()},{error:y}=await M.from("profiles").update(w).eq("id",e);return c(!1),y?(console.error("Error updating wallet in Supabase:",y),!1):(o&&o.id===e&&await l(),!0)};function wp({children:e}){const{user:t,refreshUser:n}=ot(),[r,s]=h.useState(0),[i,o]=h.useState(!1);h.useEffect(()=>{(async()=>{var j;if(!M){console.log("Supabase client not available. Skipping WalletContext platform data fetch."),s(0);return}o(!0);const{data:p,error:g}=await M.from("platform_data").select("value").eq("id","commission_balance").single();if(o(!1),g&&g.code!=="PGRST116")console.error("Error fetching platform commission from Supabase, defaulting to 0:",g),s(0);else if(p)s(((j=p.value)==null?void 0:j.balance)||0);else{const{error:S}=await M.from("platform_data").insert({id:"commission_balance",value:{balance:0}});S&&console.error("Error initializing platform commission:",S),s(0)}})()},[]);const l=h.useCallback((y,p,g,j,S=null,k=null)=>DI(y,p,g,j,S,k,t,n,o),[t,n]),c=h.useCallback(async(y,p,g="Demo money added by user.")=>p<=0?{success:!1,error:"Amount must be positive."}:{success:await l(y,p,"deposit",g)},[l]),u=h.useCallback(async(y,p,g,j="Withdrawal request.")=>{if(!M)return{success:!1,error:"Supabase client not available."};if(p<=0)return{success:!1,error:"Amount must be positive."};o(!0);const{data:S,error:k}=await M.from("profiles").select("wallet_balance, bank_accounts").eq("id",y).single();return o(!1),k&&k.code!=="PGRST116"?(console.error("Error fetching user for withdrawal (Supabase):",k),{success:!1,error:"Failed to fetch user details."}):S?(S.wallet_balance||0)<p?{success:!1,error:"Insufficient balance."}:!S.bank_accounts||!S.bank_accounts.find(C=>C.accountNumber===g)?{success:!1,error:"Selected bank account not found."}:{success:await l(y,-p,"withdrawal",`${j} to A/C: ${g}`)}:{success:!1,error:"User not found."}},[l]),d=h.useCallback(async(y,p,g)=>p<=0?!1:await l(y,-p,"debit",g),[l]),f=h.useCallback(async(y,p,g)=>p<=0?!1:await l(y,p,"credit",g),[l]),m=h.useCallback(async y=>{if(!M)return{success:!1,error:"Supabase client not available."};const{vle_id:p,fee:g,id:j,service_name:S,type:k,generated_by_vle_id:_}=y,N=g*.1;let T=0,O=0,R=!0;if(k==="lead"&&_?(T=g*.45,O=g*.45,p&&(await l(p,T,"payout",`Payout (assigned) for lead: ${S} (ID: ${j})`,j,N)||(R=!1)),await l(_,O,"payout",`Payout (generated) for lead: ${S} (ID: ${j})`,j,null)||(R=!1)):(T=g*.9,p&&(await l(p,T,"payout",`Payout for service: ${S} (ID: ${j})`,j,N)||(R=!1))),R){const V=r+N;o(!0);const{error:E}=await M.from("platform_data").update({value:{balance:V},updated_at:new Date().toISOString()}).eq("id","commission_balance"),{error:I}=await M.from("platform_transactions").insert({type:"commission",amount:N,related_task_id:j,description:`Commission from ${k}: ${S}`});return o(!1),E?console.error("Error updating platform commission (Supabase):",E):s(V),I&&console.error("Error logging platform commission transaction:",I),{success:!0,assignedVlePayout:T,generatingVlePayout:O,adminCommissionAmount:N}}return{success:!1,error:"One or more VLE payouts failed."}},[r,l]),v=h.useCallback(async(y,p,g,j,S="Refund processed by admin.")=>p<=0?{success:!1,error:"Refund amount must be positive."}:{success:await l(y,p,"refund",`${S} For Service: ${j} (ID: ${g})`,g)},[l]),b=h.useCallback(async(y,p)=>{if(!M)return!1;const{data:g,error:j}=await M.from("profiles").select("wallet_balance").eq("id",y).single();return j&&j.code!=="PGRST116"?(console.error("Error checking balance (Supabase):",j),!1):g?(g.wallet_balance||0)>=p:!1},[]),x=h.useCallback(async y=>{if(!M||!y)return null;o(!0);const{data:p,error:g}=await M.from("profiles").select("wallet_balance, transaction_history").eq("id",y).single();return o(!1),g&&g.code!=="PGRST116"?(console.error("Error getting wallet details (Supabase):",g),null):p?{balance:p.wallet_balance||0,transactions:p.transaction_history||[]}:null},[]),w=h.useMemo(()=>({addDemoMoney:c,withdrawDemoMoney:u,debitUserWallet:d,creditUserWallet:f,processTaskCompletionPayouts:m,issueRefundToCustomer:v,checkBalance:b,getWalletDetails:x,platformCommission:r,loadingWallet:i}),[c,u,d,f,m,v,b,x,r,i]);return a.jsx(fu.Provider,{value:w,children:e})}const ko=h.createContext(null);function bp({children:e}){const[t,n]=h.useState([]),[r,s]=h.useState(!0),{user:i}=ot();h.useEffect(()=>{(async()=>{if(!M){console.log("Supabase client not available. Skipping NotificationContext fetch."),s(!1);return}if(s(!0),i)try{const{data:x,error:w}=await M.from("notifications").select("*").eq("user_id",i.id).order("created_at",{ascending:!1});if(w)throw w;n(x||[])}catch(x){console.error("Error fetching notifications from Supabase:",x),n([])}else n([]);s(!1)})()},[i]);const o=h.useCallback(async(b,x,w="info",y=null,p="New Notification")=>{if(!M)return;let g=b;if(b==="admin"||b==="admin-1")try{const{data:k,error:_}=await M.from("profiles").select("id").eq("role","admin").limit(1).single();if(_||!k){console.error("Could not find admin user to send notification:",_);return}g=k.id}catch(k){console.error("Exception while finding admin user:",k);return}const{data:j,error:S}=await M.from("notifications").insert({user_id:g,title:p,message:x,type:w,link:y,read:!1}).select().single();if(S){console.error("Error adding notification to Supabase:",S);return}(b===(i==null?void 0:i.id)||(b==="admin"||b==="admin-1")&&(i==null?void 0:i.role)==="admin")&&n(k=>[j,...k].sort((_,C)=>new Date(C.created_at)-new Date(_.created_at)))},[i]),l=h.useCallback(async b=>{if(!M||!i)return;const{data:x,error:w}=await M.from("notifications").update({read:!0}).eq("id",b).eq("user_id",i.id).select().single();if(w){console.error("Error marking notification as read in Supabase:",w);return}n(y=>y.map(p=>p.id===b?x:p))},[i]),c=h.useCallback(async b=>{if(!M||b!==(i==null?void 0:i.id))return;const{data:x,error:w}=await M.from("notifications").update({read:!0}).eq("user_id",b).eq("read",!1).select();if(w){console.error("Error marking all notifications as read in Supabase:",w);return}x&&n(y=>y.map(p=>p.user_id===b?{...p,read:!0}:p))},[i]),u=h.useCallback(b=>b!==(i==null?void 0:i.id)?[]:t,[i,t]),d=h.useCallback(b=>b!==(i==null?void 0:i.id)?0:t.filter(x=>!x.read).length,[i,t]),f=h.useCallback(async b=>{if(!M||b!==(i==null?void 0:i.id))return;const{error:x}=await M.from("notifications").delete().eq("user_id",b);x?console.error("Error clearing notifications for user from Supabase:",x):n([])},[i]),m=h.useCallback(async()=>{if(!(!i||!M))if(i.role==="admin"){const{error:b}=await M.from("notifications").delete().neq("id","0");b?console.error("Error clearing all notifications (admin) from Supabase:",b):n([])}else await f(i.id)},[i,f]),v=h.useMemo(()=>({notifications:t,loading:r,addNotification:o,markAsRead:l,markAllAsRead:c,getNotificationsForUser:u,getUnreadCountForUser:d,clearNotificationsForUser:f,clearAllNotifications:m}),[t,r,o,l,c,u,d,f,m]);return a.jsx(ko.Provider,{value:v,children:e})}const eh=(e="EGS")=>{const t=Date.now().toString().slice(-6),n=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`${e}${t}${n}`},jp=async(e,t)=>{if(!e||e.length===0)return[];const n=e.map(async s=>{if(!s.fileObject)return console.error("File object is missing for:",s.name),null;const i=`${t}/${Date.now()}-${s.fileObject.name}`,{error:o}=await M.storage.from("task_documents").upload(i,s.fileObject);return o?(console.error("Error uploading file:",s.name,o),null):{name:s.name,size:s.size,type:s.type,isCertificate:s.isCertificate||!1,path:i}});return(await Promise.all(n)).filter(Boolean)},Sp=h.createContext(null);function $j({children:e}){const[t,n]=h.useState([]),[r,s]=h.useState([]),[i,o]=h.useState(!0),{user:l}=ot(),c=h.useContext(fu),u=h.useContext(ko);h.useEffect(()=>{(async()=>{if(!M){o(!1);return}o(!0);try{const{data:g,error:j}=await M.from("services").select("*");if(j)throw j;if(s(g||[]),l){let S=M.from("bookings").select("*");if(l.role==="customer")S=S.eq("customer_id",l.id);else if(l.role!=="admin"){n([]),o(!1);return}const{data:k,error:_}=await S;if(_)throw _;n(k||[])}else n([])}catch(g){console.error("Error fetching initial booking data from Supabase:",g),s([]),n([])}finally{o(!1)}})()},[l]);const d=h.useCallback(async(p,g,j,S)=>{if(!M||!c||!u)return{success:!1,error:"Initialization error."};const k=r.find(E=>E.id===p);if(!k)return{success:!1,error:"Service not found."};const _=Number(k.fee||0);if(!await c.checkBalance(g,_))return{success:!1,error:"Insufficient wallet balance. Please add funds."};const N=eh("BOK"),T=await jp(j,N);if(j.length>0&&T.length!==j.length)return{success:!1,error:"Some files failed to upload. Please try again."};const O={id:N,service_id:p,service_name:k.name,customer_id:g,customer_details:S,documents:T,status:"pending",fee:k.fee,type:"booking",history:[{status:"pending",timestamp:new Date().toISOString(),remarks:"Booking created and fee deducted from wallet."}]},{data:R,error:V}=await M.from("bookings").insert(O).select().single();return V?(console.error("Error creating booking in Supabase:",V),{success:!1,error:V.message}):(await c.debitUserWallet(g,_,`Service booking: ${k.name} (ID: ${R.id})`),n(E=>[...E,R]),{success:!0,booking:R})},[r,c,u]),f=h.useCallback(async(p,g,j,S=null)=>{if(!M||!u)return;const k=t.findIndex(R=>R.id===p);if(k===-1)return;const _=t[k],C=[..._.history||[],{status:g,timestamp:new Date().toISOString(),remarks:j}];let N={status:g,history:C,updated_at:new Date().toISOString()};if(S){const R=[..._.documents||[],...S];N.documents=R}const{data:T,error:O}=await M.from("bookings").update(N).eq("id",p).select().single();if(O){console.error("Error updating booking status in Supabase:",O);return}n(R=>R.map(V=>V.id===p?T:V)),T.customer_id&&u.addNotification(T.customer_id,`Status of your booking for "${T.service_name}" updated to ${g.replace(/_/g," ")}. Remark: ${j}`,"info",`/customer-dashboard?tab=my-bookings&bookingId=${T.id}`,"Booking Status Update")},[t,u]),m=h.useCallback(async(p,g,j,S)=>{if(!M||!u)return;const k=t.findIndex(V=>V.id===p);if(k===-1)return;const _=t[k],C=[..._.documents||[],...g],N={status:S||_.status,timestamp:new Date().toISOString(),remarks:j||`Added ${g.length} new document(s).`},T=[..._.history||[],N],{data:O,error:R}=await M.from("bookings").update({documents:C,status:S||_.status,history:T,updated_at:new Date().toISOString()}).eq("id",p).select().single();if(R){console.error("Error adding documents to booking in Supabase:",R);return}n(V=>V.map(E=>E.id===p?O:E)),O.customer_id&&u.addNotification(O.customer_id,`Documents added to your booking for "${O.service_name}". Remark: ${j}`,"info",`/customer-dashboard?tab=my-bookings&bookingId=${O.id}`,"Documents Updated")},[t,u]),v=h.useCallback(async(p,g,j)=>{if(!M)return{success:!1,error:"Supabase client not available."};const S={id:eh("SRV"),name:p,category:g,fee:j,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:k,error:_}=await M.from("services").insert(S).select().single();return _?(console.error("Error adding service to Supabase:",_),{success:!1,error:_.message}):(s(C=>[...C,k]),{success:!0,service:k})},[]),b=h.useCallback(async(p,g,j,S)=>{if(!M)return{success:!1,error:"Supabase client not available."};const{data:k,error:_}=await M.from("services").update({name:g,category:j,fee:S,updated_at:new Date().toISOString()}).eq("id",p).select().single();return _?(console.error("Error updating service in Supabase:",_),{success:!1,error:_.message}):(s(C=>C.map(N=>N.id===p?k:N)),{success:!0})},[]),x=h.useCallback(async p=>{if(!M)return{success:!1,error:"Supabase client not available."};const{count:g,error:j}=await M.from("bookings").select("*",{count:"exact",head:!0}).eq("service_id",p).not("status","in",'("completed","rejected")');if(j)return console.error("Error checking active bookings for service (Supabase):",j),{success:!1,error:"Failed to check active bookings."};if(g>0)return{success:!1,error:"Cannot remove service with active bookings. Please resolve them first."};const{error:S}=await M.from("services").delete().eq("id",p);return S?(console.error("Error removing service from Supabase:",S),{success:!1,error:S.message}):(s(k=>k.filter(_=>_.id!==p)),{success:!0})},[]),w=h.useCallback(async()=>{if(!l||!M)return;let p=M.from("bookings").delete();if(l.role==="customer")p=p.eq("customer_id",l.id);else if(l.role!=="admin")return;const{error:g}=await p;g?console.error("Error clearing bookings from Supabase:",g):n(j=>l.role==="admin"?[]:j.filter(S=>S.customer_id!==l.id))},[l]),y=h.useMemo(()=>({services:r,bookings:t,loading:i,createBooking:d,updateBookingStatusAndHistory:f,addDocumentsToBooking:m,addService:v,updateService:b,removeService:x,clearBookings:w}),[r,t,i,d,f,m,v,b,x,w]);return a.jsx(Sp.Provider,{value:y,children:e})}const Fj=h.createContext(null);function Vj({children:e}){const[t,n]=h.useState([]),[r,s]=h.useState(!0),i=h.useContext(Sp),o=h.useContext(fu),l=h.useContext(ko),{user:c}=ot();h.useEffect(()=>{(async()=>{if(!M){s(!1);return}if(s(!0),c&&(c.role==="vle"||c.role==="admin"))try{let x=M.from("leads").select("*");c.role==="vle"&&(x=x.eq("vle_id",c.id));const{data:w,error:y}=await x;if(y)throw y;n(w||[])}catch(x){console.error("Error fetching leads from Supabase:",x),n([])}else n([]);s(!1)})()},[c]);const u=h.useCallback(async(b,x,w,y,p)=>{if(!M||!o||!l||!i)return{success:!1,error:"Initialization error."};const g=i.services.find(O=>O.id===b);if(!g)return{success:!1,error:"Service not found."};const j=Number(g.fee||0);if(!await o.checkBalance(x,j))return{success:!1,error:`Insufficient wallet balance. Service fee of ${j.toFixed(2)} required.`};const k=eh("LED"),_=await jp(p,k);if(p.length>0&&_.length!==p.length)return{success:!1,error:"Some files failed to upload. Please try again."};const C={id:k,service_id:b,service_name:g.name,vle_id:x,customer_name:w,customer_phone:y,documents:_,status:"pending",fee:g.fee,service_fee_paid_by_generator:j,type:"lead",history:[{status:"pending",timestamp:new Date().toISOString(),remarks:`Lead created. Service fee ${j.toFixed(2)} deducted.`}]},{data:N,error:T}=await M.from("leads").insert(C).select().single();return T?(console.error("Error creating lead in Supabase:",T),{success:!1,error:T.message}):(await o.debitUserWallet(x,j,`Lead generation: ${g.name} (Lead ID: ${N.id})`),n(O=>[...O,N]),{success:!0,lead:N})},[i,o,l]),d=h.useCallback(async(b,x,w,y=null)=>{if(!M||!l)return;const p=t.findIndex(C=>C.id===b);if(p===-1)return;const g=t[p],j=[...g.history||[],{status:x,timestamp:new Date().toISOString(),remarks:w}];let S={status:x,history:j,updated_at:new Date().toISOString()};if(y){const C=[...g.documents||[],...y];S.documents=C}const{data:k,error:_}=await M.from("leads").update(S).eq("id",b).select().single();if(_){console.error("Error updating lead status in Supabase:",_);return}n(C=>C.map(N=>N.id===b?k:N)),k.vle_id&&l.addNotification(k.vle_id,`Status of your generated lead for "${k.service_name}" (Customer: ${k.customer_name}) updated to ${x.replace(/_/g," ")}. Remark: ${w}`,"info",`/vle-dashboard?tab=my-leads&leadId=${k.id}`,"Lead Status Update")},[t,l]),f=h.useCallback(async(b,x,w,y)=>{if(!M||!l)return;const p=t.findIndex(N=>N.id===b);if(p===-1)return;const g=t[p],j=[...g.documents||[],...x],S={status:y||g.status,timestamp:new Date().toISOString(),remarks:w||`Added ${x.length} new document(s).`},k=[...g.history||[],S],{data:_,error:C}=await M.from("leads").update({documents:j,status:y||g.status,history:k,updated_at:new Date().toISOString()}).eq("id",b).select().single();if(C){console.error("Error adding documents to lead in Supabase:",C);return}n(N=>N.map(T=>T.id===b?_:T)),_.vle_id&&l.addNotification(_.vle_id,`Documents added to your generated lead for "${_.service_name}". Remark: ${w}`,"info",`/vle-dashboard?tab=my-leads&leadId=${_.id}`,"Lead Documents Updated")},[t,l]),m=h.useCallback(async()=>{if(!c||!M||c.role!=="vle"&&c.role!=="admin")return;let b=M.from("leads").delete();c.role==="vle"&&(b=b.eq("vle_id",c.id));const{error:x}=await b;x?console.error("Error clearing leads from Supabase:",x):n(w=>c.role==="admin"?[]:w.filter(y=>y.vle_id!==c.id))},[c]),v=h.useMemo(()=>({leads:t,loading:r,createLead:u,updateLeadStatusAndHistory:d,addDocumentsToLead:f,clearLeads:m}),[t,r,u,d,f,m]);return a.jsx(Fj.Provider,{value:v,children:e})}const lr=(e,t)=>[...e.history||[],t],MI=(e,t,n)=>{e&&e("admin",`New task created from ${n} ${t.original_id} for ${t.service_name}. Needs assignment.`,"info",`/admin-dashboard?tab=assign-tasks&taskId=${t.id}`,"New Task for Assignment")},OI=(e,t,n)=>{e&&e("admin",`Task ${t.id} (${t.service_name}) was rejected by VLE and needs re-assignment. Reason: ${n}`,"warning",`/admin-dashboard?tab=assign-tasks&taskId=${t.id}`,"Task Rejected - Needs Re-assignment")},Yx=(e,t)=>{e&&e("admin",`Task ${t.id} (${t.service_name}) completed by VLE. Pending commission approval.`,"info",`/admin-dashboard?tab=commissions&taskId=${t.id}`,"Task Completed - Needs Approval")},Uj=h.createContext(null);function Cp({children:e}){const[t,n]=h.useState([]),[r,s]=h.useState(!0),{user:i}=ot(),o=h.useContext(ko);h.useEffect(()=>{(async()=>{if(!M||!i){s(!1),n([]);return}s(!0);try{let y=M.from("tasks").select("*");i.role==="vle"?y=y.eq("vle_id",i.id):i.role==="customer"&&(y=y.eq("customer_id",i.id));const{data:p,error:g}=await y;if(g)throw g;n(p||[])}catch(y){console.error("Error fetching tasks from Supabase:",y),n([])}finally{s(!1)}})()},[i]),h.useEffect(()=>{if(!M||!i||i.role!=="admin")return;const w=M.channel("public:tasks").on("postgres_changes",{event:"INSERT",schema:"public",table:"tasks"},y=>{n(p=>p.some(g=>g.id===y.new.id)?p:[...p,y.new]),o!=null&&o.addNotification&&MI(o.addNotification,y.new,y.new.type)}).subscribe((y,p)=>{y==="SUBSCRIBED"&&console.log("Successfully subscribed to tasks table changes!"),p&&console.error("Error subscribing to tasks table:",p)});return()=>{M.removeChannel(w)}},[i,o]);const l=h.useCallback(async(w,y)=>{if(!M)return null;const p={...y,updated_at:new Date().toISOString()},{data:g,error:j}=await M.from("tasks").update(p).eq("id",w).select().single();return j?(console.error("Error updating task in Supabase:",j),null):g},[]),c=h.useCallback(async(w,y)=>{if(!M)return null;const p=t.find(_=>_.id===w);if(!p)return null;const g={status:"assigned",timestamp:new Date().toISOString(),remarks:`Assigned to VLE ${y}`},j=lr(p,g),S={vle_id:y,status:"assigned",task_phase:1,assigned_at:new Date().toISOString(),history:j},k=await l(w,S);return k?(n(_=>_.map(C=>C.id===w?k:C)),k):null},[t,l]),u=h.useCallback(async(w,y)=>{if(!M)return null;const p=t.find(k=>k.id===w);if(!p)return null;const g={status:y.status||p.status,timestamp:new Date().toISOString(),remarks:y.remarks||`Status updated to ${y.status}`};let j={...y,history:lr(p,g)};delete j.remarks,y.status==="completed"&&(j.status="pending_commission_approval",j.history=lr(j,{status:"pending_commission_approval",timestamp:new Date().toISOString(),remarks:"Task completed by VLE, awaiting commission approval."}),Yx(o.addNotification,p));const S=await l(w,j);return S?(n(k=>k.map(_=>_.id===w?S:_)),S):null},[t,o,l]),d=h.useCallback(async(w,y="Task rejected, pending re-assignment")=>{if(!M)return;const p=t.find(k=>k.id===w);if(!p)return;const g={status:"pending_assignment",timestamp:new Date().toISOString(),remarks:y},j={status:"pending_assignment",task_phase:0,vle_id:null,history:lr(p,g)},S=await l(w,j);S&&(n(k=>k.map(_=>_.id===w?S:_)),OI(o.addNotification,p,y),p.customer_id&&(o!=null&&o.addNotification)&&o.addNotification(p.customer_id,`There was an issue with your application for ${p.service_name}. It is being re-assigned.`,"info",`/customer-dashboard?tab=my-bookings&bookingId=${p.original_id}`,"Application Update"))},[t,o,l]),f=h.useCallback(async(w,y,p,g)=>{if(!M)return null;const j=t.find(T=>T.id===w);if(!j)return null;const S=await jp(y,w);if(S.length!==y.length)return console.error("Some files failed to upload."),null;const k=[...j.documents||[],...S],_={status:g||j.status,timestamp:new Date().toISOString(),remarks:p||`Added ${y.length} new document(s).`};let C={documents:k,history:lr(j,_),status:g||j.status};g==="completed"&&(C.status="pending_commission_approval",C.history=lr(C,{status:"pending_commission_approval",timestamp:new Date().toISOString(),remarks:"Task completed by VLE, awaiting commission approval."}),Yx(o.addNotification,j));const N=await l(w,C);return N?(n(T=>T.map(O=>O.id===w?N:O)),N):null},[t,o,l]),m=h.useCallback(async(w,y)=>{if(!M)return;const p=t.find(k=>k.id===w&&k.status==="pending_commission_approval");if(!p)return;const g={status:"commission_approved",timestamp:new Date().toISOString(),remarks:y||"Commission approved by admin."},j={status:"commission_approved",task_phase:5,history:lr(p,g)},S=await l(w,j);S&&(n(k=>k.map(_=>_.id===w?S:_)),o!=null&&o.addNotification&&(S.vle_id&&o.addNotification(S.vle_id,`Commission for task ${S.id} (${S.service_name}) has been approved. Payout processed.`,"success",`/vle-dashboard?tab=vle-wallet&taskId=${S.id}`,"Commission Approved"),S.type==="lead"&&S.generated_by_vle_id&&S.generated_by_vle_id!==S.vle_id&&o.addNotification(S.generated_by_vle_id,`Commission for your generated lead ${S.original_id} (${S.service_name}) has been approved. Payout processed.`,"success",`/vle-dashboard?tab=vle-wallet&leadId=${S.original_id}`,"Lead Commission Approved")))},[t,o,l]),v=h.useCallback(async(w,y)=>{if(!M)return;const p=t.find(k=>k.id===w&&k.status==="pending_commission_approval");if(!p)return;const g={status:"commission_rejected",timestamp:new Date().toISOString(),remarks:y||"Commission rejected by admin."},j={status:"commission_rejected",history:lr(p,g)},S=await l(w,j);S&&(n(k=>k.map(_=>_.id===w?S:_)),o!=null&&o.addNotification&&(S.vle_id&&o.addNotification(S.vle_id,`Commission for task ${S.id} (${S.service_name}) has been rejected. Reason: ${y}`,"error",`/vle-dashboard?tab=assigned-tasks&taskId=${S.id}`,"Commission Rejected"),S.type==="lead"&&S.generated_by_vle_id&&S.generated_by_vle_id!==S.vle_id&&o.addNotification(S.generated_by_vle_id,`Commission for your generated lead ${S.original_id} (${S.service_name}) has been rejected. Reason: ${y}`,"error",`/vle-dashboard?tab=my-leads&leadId=${S.original_id}`,"Lead Commission Rejected")))},[t,o,l]),b=h.useCallback(async()=>{if(!M)return;const{error:w}=await M.from("tasks").delete().neq("id","0");w?console.error("Error clearing tasks from Supabase:",w):n([])},[]),x=h.useMemo(()=>({tasks:t,loading:r,assignTask:c,updateTask:u,reassignTask:d,addDocumentsToTask:f,approveCommission:m,rejectCommission:v,clearTasks:b}),[t,r,c,u,d,f,m,v,b]);return a.jsx(Uj.Provider,{value:x,children:e})}const Bj=h.createContext(null);function Np({children:e}){const{user:t,refreshUser:n,updateUserDetailsInSupabase:r}=ot(),[s,i]=h.useState([]),[o,l]=h.useState(!1),c=h.useCallback(async()=>{if(!M){console.log("Supabase client not available. Skipping UserContext admin fetch."),i([]);return}if(t&&t.role==="admin"){l(!0);const{data:w,error:y}=await M.from("profiles").select("*");y?(console.error("Error fetching all users for admin from Supabase:",y),i([])):i(w||[]),l(!1)}else i([])},[t]);h.useEffect(()=>{c()},[c]);const u=h.useCallback(()=>t&&t.role==="admin"?s.filter(w=>w.role==="customer"):[],[t,s]),d=h.useCallback(()=>t&&t.role==="admin"?s.filter(w=>w.role==="vle"):[],[t,s]),f=h.useCallback(async w=>{if(!M||!w)return null;if(t&&t.id===w)return t;l(!0);const{data:y,error:p}=await M.from("profiles").select("*").eq("id",w).single();return l(!1),p&&p.code!=="PGRST116"&&console.error(`Error fetching profile for ${w} from Supabase:`,p),y||null},[t]),m=h.useCallback(async(w,y)=>{if(!M)return!1;l(!0);const p=await r(w,y);return l(!1),p&&t&&t.role==="admin"&&await c(),p},[r,t,c]),v=h.useCallback(async(w,y)=>{if(!M)return!1;const p=await f(w);if(p){const g=[...p.bank_accounts||[],y];return m(w,{bank_accounts:g})}return!1},[f,m]),b=h.useCallback(async(w,y)=>{if(!M)return!1;const p=await f(w),g=(p==null?void 0:p.bank_accounts)||[];if(p&&g){const j=g.filter(S=>S.accountNumber!==y);return m(w,{bank_accounts:j})}return!1},[f,m]),x=h.useMemo(()=>({getCustomers:u,getVLEs:d,getUserById:f,updateUserDetails:m,addBankAccount:v,removeBankAccount:b,allUsersForAdmin:s,loadingUsers:o,refetchAllUsers:c}),[u,d,f,m,v,b,s,o,c]);return a.jsx(Bj.Provider,{value:x,children:e})}const zj=h.createContext(null),II=(e="EGS")=>{const t=Date.now().toString().slice(-6),n=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`${e}${t}${n}`};function Wj({children:e}){const[t,n]=h.useState([]),[r,s]=h.useState(!0),{user:i}=ot();h.useEffect(()=>{(async()=>{if(!M){console.log("Supabase client not available. Skipping ComplaintContext fetch."),s(!1);return}if(s(!0),i)try{let f=M.from("complaints").select("*");i.role==="customer"&&(f=f.eq("customer_id",i.id));const{data:m,error:v}=await f;if(v)throw v;n(m||[])}catch(f){console.error("Error fetching complaints from Supabase:",f),n([])}else n([]);s(!1)})()},[i]);const o=h.useCallback(async(d,f,m,v,b,x="complaint")=>{if(!M)return{success:!1,error:"Database connection not available."};const y={id:`${x.toUpperCase()}-${II()}`,booking_id:d,customer_id:f,subject:m,description:v,rating:b,type:x,status:"open",history:[{status:"open",timestamp:new Date().toISOString(),remarks:`${x.charAt(0).toUpperCase()+x.slice(1)} registered.`}]},{data:p,error:g}=await M.from("complaints").insert(y).select().single();return g?(console.error("Error creating complaint in Supabase:",g),{success:!1,error:g.message}):(n(j=>[...j,p]),{success:!0,complaint:p})},[]),l=h.useCallback(async(d,f,m)=>{if(!M)return;const v=t.findIndex(g=>g.id===d);if(v===-1)return;const b=t[v],x={remarks:f,documents:m,resolvedAt:new Date().toISOString()},w=[...b.history||[],{status:"resolved",timestamp:new Date().toISOString(),remarks:`Resolved: ${f}`}],{data:y,error:p}=await M.from("complaints").update({status:"resolved",resolution_details:x,history:w,updated_at:new Date().toISOString()}).eq("id",d).select().single();if(p){console.error("Error resolving complaint in Supabase:",p);return}n(g=>g.map(j=>j.id===d?y:j))},[t]),c=h.useCallback(async()=>{if(!i||!M)return;let d=M.from("complaints").delete();if(i.role==="customer")d=d.eq("customer_id",i.id);else if(i.role!=="admin"){console.warn("User does not have permission to clear all complaints.");return}const{error:f}=await d;f?console.error("Error clearing complaints from Supabase:",f):n(m=>i.role==="admin"?[]:m.filter(v=>v.customer_id!==i.id))},[i]),u=h.useMemo(()=>({complaints:t,loading:r,createComplaint:o,resolveComplaint:l,clearComplaints:c}),[t,r,o,l,c]);return a.jsx(zj.Provider,{value:u,children:e})}const Hj=h.createContext(null),LI=(e="EGS")=>{const t=Date.now().toString().slice(-6),n=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`${e}${t}${n}`};function Gj({children:e}){const[t,n]=h.useState([]),[r,s]=h.useState(!0),{user:i}=ot();h.useEffect(()=>{(async()=>{if(!M){console.log("Supabase client not available. Skipping SpecialRequestContext fetch."),s(!1);return}if(s(!0),i)try{let m=M.from("special_requests").select("*");i.role==="vle"&&(m=m.eq("vle_id",i.id));const{data:v,error:b}=await m;if(b)throw b;n(v||[])}catch(m){console.error("Error fetching special requests from Supabase:",m),n([])}else n([]);s(!1)})()},[i]);const o=h.useCallback(async(f,m,v,b,x,w)=>{if(!M)return null;const p={id:LI("SR"),vle_id:f,request_type:m,service_name:m==="special_service"?v:null,description:b,customer_details:m==="special_service"?x:null,documents:w||[],status:"pending_admin_review",admin_remarks:null,history:[{status:"pending_admin_review",timestamp:new Date().toISOString(),remarks:"Request submitted by VLE."}]},{data:g,error:j}=await M.from("special_requests").insert(p).select().single();return j?(console.error("Error creating special request in Supabase:",j),null):(n(S=>[...S,g]),g)},[]),l=h.useCallback(async(f,m,v,b=[])=>{if(!M)return;const x=t.findIndex(S=>S.id===f);if(x===-1)return;const w=t[x],y=[...w.documents||[],...b.map(S=>({...S,uploadedBy:"admin"}))],p=[...w.history||[],{status:m,timestamp:new Date().toISOString(),remarks:v||`Status updated to ${m}. ${b.length>0?`Added ${b.length} document(s).`:""}`.trim()}],{data:g,error:j}=await M.from("special_requests").update({status:m,admin_remarks:v,documents:y,updated_at:new Date().toISOString(),history:p}).eq("id",f).select().single();if(j){console.error("Error updating special request status in Supabase:",j);return}n(S=>S.map(k=>k.id===f?g:k))},[t]),c=h.useCallback(async(f,m,v="Documents added by Admin.")=>{if(!M)return;const b=t.findIndex(j=>j.id===f);if(b===-1)return;const x=t[b],w=[...x.documents||[],...m.map(j=>({...j,uploadedBy:"admin"}))],y=[...x.history||[],{status:x.status,timestamp:new Date().toISOString(),remarks:v}],{data:p,error:g}=await M.from("special_requests").update({documents:w,updated_at:new Date().toISOString(),history:y}).eq("id",f).select().single();if(g){console.error("Error adding documents to special request in Supabase:",g);return}n(j=>j.map(S=>S.id===f?p:S))},[t]),u=h.useCallback(async()=>{if(!i||!M)return;let f=M.from("special_requests").delete();if(i.role==="vle")f=f.eq("vle_id",i.id);else if(i.role!=="admin"){console.warn("User does not have permission to clear all special requests.");return}const{error:m}=await f;m?console.error("Error clearing special requests from Supabase:",m):n(v=>i.role==="admin"?[]:v.filter(b=>b.vle_id!==i.id))},[i]),d=h.useMemo(()=>({specialRequests:t,loading:r,createSpecialRequest:o,updateSpecialRequestStatus:l,addDocumentsToSpecialRequest:c,clearSpecialRequests:u}),[t,r,o,l,c,u]);return a.jsx(Hj.Provider,{value:d,children:e})}function Ke(){const e=h.useContext(Sp),t=h.useContext(Fj),n=h.useContext(Uj),r=h.useContext(Bj),s=h.useContext(zj),i=h.useContext(Hj),o=h.useContext(fu),l=h.useContext(ko),c=async()=>{if(console.warn("Clearing all data. This is a destructive operation."),!M){console.warn("Supabase client not available. Cannot clear database data.");return}try{await M.from("notifications").delete().neq("id","00000000-0000-0000-0000-000000000000"),await M.from("special_requests").delete().neq("id","0"),await M.from("complaints").delete().neq("id","0"),await M.from("tasks").delete().neq("id","0"),await M.from("leads").delete().neq("id","0"),await M.from("bookings").delete().neq("id","0"),console.warn("User deletion from the client-side is disabled for security reasons. Please manage users directly from your Supabase dashboard."),await M.from("platform_data").update({value:{balance:0}}).eq("id","commission_balance"),console.log("All data cleared from Supabase tables (where applicable). Admin users preserved.")}catch(f){console.error("Error during clearAllData:",f)}},u=async(f,m)=>{if(!M||!f)return console.error("Download failed: Supabase client or file path not available."),{success:!1,error:"File path is missing."};try{const{data:v,error:b}=await M.storage.from("task_documents").download(f);if(b)throw b;const x=v,w=window.URL.createObjectURL(x),y=document.createElement("a");return y.href=w,y.setAttribute("download",m),document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(w),{success:!0}}catch(v){return console.error("Error downloading file:",v),{success:!1,error:v.message}}};return h.useMemo(()=>({services:(e==null?void 0:e.services)||[],loadingServices:(e==null?void 0:e.loading)||!0,addService:e==null?void 0:e.addService,updateService:e==null?void 0:e.updateService,removeService:e==null?void 0:e.removeService,bookings:(e==null?void 0:e.bookings)||[],loadingBookings:(e==null?void 0:e.loading)||!0,createBooking:e==null?void 0:e.createBooking,addDocumentsToBooking:e==null?void 0:e.addDocumentsToBooking,updateBookingStatusAndHistory:e==null?void 0:e.updateBookingStatusAndHistory,leads:(t==null?void 0:t.leads)||[],loadingLeads:(t==null?void 0:t.loading)||!0,createLead:t==null?void 0:t.createLead,addDocumentsToLead:t==null?void 0:t.addDocumentsToLead,updateLeadStatusAndHistory:t==null?void 0:t.updateLeadStatusAndHistory,tasks:(n==null?void 0:n.tasks)||[],loadingTasks:(n==null?void 0:n.loading)||!0,assignTask:n==null?void 0:n.assignTask,updateTask:n==null?void 0:n.updateTask,reassignTask:n==null?void 0:n.reassignTask,addDocumentsToTask:n==null?void 0:n.addDocumentsToTask,approveCommission:n==null?void 0:n.approveCommission,rejectCommission:n==null?void 0:n.rejectCommission,getCustomers:r==null?void 0:r.getCustomers,getVLEs:r==null?void 0:r.getVLEs,getUserById:r==null?void 0:r.getUserById,updateUserDetails:r==null?void 0:r.updateUserDetails,addBankAccount:r==null?void 0:r.addBankAccount,removeBankAccount:r==null?void 0:r.removeBankAccount,loadingUsers:(r==null?void 0:r.loadingUsers)||!1,allUsersForAdmin:(r==null?void 0:r.allUsersForAdmin)||[],refetchAllUsers:r==null?void 0:r.refetchAllUsers,complaints:(s==null?void 0:s.complaints)||[],loadingComplaints:(s==null?void 0:s.loading)||!0,createComplaint:s==null?void 0:s.createComplaint,resolveComplaint:s==null?void 0:s.resolveComplaint,specialRequests:(i==null?void 0:i.specialRequests)||[],loadingSpecialRequests:(i==null?void 0:i.loading)||!0,createSpecialRequest:i==null?void 0:i.createSpecialRequest,updateSpecialRequestStatus:i==null?void 0:i.updateSpecialRequestStatus,addDocumentsToSpecialRequest:i==null?void 0:i.addDocumentsToSpecialRequest,addDemoMoney:o==null?void 0:o.addDemoMoney,withdrawDemoMoney:o==null?void 0:o.withdrawDemoMoney,debitUserWallet:o==null?void 0:o.debitUserWallet,creditUserWallet:o==null?void 0:o.creditUserWallet,processTaskCompletionPayouts:o==null?void 0:o.processTaskCompletionPayouts,issueRefundToCustomer:o==null?void 0:o.issueRefundToCustomer,checkBalance:o==null?void 0:o.checkBalance,getWalletDetails:o==null?void 0:o.getWalletDetails,platformCommission:(o==null?void 0:o.platformCommission)||0,loadingWallet:(o==null?void 0:o.loadingWallet)||!1,notifications:(l==null?void 0:l.notifications)||[],loadingNotifications:(l==null?void 0:l.loading)||!0,addNotification:l==null?void 0:l.addNotification,markAsRead:l==null?void 0:l.markAsRead,markAllAsRead:l==null?void 0:l.markAllAsRead,getNotificationsForUser:l==null?void 0:l.getNotificationsForUser,getUnreadCountForUser:l==null?void 0:l.getUnreadCountForUser,clearNotificationsForUser:l==null?void 0:l.clearNotificationsForUser,clearAllData:c,downloadFile:u}),[e,t,n,r,s,i,o,l])}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},io.apply(this,arguments)}var jr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jr||(jr={}));const Xx="popstate";function $I(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return th("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Kj(s)}return VI(t,n,null,e)}function qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qj(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FI(){return Math.random().toString(36).substr(2,8)}function Qx(e,t){return{usr:e.state,key:e.key,idx:t}}function th(e,t,n,r){return n===void 0&&(n=null),io({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Wi(t):t,{state:n,key:t&&t.key||r||FI()})}function Kj(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Wi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function VI(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=jr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(io({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=jr.Pop;let w=d(),y=w==null?null:w-u;u=w,c&&c({action:l,location:x.location,delta:y})}function m(w,y){l=jr.Push;let p=th(x.location,w,y);n&&n(p,w),u=d()+1;let g=Qx(p,u),j=x.createHref(p);try{o.pushState(g,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(j)}i&&c&&c({action:l,location:x.location,delta:1})}function v(w,y){l=jr.Replace;let p=th(x.location,w,y);n&&n(p,w),u=d();let g=Qx(p,u),j=x.createHref(p);o.replaceState(g,"",j),i&&c&&c({action:l,location:x.location,delta:0})}function b(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof w=="string"?w:Kj(w);return p=p.replace(/ $/,"%20"),qe(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let x={get action(){return l},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Xx,f),c=w,()=>{s.removeEventListener(Xx,f),c=null}},createHref(w){return t(s,w)},createURL:b,encodeLocation(w){let y=b(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:v,go(w){return o.go(w)}};return x}var Jx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jx||(Jx={}));function UI(e,t,n){return n===void 0&&(n="/"),BI(e,t,n,!1)}function BI(e,t,n,r){let s=typeof t=="string"?Wi(t):t,i=Qj(s.pathname||"/",n);if(i==null)return null;let o=Yj(e);zI(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=eL(i);l=JI(o[c],u,r)}return l}function Yj(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(qe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ds([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(qe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Yj(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:XI(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Xj(i.path))s(i,o,c)}),t}function Xj(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Xj(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function zI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:QI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const WI=/^:[\w-]+$/,HI=3,GI=2,qI=1,KI=10,YI=-2,Zx=e=>e==="*";function XI(e,t){let n=e.split("/"),r=n.length;return n.some(Zx)&&(r+=YI),t&&(r+=GI),n.filter(s=>!Zx(s)).reduce((s,i)=>s+(WI.test(i)?HI:i===""?qI:KI),r)}function QI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function JI(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=ey({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=ey({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ds([i,f.pathname]),pathnameBase:sL(ds([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=ds([i,f.pathnameBase]))}return o}function ey(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ZI(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:v}=d;if(m==="*"){let x=l[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const b=l[f];return v&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function ZI(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),qj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function eL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Qj(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function tL(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Wi(e):e;return{pathname:n?n.startsWith("/")?n:nL(n,t):t,search:iL(r),hash:aL(s)}}function nL(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Td(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rL(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Jj(e,t){let n=rL(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Zj(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Wi(e):(s=io({},e),qe(!s.pathname||!s.pathname.includes("?"),Td("?","pathname","search",s)),qe(!s.pathname||!s.pathname.includes("#"),Td("#","pathname","hash",s)),qe(!s.search||!s.search.includes("#"),Td("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=tL(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ds=e=>e.join("/").replace(/\/\/+/g,"/"),sL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,aL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const eS=["post","put","patch","delete"];new Set(eS);const lL=["get",...eS];new Set(lL);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ao(){return ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ao.apply(this,arguments)}const kp=h.createContext(null),cL=h.createContext(null),_o=h.createContext(null),hu=h.createContext(null),Ds=h.createContext({outlet:null,matches:[],isDataRoute:!1}),tS=h.createContext(null);function Eo(){return h.useContext(hu)!=null}function Hi(){return Eo()||qe(!1),h.useContext(hu).location}function nS(e){h.useContext(_o).static||h.useLayoutEffect(e)}function mu(){let{isDataRoute:e}=h.useContext(Ds);return e?jL():uL()}function uL(){Eo()||qe(!1);let e=h.useContext(kp),{basename:t,future:n,navigator:r}=h.useContext(_o),{matches:s}=h.useContext(Ds),{pathname:i}=Hi(),o=JSON.stringify(Jj(s,n.v7_relativeSplatPath)),l=h.useRef(!1);return nS(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=Zj(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ds([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,i,e])}function dL(e,t){return fL(e,t)}function fL(e,t,n,r){Eo()||qe(!1);let{navigator:s}=h.useContext(_o),{matches:i}=h.useContext(Ds),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Hi(),d;if(t){var f;let w=typeof t=="string"?Wi(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||qe(!1),d=w}else d=u;let m=d.pathname||"/",v=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=UI(e,{pathname:v}),x=vL(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ds([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ds([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return t&&x?h.createElement(hu.Provider,{value:{location:ao({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:jr.Pop}},x):x}function hL(){let e=bL(),t=oL(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:s},n):null,i)}const mL=h.createElement(hL,null);class pL extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(Ds.Provider,{value:this.props.routeContext},h.createElement(tS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gL(e){let{routeContext:t,match:n,children:r}=e,s=h.useContext(kp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Ds.Provider,{value:t},r)}function vL(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||qe(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:v}=n,b=f.route.loader&&m[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let v,b=!1,x=null,w=null;n&&(v=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||mL,c&&(u<0&&m===0?(SL("route-fallback",!1),b=!0,w=null):u===m&&(b=!0,w=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,m+1)),p=()=>{let g;return v?g=x:b?g=w:f.route.Component?g=h.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,h.createElement(gL,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(pL,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var rS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(rS||{}),mc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mc||{});function xL(e){let t=h.useContext(kp);return t||qe(!1),t}function yL(e){let t=h.useContext(cL);return t||qe(!1),t}function wL(e){let t=h.useContext(Ds);return t||qe(!1),t}function sS(e){let t=wL(),n=t.matches[t.matches.length-1];return n.route.id||qe(!1),n.route.id}function bL(){var e;let t=h.useContext(tS),n=yL(mc.UseRouteError),r=sS(mc.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function jL(){let{router:e}=xL(rS.UseNavigateStable),t=sS(mc.UseNavigateStable),n=h.useRef(!1);return nS(()=>{n.current=!0}),h.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ao({fromRouteId:t},i)))},[e,t])}const ty={};function SL(e,t,n){!t&&!ty[e]&&(ty[e]=!0)}function CL(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Ma(e){let{to:t,replace:n,state:r,relative:s}=e;Eo()||qe(!1);let{future:i,static:o}=h.useContext(_o),{matches:l}=h.useContext(Ds),{pathname:c}=Hi(),u=mu(),d=Zj(t,Jj(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function Gs(e){qe(!1)}function NL(e){let{basename:t="/",children:n=null,location:r,navigationType:s=jr.Pop,navigator:i,static:o=!1,future:l}=e;Eo()&&qe(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:i,static:o,future:ao({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Wi(r));let{pathname:d="/",search:f="",hash:m="",state:v=null,key:b="default"}=r,x=h.useMemo(()=>{let w=Qj(d,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:v,key:b},navigationType:s}},[c,d,f,m,v,b,s]);return x==null?null:h.createElement(_o.Provider,{value:u},h.createElement(hu.Provider,{children:n,value:x}))}function kL(e){let{children:t,location:n}=e;return dL(nh(t),n)}new Promise(()=>{});function nh(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,s)=>{if(!h.isValidElement(r))return;let i=[...t,s];if(r.type===h.Fragment){n.push.apply(n,nh(r.props.children,i));return}r.type!==Gs&&qe(!1),!r.props.index||!r.props.children||qe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=nh(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rh(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function _L(e,t){let n=rh(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const EL="6";try{window.__reactRouterVersion=EL}catch{}const TL="startTransition",ny=Eh[TL];function PL(e){let{basename:t,children:n,future:r,window:s}=e,i=h.useRef();i.current==null&&(i.current=$I({window:s,v5Compat:!0}));let o=i.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=h.useCallback(f=>{u&&ny?ny(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>o.listen(d),[o,d]),h.useEffect(()=>CL(r),[r]),h.createElement(NL,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var ry;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ry||(ry={}));var sy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sy||(sy={}));function iS(e){let t=h.useRef(rh(e)),n=h.useRef(!1),r=Hi(),s=h.useMemo(()=>_L(r.search,n.current?null:t.current),[r.search]),i=mu(),o=h.useCallback((l,c)=>{const u=rh(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}const AL=["top","right","bottom","left"],$r=Math.min,Vt=Math.max,pc=Math.round,hl=Math.floor,On=e=>({x:e,y:e}),RL={left:"right",right:"left",bottom:"top",top:"bottom"},DL={start:"end",end:"start"};function sh(e,t,n){return Vt(e,$r(t,n))}function tr(e,t){return typeof e=="function"?e(t):e}function nr(e){return e.split("-")[0]}function Gi(e){return e.split("-")[1]}function _p(e){return e==="x"?"y":"x"}function Ep(e){return e==="y"?"height":"width"}function Pn(e){return["top","bottom"].includes(nr(e))?"y":"x"}function Tp(e){return _p(Pn(e))}function ML(e,t,n){n===void 0&&(n=!1);const r=Gi(e),s=Tp(e),i=Ep(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=gc(o)),[o,gc(o)]}function OL(e){const t=gc(e);return[ih(e),t,ih(t)]}function ih(e){return e.replace(/start|end/g,t=>DL[t])}function IL(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:o;default:return[]}}function LL(e,t,n,r){const s=Gi(e);let i=IL(nr(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(ih)))),i}function gc(e){return e.replace(/left|right|bottom|top/g,t=>RL[t])}function $L(e){return{top:0,right:0,bottom:0,left:0,...e}}function aS(e){return typeof e!="number"?$L(e):{top:e,right:e,bottom:e,left:e}}function vc(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function iy(e,t,n){let{reference:r,floating:s}=e;const i=Pn(t),o=Tp(t),l=Ep(o),c=nr(t),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let v;switch(c){case"top":v={x:d,y:r.y-s.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-s.width,y:f};break;default:v={x:r.x,y:r.y}}switch(Gi(t)){case"start":v[o]-=m*(n&&u?-1:1);break;case"end":v[o]+=m*(n&&u?-1:1);break}return v}const FL=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=iy(u,r,c),m=r,v={},b=0;for(let x=0;x<l.length;x++){const{name:w,fn:y}=l[x],{x:p,y:g,data:j,reset:S}=await y({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:v,rects:u,platform:o,elements:{reference:e,floating:t}});d=p??d,f=g??f,v={...v,[w]:{...v[w],...j}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=iy(u,m,c)),x=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:v}};async function oo(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:v=0}=tr(t,e),b=aS(v),w=l[m?f==="floating"?"reference":"floating":f],y=vc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),p=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,g=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(g))?await(i.getScale==null?void 0:i.getScale(g))||{x:1,y:1}:{x:1,y:1},S=vc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:g,strategy:c}):p);return{top:(y.top-S.top+b.top)/j.y,bottom:(S.bottom-y.bottom+b.bottom)/j.y,left:(y.left-S.left+b.left)/j.x,right:(S.right-y.right+b.right)/j.x}}const VL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=tr(e,t)||{};if(u==null)return{};const f=aS(d),m={x:n,y:r},v=Tp(s),b=Ep(v),x=await o.getDimensions(u),w=v==="y",y=w?"top":"left",p=w?"bottom":"right",g=w?"clientHeight":"clientWidth",j=i.reference[b]+i.reference[v]-m[v]-i.floating[b],S=m[v]-i.reference[v],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=k?k[g]:0;(!_||!await(o.isElement==null?void 0:o.isElement(k)))&&(_=l.floating[g]||i.floating[b]);const C=j/2-S/2,N=_/2-x[b]/2-1,T=$r(f[y],N),O=$r(f[p],N),R=T,V=_-x[b]-O,E=_/2-x[b]/2+C,I=sh(R,E,V),P=!c.arrow&&Gi(s)!=null&&E!==I&&i.reference[b]/2-(E<R?T:O)-x[b]/2<0,z=P?E<R?E-R:E-V:0;return{[v]:m[v]+z,data:{[v]:I,centerOffset:E-I-z,...P&&{alignmentOffset:z}},reset:P}}}),UL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...w}=tr(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=nr(s),p=Pn(l),g=nr(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=m||(g||!x?[gc(l)]:OL(l)),k=b!=="none";!m&&k&&S.push(...LL(l,x,b,j));const _=[l,...S],C=await oo(t,w),N=[];let T=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&N.push(C[y]),f){const E=ML(s,o,j);N.push(C[E[0]],C[E[1]])}if(T=[...T,{placement:s,overflows:N}],!N.every(E=>E<=0)){var O,R;const E=(((O=i.flip)==null?void 0:O.index)||0)+1,I=_[E];if(I&&(!(f==="alignment"?p!==Pn(I):!1)||T.every(A=>A.overflows[0]>0&&Pn(A.placement)===p)))return{data:{index:E,overflows:T},reset:{placement:I}};let P=(R=T.filter(z=>z.overflows[0]<=0).sort((z,A)=>z.overflows[1]-A.overflows[1])[0])==null?void 0:R.placement;if(!P)switch(v){case"bestFit":{var V;const z=(V=T.filter(A=>{if(k){const D=Pn(A.placement);return D===p||D==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(D=>D>0).reduce((D,W)=>D+W,0)]).sort((A,D)=>A[1]-D[1])[0])==null?void 0:V[0];z&&(P=z);break}case"initialPlacement":P=l;break}if(s!==P)return{reset:{placement:P}}}return{}}}};function ay(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function oy(e){return AL.some(t=>e[t]>=0)}const BL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=tr(e,t);switch(r){case"referenceHidden":{const i=await oo(t,{...s,elementContext:"reference"}),o=ay(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:oy(o)}}}case"escaped":{const i=await oo(t,{...s,altBoundary:!0}),o=ay(i,n.floating);return{data:{escapedOffsets:o,escaped:oy(o)}}}default:return{}}}}};async function zL(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=nr(n),l=Gi(n),c=Pn(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,f=tr(t,e);let{mainAxis:m,crossAxis:v,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(v=l==="end"?b*-1:b),c?{x:v*d,y:m*u}:{x:m*u,y:v*d}}const WL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await zL(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},HL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:y,y:p}=w;return{x:y,y:p}}},...c}=tr(e,t),u={x:n,y:r},d=await oo(t,c),f=Pn(nr(s)),m=_p(f);let v=u[m],b=u[f];if(i){const w=m==="y"?"top":"left",y=m==="y"?"bottom":"right",p=v+d[w],g=v-d[y];v=sh(p,v,g)}if(o){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",p=b+d[w],g=b-d[y];b=sh(p,b,g)}const x=l.fn({...t,[m]:v,[f]:b});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:i,[f]:o}}}}}},GL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=tr(e,t),d={x:n,y:r},f=Pn(s),m=_p(f);let v=d[m],b=d[f];const x=tr(l,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const g=m==="y"?"height":"width",j=i.reference[m]-i.floating[g]+w.mainAxis,S=i.reference[m]+i.reference[g]-w.mainAxis;v<j?v=j:v>S&&(v=S)}if(u){var y,p;const g=m==="y"?"width":"height",j=["top","left"].includes(nr(s)),S=i.reference[f]-i.floating[g]+(j&&((y=o.offset)==null?void 0:y[f])||0)+(j?0:w.crossAxis),k=i.reference[f]+i.reference[g]+(j?0:((p=o.offset)==null?void 0:p[f])||0)-(j?w.crossAxis:0);b<S?b=S:b>k&&(b=k)}return{[m]:v,[f]:b}}}},qL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=tr(e,t),d=await oo(t,u),f=nr(s),m=Gi(s),v=Pn(s)==="y",{width:b,height:x}=i.floating;let w,y;f==="top"||f==="bottom"?(w=f,y=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,w=m==="end"?"top":"bottom");const p=x-d.top-d.bottom,g=b-d.left-d.right,j=$r(x-d[w],p),S=$r(b-d[y],g),k=!t.middlewareData.shift;let _=j,C=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=g),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(_=p),k&&!m){const T=Vt(d.left,0),O=Vt(d.right,0),R=Vt(d.top,0),V=Vt(d.bottom,0);v?C=b-2*(T!==0||O!==0?T+O:Vt(d.left,d.right)):_=x-2*(R!==0||V!==0?R+V:Vt(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:_});const N=await o.getDimensions(l.floating);return b!==N.width||x!==N.height?{reset:{rects:!0}}:{}}}};function pu(){return typeof window<"u"}function qi(e){return oS(e)?(e.nodeName||"").toLowerCase():"#document"}function zt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vn(e){var t;return(t=(oS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function oS(e){return pu()?e instanceof Node||e instanceof zt(e).Node:!1}function jn(e){return pu()?e instanceof Element||e instanceof zt(e).Element:!1}function Ln(e){return pu()?e instanceof HTMLElement||e instanceof zt(e).HTMLElement:!1}function ly(e){return!pu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zt(e).ShadowRoot}function To(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Sn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function KL(e){return["table","td","th"].includes(qi(e))}function gu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Pp(e){const t=Ap(),n=jn(e)?Sn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function YL(e){let t=Fr(e);for(;Ln(t)&&!Di(t);){if(Pp(t))return t;if(gu(t))return null;t=Fr(t)}return null}function Ap(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Di(e){return["html","body","#document"].includes(qi(e))}function Sn(e){return zt(e).getComputedStyle(e)}function vu(e){return jn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fr(e){if(qi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ly(e)&&e.host||Vn(e);return ly(t)?t.host:t}function lS(e){const t=Fr(e);return Di(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ln(t)&&To(t)?t:lS(t)}function lo(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=lS(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=zt(s);if(i){const l=ah(o);return t.concat(o,o.visualViewport||[],To(s)?s:[],l&&n?lo(l):[])}return t.concat(s,lo(s,[],n))}function ah(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function cS(e){const t=Sn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ln(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=pc(n)!==i||pc(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function Rp(e){return jn(e)?e:e.contextElement}function yi(e){const t=Rp(e);if(!Ln(t))return On(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=cS(t);let o=(i?pc(n.width):n.width)/r,l=(i?pc(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const XL=On(0);function uS(e){const t=zt(e);return!Ap()||!t.visualViewport?XL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function QL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==zt(e)?!1:t}function bs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=Rp(e);let o=On(1);t&&(r?jn(r)&&(o=yi(r)):o=yi(e));const l=QL(i,n,r)?uS(i):On(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const m=zt(i),v=r&&jn(r)?zt(r):r;let b=m,x=ah(b);for(;x&&r&&v!==b;){const w=yi(x),y=x.getBoundingClientRect(),p=Sn(x),g=y.left+(x.clientLeft+parseFloat(p.paddingLeft))*w.x,j=y.top+(x.clientTop+parseFloat(p.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=g,u+=j,b=zt(x),x=ah(b)}}return vc({width:d,height:f,x:c,y:u})}function Dp(e,t){const n=vu(e).scrollLeft;return t?t.left+n:bs(Vn(e)).left+n}function dS(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Dp(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function JL(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=Vn(r),l=t?gu(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=On(1);const d=On(0),f=Ln(r);if((f||!f&&!i)&&((qi(r)!=="body"||To(o))&&(c=vu(r)),Ln(r))){const v=bs(r);u=yi(r),d.x=v.x+r.clientLeft,d.y=v.y+r.clientTop}const m=o&&!f&&!i?dS(o,c,!0):On(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function ZL(e){return Array.from(e.getClientRects())}function e4(e){const t=Vn(e),n=vu(e),r=e.ownerDocument.body,s=Vt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Vt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Dp(e);const l=-n.scrollTop;return Sn(r).direction==="rtl"&&(o+=Vt(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function t4(e,t){const n=zt(e),r=Vn(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=Ap();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function n4(e,t){const n=bs(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Ln(e)?yi(e):On(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function cy(e,t,n){let r;if(t==="viewport")r=t4(e,n);else if(t==="document")r=e4(Vn(e));else if(jn(t))r=n4(t,n);else{const s=uS(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return vc(r)}function fS(e,t){const n=Fr(e);return n===t||!jn(n)||Di(n)?!1:Sn(n).position==="fixed"||fS(n,t)}function r4(e,t){const n=t.get(e);if(n)return n;let r=lo(e,[],!1).filter(l=>jn(l)&&qi(l)!=="body"),s=null;const i=Sn(e).position==="fixed";let o=i?Fr(e):e;for(;jn(o)&&!Di(o);){const l=Sn(o),c=Pp(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||To(o)&&!c&&fS(e,o))?r=r.filter(d=>d!==o):s=l,o=Fr(o)}return t.set(e,r),r}function s4(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?gu(t)?[]:r4(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=cy(t,d,s);return u.top=Vt(f.top,u.top),u.right=$r(f.right,u.right),u.bottom=$r(f.bottom,u.bottom),u.left=Vt(f.left,u.left),u},cy(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function i4(e){const{width:t,height:n}=cS(e);return{width:t,height:n}}function a4(e,t,n){const r=Ln(t),s=Vn(t),i=n==="fixed",o=bs(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=On(0);function u(){c.x=Dp(s)}if(r||!r&&!i)if((qi(t)!=="body"||To(s))&&(l=vu(t)),r){const v=bs(t,!0,i,t);c.x=v.x+t.clientLeft,c.y=v.y+t.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?dS(s,l):On(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function Pd(e){return Sn(e).position==="static"}function uy(e,t){if(!Ln(e)||Sn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Vn(e)===n&&(n=n.ownerDocument.body),n}function hS(e,t){const n=zt(e);if(gu(e))return n;if(!Ln(e)){let s=Fr(e);for(;s&&!Di(s);){if(jn(s)&&!Pd(s))return s;s=Fr(s)}return n}let r=uy(e,t);for(;r&&KL(r)&&Pd(r);)r=uy(r,t);return r&&Di(r)&&Pd(r)&&!Pp(r)?n:r||YL(e)||n}const o4=async function(e){const t=this.getOffsetParent||hS,n=this.getDimensions,r=await n(e.floating);return{reference:a4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function l4(e){return Sn(e).direction==="rtl"}const c4={convertOffsetParentRelativeRectToViewportRelativeRect:JL,getDocumentElement:Vn,getClippingRect:s4,getOffsetParent:hS,getElementRects:o4,getClientRects:ZL,getDimensions:i4,getScale:yi,isElement:jn,isRTL:l4};function mS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function u4(e,t){let n=null,r;const s=Vn(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:v}=u;if(l||t(),!m||!v)return;const b=hl(f),x=hl(s.clientWidth-(d+m)),w=hl(s.clientHeight-(f+v)),y=hl(d),g={rootMargin:-b+"px "+-x+"px "+-w+"px "+-y+"px",threshold:Vt(0,$r(1,c))||1};let j=!0;function S(k){const _=k[0].intersectionRatio;if(_!==c){if(!j)return o();_?o(!1,_):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!mS(u,e.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(S,{...g,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,g)}n.observe(e)}return o(!0),i}function d4(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Rp(e),d=s||i?[...u?lo(u):[],...lo(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const f=u&&l?u4(u,n):null;let m=-1,v=null;o&&(v=new ResizeObserver(y=>{let[p]=y;p&&p.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var g;(g=v)==null||g.observe(t)})),n()}),u&&!c&&v.observe(u),v.observe(t));let b,x=c?bs(e):null;c&&w();function w(){const y=bs(e);x&&!mS(x,y)&&n(),x=y,b=requestAnimationFrame(w)}return n(),()=>{var y;d.forEach(p=>{s&&p.removeEventListener("scroll",n),i&&p.removeEventListener("resize",n)}),f==null||f(),(y=v)==null||y.disconnect(),v=null,c&&cancelAnimationFrame(b)}}const f4=WL,h4=HL,m4=UL,p4=qL,g4=BL,dy=VL,v4=GL,x4=(e,t,n)=>{const r=new Map,s={platform:c4,...n},i={...s.platform,_c:r};return FL(e,t,{...s,platform:i})};var y4=typeof document<"u",w4=function(){},Dl=y4?h.useLayoutEffect:w4;function xc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!xc(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!xc(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function pS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fy(e,t){const n=pS(e);return Math.round(t*n)/n}function Ad(e){const t=h.useRef(e);return Dl(()=>{t.current=e}),t}function b4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,v]=h.useState(r);xc(m,r)||v(r);const[b,x]=h.useState(null),[w,y]=h.useState(null),p=h.useCallback(A=>{A!==k.current&&(k.current=A,x(A))},[]),g=h.useCallback(A=>{A!==_.current&&(_.current=A,y(A))},[]),j=i||b,S=o||w,k=h.useRef(null),_=h.useRef(null),C=h.useRef(d),N=c!=null,T=Ad(c),O=Ad(s),R=Ad(u),V=h.useCallback(()=>{if(!k.current||!_.current)return;const A={placement:t,strategy:n,middleware:m};O.current&&(A.platform=O.current),x4(k.current,_.current,A).then(D=>{const W={...D,isPositioned:R.current!==!1};E.current&&!xc(C.current,W)&&(C.current=W,_s.flushSync(()=>{f(W)}))})},[m,t,n,O,R]);Dl(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const E=h.useRef(!1);Dl(()=>(E.current=!0,()=>{E.current=!1}),[]),Dl(()=>{if(j&&(k.current=j),S&&(_.current=S),j&&S){if(T.current)return T.current(j,S,V);V()}},[j,S,V,T,N]);const I=h.useMemo(()=>({reference:k,floating:_,setReference:p,setFloating:g}),[p,g]),P=h.useMemo(()=>({reference:j,floating:S}),[j,S]),z=h.useMemo(()=>{const A={position:n,left:0,top:0};if(!P.floating)return A;const D=fy(P.floating,d.x),W=fy(P.floating,d.y);return l?{...A,transform:"translate("+D+"px, "+W+"px)",...pS(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:W}},[n,l,P.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:V,refs:I,elements:P,floatingStyles:z}),[d,V,I,P,z])}const j4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?dy({element:r.current,padding:s}).fn(n):{}:r?dy({element:r,padding:s}).fn(n):{}}}},S4=(e,t)=>({...f4(e),options:[e,t]}),C4=(e,t)=>({...h4(e),options:[e,t]}),N4=(e,t)=>({...v4(e),options:[e,t]}),k4=(e,t)=>({...m4(e),options:[e,t]}),_4=(e,t)=>({...p4(e),options:[e,t]}),E4=(e,t)=>({...g4(e),options:[e,t]}),T4=(e,t)=>({...j4(e),options:[e,t]});var P4="Arrow",gS=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return a.jsx(se.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});gS.displayName=P4;var A4=gS;function R4(e){const[t,n]=h.useState(void 0);return at(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Mp="Popper",[vS,xu]=$n(Mp),[D4,xS]=vS(Mp),yS=e=>{const{__scopePopper:t,children:n}=e,[r,s]=h.useState(null);return a.jsx(D4,{scope:t,anchor:r,onAnchorChange:s,children:n})};yS.displayName=Mp;var wS="PopperAnchor",bS=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=xS(wS,n),o=h.useRef(null),l=ye(t,o);return h.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(se.div,{...s,ref:l})});bS.displayName=wS;var Op="PopperContent",[M4,O4]=vS(Op),jS=h.forwardRef((e,t)=>{var G,ae,ue,le,ce,xe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:b,...x}=e,w=xS(Op,n),[y,p]=h.useState(null),g=ye(t,pt=>p(pt)),[j,S]=h.useState(null),k=R4(j),_=(k==null?void 0:k.width)??0,C=(k==null?void 0:k.height)??0,N=r+(i!=="center"?"-"+i:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],R=O.length>0,V={padding:T,boundary:O.filter(L4),altBoundary:R},{refs:E,floatingStyles:I,placement:P,isPositioned:z,middlewareData:A}=b4({strategy:"fixed",placement:N,whileElementsMounted:(...pt)=>d4(...pt,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[S4({mainAxis:s+C,alignmentAxis:o}),c&&C4({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?N4():void 0,...V}),c&&k4({...V}),_4({...V,apply:({elements:pt,rects:H,availableWidth:Ye,availableHeight:Ct})=>{const{width:Nn,height:Oo}=H.reference,Io=pt.floating.style;Io.setProperty("--radix-popper-available-width",`${Ye}px`),Io.setProperty("--radix-popper-available-height",`${Ct}px`),Io.setProperty("--radix-popper-anchor-width",`${Nn}px`),Io.setProperty("--radix-popper-anchor-height",`${Oo}px`)}}),j&&T4({element:j,padding:l}),$4({arrowWidth:_,arrowHeight:C}),m&&E4({strategy:"referenceHidden",...V})]}),[D,W]=NS(P),U=Rt(b);at(()=>{z&&(U==null||U())},[z,U]);const K=(G=A.arrow)==null?void 0:G.x,$=(ae=A.arrow)==null?void 0:ae.y,te=((ue=A.arrow)==null?void 0:ue.centerOffset)!==0,[ee,J]=h.useState();return at(()=>{y&&J(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:z?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(le=A.transformOrigin)==null?void 0:le.x,(ce=A.transformOrigin)==null?void 0:ce.y].join(" "),...((xe=A.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(M4,{scope:n,placedSide:D,onArrowChange:S,arrowX:K,arrowY:$,shouldHideArrow:te,children:a.jsx(se.div,{"data-side":D,"data-align":W,...x,ref:g,style:{...x.style,animation:z?void 0:"none"}})})})});jS.displayName=Op;var SS="PopperArrow",I4={top:"bottom",right:"left",bottom:"top",left:"right"},CS=h.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=O4(SS,r),o=I4[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(A4,{...s,ref:n,style:{...s.style,display:"block"}})})});CS.displayName=SS;function L4(e){return e!==null}var $4=e=>({name:"transformOrigin",options:e,fn(t){var w,y,p;const{placement:n,rects:r,middlewareData:s}=t,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=NS(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,v=(((p=s.arrow)==null?void 0:p.y)??0)+c/2;let b="",x="";return u==="bottom"?(b=o?f:`${m}px`,x=`${-c}px`):u==="top"?(b=o?f:`${m}px`,x=`${r.floating.height+c}px`):u==="right"?(b=`${-c}px`,x=o?f:`${v}px`):u==="left"&&(b=`${r.floating.width+c}px`,x=o?f:`${v}px`),{data:{x:b,y:x}}}});function NS(e){const[t,n="center"]=e.split("-");return[t,n]}var kS=yS,_S=bS,ES=jS,TS=CS,oh=["Enter"," "],F4=["ArrowDown","PageUp","Home"],PS=["ArrowUp","PageDown","End"],V4=[...F4,...PS],U4={ltr:[...oh,"ArrowRight"],rtl:[...oh,"ArrowLeft"]},B4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Po="Menu",[co,z4,W4]=lu(Po),[Ms,AS]=$n(Po,[W4,xu,uu]),yu=xu(),RS=uu(),[H4,Os]=Ms(Po),[G4,Ao]=Ms(Po),DS=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=e,l=yu(t),[c,u]=h.useState(null),d=h.useRef(!1),f=Rt(i),m=cu(s);return h.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),a.jsx(kS,{...l,children:a.jsx(H4,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(G4,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:r})})})};DS.displayName=Po;var q4="MenuAnchor",Ip=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=yu(n);return a.jsx(_S,{...s,...r,ref:t})});Ip.displayName=q4;var Lp="MenuPortal",[K4,MS]=Ms(Lp,{forceMount:void 0}),OS=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,i=Os(Lp,t);return a.jsx(K4,{scope:t,forceMount:n,children:a.jsx(Fn,{present:n||i.open,children:a.jsx(wo,{asChild:!0,container:s,children:r})})})};OS.displayName=Lp;var sn="MenuContent",[Y4,$p]=Ms(sn),IS=h.forwardRef((e,t)=>{const n=MS(sn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=Os(sn,e.__scopeMenu),o=Ao(sn,e.__scopeMenu);return a.jsx(co.Provider,{scope:e.__scopeMenu,children:a.jsx(Fn,{present:r||i.open,children:a.jsx(co.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(X4,{...s,ref:t}):a.jsx(Q4,{...s,ref:t})})})})}),X4=h.forwardRef((e,t)=>{const n=Os(sn,e.__scopeMenu),r=h.useRef(null),s=ye(t,r);return h.useEffect(()=>{const i=r.current;if(i)return Um(i)},[]),a.jsx(Fp,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:q(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Q4=h.forwardRef((e,t)=>{const n=Os(sn,e.__scopeMenu);return a.jsx(Fp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),J4=vs("MenuContent.ScrollLock"),Fp=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:v,disableOutsideScroll:b,...x}=e,w=Os(sn,n),y=Ao(sn,n),p=yu(n),g=RS(n),j=z4(n),[S,k]=h.useState(null),_=h.useRef(null),C=ye(t,_,w.onContentChange),N=h.useRef(0),T=h.useRef(""),O=h.useRef(0),R=h.useRef(null),V=h.useRef("right"),E=h.useRef(0),I=b?Vm:h.Fragment,P=b?{as:J4,allowPinchZoom:!0}:void 0,z=D=>{var G,ae;const W=T.current+D,U=j().filter(ue=>!ue.disabled),K=document.activeElement,$=(G=U.find(ue=>ue.ref.current===K))==null?void 0:G.textValue,te=U.map(ue=>ue.textValue),ee=u$(te,W,$),J=(ae=U.find(ue=>ue.textValue===ee))==null?void 0:ae.ref.current;(function ue(le){T.current=le,window.clearTimeout(N.current),le!==""&&(N.current=window.setTimeout(()=>ue(""),1e3))})(W),J&&setTimeout(()=>J.focus())};h.useEffect(()=>()=>window.clearTimeout(N.current),[]),Fm();const A=h.useCallback(D=>{var U,K;return V.current===((U=R.current)==null?void 0:U.side)&&f$(D,(K=R.current)==null?void 0:K.area)},[]);return a.jsx(Y4,{scope:n,searchRef:T,onItemEnter:h.useCallback(D=>{A(D)&&D.preventDefault()},[A]),onItemLeave:h.useCallback(D=>{var W;A(D)||((W=_.current)==null||W.focus(),k(null))},[A]),onTriggerLeave:h.useCallback(D=>{A(D)&&D.preventDefault()},[A]),pointerGraceTimerRef:O,onPointerGraceIntentChange:h.useCallback(D=>{R.current=D},[]),children:a.jsx(I,{...P,children:a.jsx(Xc,{asChild:!0,trapped:s,onMountAutoFocus:q(i,D=>{var W;D.preventDefault(),(W=_.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(yo,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:v,children:a.jsx(Sj,{asChild:!0,...g,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:q(c,D=>{y.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(ES,{role:"menu","aria-orientation":"vertical","data-state":JS(w.open),"data-radix-menu-content":"",dir:y.dir,...p,...x,ref:C,style:{outline:"none",...x.style},onKeyDown:q(x.onKeyDown,D=>{const U=D.target.closest("[data-radix-menu-content]")===D.currentTarget,K=D.ctrlKey||D.altKey||D.metaKey,$=D.key.length===1;U&&(D.key==="Tab"&&D.preventDefault(),!K&&$&&z(D.key));const te=_.current;if(D.target!==te||!V4.includes(D.key))return;D.preventDefault();const J=j().filter(G=>!G.disabled).map(G=>G.ref.current);PS.includes(D.key)&&J.reverse(),l$(J)}),onBlur:q(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(N.current),T.current="")}),onPointerMove:q(e.onPointerMove,uo(D=>{const W=D.target,U=E.current!==D.clientX;if(D.currentTarget.contains(W)&&U){const K=D.clientX>E.current?"right":"left";V.current=K,E.current=D.clientX}}))})})})})})})});IS.displayName=sn;var Z4="MenuGroup",Vp=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(se.div,{role:"group",...r,ref:t})});Vp.displayName=Z4;var e$="MenuLabel",LS=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(se.div,{...r,ref:t})});LS.displayName=e$;var yc="MenuItem",hy="menu.itemSelect",wu=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,i=h.useRef(null),o=Ao(yc,e.__scopeMenu),l=$p(yc,e.__scopeMenu),c=ye(t,i),u=h.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(hy,{bubbles:!0,cancelable:!0});f.addEventListener(hy,v=>r==null?void 0:r(v),{once:!0}),_m(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx($S,{...s,ref:c,disabled:n,onClick:q(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:q(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:q(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||oh.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});wu.displayName=yc;var $S=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=e,o=$p(yc,n),l=RS(n),c=h.useRef(null),u=ye(t,c),[d,f]=h.useState(!1),[m,v]=h.useState("");return h.useEffect(()=>{const b=c.current;b&&v((b.textContent??"").trim())},[i.children]),a.jsx(co.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:a.jsx(Cj,{asChild:!0,...l,focusable:!r,children:a.jsx(se.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:q(e.onPointerMove,uo(b=>{r?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:q(e.onPointerLeave,uo(b=>o.onItemLeave(b))),onFocus:q(e.onFocus,()=>f(!0)),onBlur:q(e.onBlur,()=>f(!1))})})})}),t$="MenuCheckboxItem",FS=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return a.jsx(WS,{scope:e.__scopeMenu,checked:n,children:a.jsx(wu,{role:"menuitemcheckbox","aria-checked":wc(n)?"mixed":n,...s,ref:t,"data-state":Bp(n),onSelect:q(s.onSelect,()=>r==null?void 0:r(wc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});FS.displayName=t$;var VS="MenuRadioGroup",[n$,r$]=Ms(VS,{value:void 0,onValueChange:()=>{}}),US=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,i=Rt(r);return a.jsx(n$,{scope:e.__scopeMenu,value:n,onValueChange:i,children:a.jsx(Vp,{...s,ref:t})})});US.displayName=VS;var BS="MenuRadioItem",zS=h.forwardRef((e,t)=>{const{value:n,...r}=e,s=r$(BS,e.__scopeMenu),i=n===s.value;return a.jsx(WS,{scope:e.__scopeMenu,checked:i,children:a.jsx(wu,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":Bp(i),onSelect:q(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});zS.displayName=BS;var Up="MenuItemIndicator",[WS,s$]=Ms(Up,{checked:!1}),HS=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,i=s$(Up,n);return a.jsx(Fn,{present:r||wc(i.checked)||i.checked===!0,children:a.jsx(se.span,{...s,ref:t,"data-state":Bp(i.checked)})})});HS.displayName=Up;var i$="MenuSeparator",GS=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(se.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});GS.displayName=i$;var a$="MenuArrow",qS=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=yu(n);return a.jsx(TS,{...s,...r,ref:t})});qS.displayName=a$;var o$="MenuSub",[BV,KS]=Ms(o$),va="MenuSubTrigger",YS=h.forwardRef((e,t)=>{const n=Os(va,e.__scopeMenu),r=Ao(va,e.__scopeMenu),s=KS(va,e.__scopeMenu),i=$p(va,e.__scopeMenu),o=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(Ip,{asChild:!0,...u,children:a.jsx($S,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":JS(n.open),...e,ref:zc(t,s.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:q(e.onPointerMove,uo(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:q(e.onPointerLeave,uo(f=>{var v,b;d();const m=(v=n.content)==null?void 0:v.getBoundingClientRect();if(m){const x=(b=n.content)==null?void 0:b.dataset.side,w=x==="right",y=w?-5:5,p=m[w?"left":"right"],g=m[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:p,y:m.top},{x:g,y:m.top},{x:g,y:m.bottom},{x:p,y:m.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:q(e.onKeyDown,f=>{var v;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||U4[r.dir].includes(f.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),f.preventDefault())})})})});YS.displayName=va;var XS="MenuSubContent",QS=h.forwardRef((e,t)=>{const n=MS(sn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=Os(sn,e.__scopeMenu),o=Ao(sn,e.__scopeMenu),l=KS(XS,e.__scopeMenu),c=h.useRef(null),u=ye(t,c);return a.jsx(co.Provider,{scope:e.__scopeMenu,children:a.jsx(Fn,{present:r||i.open,children:a.jsx(co.Slot,{scope:e.__scopeMenu,children:a.jsx(Fp,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:q(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:q(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:q(e.onKeyDown,d=>{var v;const f=d.currentTarget.contains(d.target),m=B4[o.dir].includes(d.key);f&&m&&(i.onOpenChange(!1),(v=l.trigger)==null||v.focus(),d.preventDefault())})})})})})});QS.displayName=XS;function JS(e){return e?"open":"closed"}function wc(e){return e==="indeterminate"}function Bp(e){return wc(e)?"indeterminate":e?"checked":"unchecked"}function l$(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function c$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function u$(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=c$(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function d$(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function f$(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return d$(n,t)}function uo(e){return t=>t.pointerType==="mouse"?e(t):void 0}var h$=DS,m$=Ip,p$=OS,g$=IS,v$=Vp,x$=LS,y$=wu,w$=FS,b$=US,j$=zS,S$=HS,C$=GS,N$=qS,k$=YS,_$=QS,bu="DropdownMenu",[E$,zV]=$n(bu,[AS]),jt=AS(),[T$,ZS]=E$(bu),eC=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=jt(t),u=h.useRef(null),[d,f]=ys({prop:s,defaultProp:i??!1,onChange:o,caller:bu});return a.jsx(T$,{scope:t,triggerId:Dn(),triggerRef:u,contentId:Dn(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:l,children:a.jsx(h$,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};eC.displayName=bu;var tC="DropdownMenuTrigger",nC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,i=ZS(tC,n),o=jt(n);return a.jsx(m$,{asChild:!0,...o,children:a.jsx(se.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:zc(t,i.triggerRef),onPointerDown:q(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:q(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});nC.displayName=tC;var P$="DropdownMenuPortal",rC=e=>{const{__scopeDropdownMenu:t,...n}=e,r=jt(t);return a.jsx(p$,{...r,...n})};rC.displayName=P$;var sC="DropdownMenuContent",iC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ZS(sC,n),i=jt(n),o=h.useRef(!1);return a.jsx(g$,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:t,onCloseAutoFocus:q(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:q(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iC.displayName=sC;var A$="DropdownMenuGroup",R$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jt(n);return a.jsx(v$,{...s,...r,ref:t})});R$.displayName=A$;var D$="DropdownMenuLabel",aC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jt(n);return a.jsx(x$,{...s,...r,ref:t})});aC.displayName=D$;var M$="DropdownMenuItem",oC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jt(n);return a.jsx(y$,{...s,...r,ref:t})});oC.displayName=M$;var O$="DropdownMenuCheckboxItem",lC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jt(n);return a.jsx(w$,{...s,...r,ref:t})});lC.displayName=O$;var I$="DropdownMenuRadioGroup",L$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jt(n);return a.jsx(b$,{...s,...r,ref:t})});L$.displayName=I$;var $$="DropdownMenuRadioItem",cC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jt(n);return a.jsx(j$,{...s,...r,ref:t})});cC.displayName=$$;var F$="DropdownMenuItemIndicator",uC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jt(n);return a.jsx(S$,{...s,...r,ref:t})});uC.displayName=F$;var V$="DropdownMenuSeparator",dC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jt(n);return a.jsx(C$,{...s,...r,ref:t})});dC.displayName=V$;var U$="DropdownMenuArrow",B$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jt(n);return a.jsx(N$,{...s,...r,ref:t})});B$.displayName=U$;var z$="DropdownMenuSubTrigger",fC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jt(n);return a.jsx(k$,{...s,...r,ref:t})});fC.displayName=z$;var W$="DropdownMenuSubContent",hC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jt(n);return a.jsx(_$,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hC.displayName=W$;var H$=eC,G$=nC,q$=rC,mC=iC,pC=aC,gC=oC,vC=lC,xC=cC,yC=uC,wC=dC,bC=fC,jC=hC;const ju=H$,Su=G$,K$=X.forwardRef(({className:e,inset:t,children:n,...r},s)=>a.jsxs(bC,{ref:s,className:ne("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,a.jsx(vP,{className:"ml-auto h-4 w-4"})]}));K$.displayName=bC.displayName;const Y$=X.forwardRef(({className:e,...t},n)=>a.jsx(jC,{ref:n,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Y$.displayName=jC.displayName;const Ro=X.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(q$,{children:a.jsx(mC,{ref:r,sideOffset:t,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Ro.displayName=mC.displayName;const nn=X.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(gC,{ref:r,className:ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));nn.displayName=gC.displayName;const X$=X.forwardRef(({className:e,children:t,checked:n,...r},s)=>a.jsxs(vC,{ref:s,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(yC,{children:a.jsx(ib,{className:"h-4 w-4"})})}),t]}));X$.displayName=vC.displayName;const Q$=X.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(xC,{ref:r,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(yC,{children:a.jsx(yP,{className:"h-2 w-2 fill-current"})})}),t]}));Q$.displayName=xC.displayName;const SC=X.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(pC,{ref:r,className:ne("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));SC.displayName=pC.displayName;const Mi=X.forwardRef(({className:e,...t},n)=>a.jsx(wC,{ref:n,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));Mi.displayName=wC.displayName;function my(e,[t,n]){return Math.min(n,Math.max(t,e))}function J$(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var CC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Z$="VisuallyHidden",zp=h.forwardRef((e,t)=>a.jsx(se.span,{...e,ref:t,style:{...CC,...e.style}}));zp.displayName=Z$;var e5=[" ","Enter","ArrowUp","ArrowDown"],t5=[" ","Enter"],js="Select",[Cu,Nu,n5]=lu(js),[Ki,WV]=$n(js,[n5,xu]),ku=xu(),[r5,Hr]=Ki(js),[s5,i5]=Ki(js),NC=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:v,form:b}=e,x=ku(t),[w,y]=h.useState(null),[p,g]=h.useState(null),[j,S]=h.useState(!1),k=cu(u),[_,C]=ys({prop:r,defaultProp:s??!1,onChange:i,caller:js}),[N,T]=ys({prop:o,defaultProp:l,onChange:c,caller:js}),O=h.useRef(null),R=w?b||!!w.closest("form"):!0,[V,E]=h.useState(new Set),I=Array.from(V).map(P=>P.props.value).join(";");return a.jsx(kS,{...x,children:a.jsxs(r5,{required:v,scope:t,trigger:w,onTriggerChange:y,valueNode:p,onValueNodeChange:g,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:Dn(),value:N,onValueChange:T,open:_,onOpenChange:C,dir:k,triggerPointerDownPosRef:O,disabled:m,children:[a.jsx(Cu.Provider,{scope:t,children:a.jsx(s5,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(P=>{E(z=>new Set(z).add(P))},[]),onNativeOptionRemove:h.useCallback(P=>{E(z=>{const A=new Set(z);return A.delete(P),A})},[]),children:n})}),R?a.jsxs(YC,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:P=>T(P.target.value),disabled:m,form:b,children:[N===void 0?a.jsx("option",{value:""}):null,Array.from(V)]},I):null]})})};NC.displayName=js;var kC="SelectTrigger",_C=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=ku(n),o=Hr(kC,n),l=o.disabled||r,c=ye(t,o.onTriggerChange),u=Nu(n),d=h.useRef("touch"),[f,m,v]=QC(x=>{const w=u().filter(g=>!g.disabled),y=w.find(g=>g.value===o.value),p=JC(w,x,y);p!==void 0&&o.onValueChange(p.value)}),b=x=>{l||(o.onOpenChange(!0),v()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(_S,{asChild:!0,...i,children:a.jsx(se.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":XC(o.value)?"":void 0,...s,ref:c,onClick:q(s.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&b(x)}),onPointerDown:q(s.onPointerDown,x=>{d.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:q(s.onKeyDown,x=>{const w=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(w&&x.key===" ")&&e5.includes(x.key)&&(b(),x.preventDefault())})})})});_C.displayName=kC;var EC="SelectValue",TC=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=e,c=Hr(EC,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=ye(t,c.onValueNodeChange);return at(()=>{u(d)},[u,d]),a.jsx(se.span,{...l,ref:f,style:{pointerEvents:"none"},children:XC(c.value)?a.jsx(a.Fragment,{children:o}):i})});TC.displayName=EC;var a5="SelectIcon",PC=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(se.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});PC.displayName=a5;var o5="SelectPortal",AC=e=>a.jsx(wo,{asChild:!0,...e});AC.displayName=o5;var Ss="SelectContent",RC=h.forwardRef((e,t)=>{const n=Hr(Ss,e.__scopeSelect),[r,s]=h.useState();if(at(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?_s.createPortal(a.jsx(DC,{scope:e.__scopeSelect,children:a.jsx(Cu.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(MC,{...e,ref:t})});RC.displayName=Ss;var mn=10,[DC,Gr]=Ki(Ss),l5="SelectContentImpl",c5=vs("SelectContent.RemoveScroll"),MC=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:v,sticky:b,hideWhenDetached:x,avoidCollisions:w,...y}=e,p=Hr(Ss,n),[g,j]=h.useState(null),[S,k]=h.useState(null),_=ye(t,G=>j(G)),[C,N]=h.useState(null),[T,O]=h.useState(null),R=Nu(n),[V,E]=h.useState(!1),I=h.useRef(!1);h.useEffect(()=>{if(g)return Um(g)},[g]),Fm();const P=h.useCallback(G=>{const[ae,...ue]=R().map(xe=>xe.ref.current),[le]=ue.slice(-1),ce=document.activeElement;for(const xe of G)if(xe===ce||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===ae&&S&&(S.scrollTop=0),xe===le&&S&&(S.scrollTop=S.scrollHeight),xe==null||xe.focus(),document.activeElement!==ce))return},[R,S]),z=h.useCallback(()=>P([C,g]),[P,C,g]);h.useEffect(()=>{V&&z()},[V,z]);const{onOpenChange:A,triggerPointerDownPosRef:D}=p;h.useEffect(()=>{if(g){let G={x:0,y:0};const ae=le=>{var ce,xe;G={x:Math.abs(Math.round(le.pageX)-(((ce=D.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(le.pageY)-(((xe=D.current)==null?void 0:xe.y)??0))}},ue=le=>{G.x<=10&&G.y<=10?le.preventDefault():g.contains(le.target)||A(!1),document.removeEventListener("pointermove",ae),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",ue,{capture:!0})}}},[g,A,D]),h.useEffect(()=>{const G=()=>A(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[A]);const[W,U]=QC(G=>{const ae=R().filter(ce=>!ce.disabled),ue=ae.find(ce=>ce.ref.current===document.activeElement),le=JC(ae,G,ue);le&&setTimeout(()=>le.ref.current.focus())}),K=h.useCallback((G,ae,ue)=>{const le=!I.current&&!ue;(p.value!==void 0&&p.value===ae||le)&&(N(G),le&&(I.current=!0))},[p.value]),$=h.useCallback(()=>g==null?void 0:g.focus(),[g]),te=h.useCallback((G,ae,ue)=>{const le=!I.current&&!ue;(p.value!==void 0&&p.value===ae||le)&&O(G)},[p.value]),ee=r==="popper"?lh:OC,J=ee===lh?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:v,sticky:b,hideWhenDetached:x,avoidCollisions:w}:{};return a.jsx(DC,{scope:n,content:g,viewport:S,onViewportChange:k,itemRefCallback:K,selectedItem:C,onItemLeave:$,itemTextRefCallback:te,focusSelectedItem:z,selectedItemText:T,position:r,isPositioned:V,searchRef:W,children:a.jsx(Vm,{as:c5,allowPinchZoom:!0,children:a.jsx(Xc,{asChild:!0,trapped:p.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:q(s,G=>{var ae;(ae=p.trigger)==null||ae.focus({preventScroll:!0}),G.preventDefault()}),children:a.jsx(yo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:a.jsx(ee,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:G=>G.preventDefault(),...y,...J,onPlaced:()=>E(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:q(y.onKeyDown,G=>{const ae=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!ae&&G.key.length===1&&U(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let le=R().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(G.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const ce=G.target,xe=le.indexOf(ce);le=le.slice(xe+1)}setTimeout(()=>P(le)),G.preventDefault()}})})})})})})});MC.displayName=l5;var u5="SelectItemAlignedPosition",OC=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=Hr(Ss,n),o=Gr(Ss,n),[l,c]=h.useState(null),[u,d]=h.useState(null),f=ye(t,_=>d(_)),m=Nu(n),v=h.useRef(!1),b=h.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:y,focusSelectedItem:p}=o,g=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&x&&w&&y){const _=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),T=y.getBoundingClientRect();if(i.dir!=="rtl"){const ce=T.left-C.left,xe=N.left-ce,pt=_.left-xe,H=_.width+pt,Ye=Math.max(H,C.width),Ct=window.innerWidth-mn,Nn=my(xe,[mn,Math.max(mn,Ct-Ye)]);l.style.minWidth=H+"px",l.style.left=Nn+"px"}else{const ce=C.right-T.right,xe=window.innerWidth-N.right-ce,pt=window.innerWidth-_.right-xe,H=_.width+pt,Ye=Math.max(H,C.width),Ct=window.innerWidth-mn,Nn=my(xe,[mn,Math.max(mn,Ct-Ye)]);l.style.minWidth=H+"px",l.style.right=Nn+"px"}const O=m(),R=window.innerHeight-mn*2,V=x.scrollHeight,E=window.getComputedStyle(u),I=parseInt(E.borderTopWidth,10),P=parseInt(E.paddingTop,10),z=parseInt(E.borderBottomWidth,10),A=parseInt(E.paddingBottom,10),D=I+P+V+A+z,W=Math.min(w.offsetHeight*5,D),U=window.getComputedStyle(x),K=parseInt(U.paddingTop,10),$=parseInt(U.paddingBottom,10),te=_.top+_.height/2-mn,ee=R-te,J=w.offsetHeight/2,G=w.offsetTop+J,ae=I+P+G,ue=D-ae;if(ae<=te){const ce=O.length>0&&w===O[O.length-1].ref.current;l.style.bottom="0px";const xe=u.clientHeight-x.offsetTop-x.offsetHeight,pt=Math.max(ee,J+(ce?$:0)+xe+z),H=ae+pt;l.style.height=H+"px"}else{const ce=O.length>0&&w===O[0].ref.current;l.style.top="0px";const pt=Math.max(te,I+x.offsetTop+(ce?K:0)+J)+ue;l.style.height=pt+"px",x.scrollTop=ae-te+x.offsetTop}l.style.margin=`${mn}px 0`,l.style.minHeight=W+"px",l.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[m,i.trigger,i.valueNode,l,u,x,w,y,i.dir,r]);at(()=>g(),[g]);const[j,S]=h.useState();at(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=h.useCallback(_=>{_&&b.current===!0&&(g(),p==null||p(),b.current=!1)},[g,p]);return a.jsx(f5,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:k,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(se.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});OC.displayName=u5;var d5="SelectPopperPosition",lh=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=mn,...i}=e,o=ku(n);return a.jsx(ES,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lh.displayName=d5;var[f5,Wp]=Ki(Ss,{}),ch="SelectViewport",IC=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=Gr(ch,n),o=Wp(ch,n),l=ye(t,i.onViewportChange),c=h.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Cu.Slot,{scope:n,children:a.jsx(se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:q(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const v=Math.abs(c.current-d.scrollTop);if(v>0){const b=window.innerHeight-mn*2,x=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),y=Math.max(x,w);if(y<b){const p=y+v,g=Math.min(b,p),j=p-g;f.style.height=g+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});IC.displayName=ch;var LC="SelectGroup",[h5,m5]=Ki(LC),p5=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Dn();return a.jsx(h5,{scope:n,id:s,children:a.jsx(se.div,{role:"group","aria-labelledby":s,...r,ref:t})})});p5.displayName=LC;var $C="SelectLabel",FC=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=m5($C,n);return a.jsx(se.div,{id:s.id,...r,ref:t})});FC.displayName=$C;var bc="SelectItem",[g5,VC]=Ki(bc),UC=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,l=Hr(bc,n),c=Gr(bc,n),u=l.value===r,[d,f]=h.useState(i??""),[m,v]=h.useState(!1),b=ye(t,p=>{var g;return(g=c.itemRefCallback)==null?void 0:g.call(c,p,r,s)}),x=Dn(),w=h.useRef("touch"),y=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(g5,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:h.useCallback(p=>{f(g=>g||((p==null?void 0:p.textContent)??"").trim())},[]),children:a.jsx(Cu.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(se.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:q(o.onFocus,()=>v(!0)),onBlur:q(o.onBlur,()=>v(!1)),onClick:q(o.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:q(o.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:q(o.onPointerDown,p=>{w.current=p.pointerType}),onPointerMove:q(o.onPointerMove,p=>{var g;w.current=p.pointerType,s?(g=c.onItemLeave)==null||g.call(c):w.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:q(o.onPointerLeave,p=>{var g;p.currentTarget===document.activeElement&&((g=c.onItemLeave)==null||g.call(c))}),onKeyDown:q(o.onKeyDown,p=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&p.key===" "||(t5.includes(p.key)&&y(),p.key===" "&&p.preventDefault())})})})})});UC.displayName=bc;var xa="SelectItemText",BC=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=Hr(xa,n),l=Gr(xa,n),c=VC(xa,n),u=i5(xa,n),[d,f]=h.useState(null),m=ye(t,y=>f(y),c.onItemTextChange,y=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,y,c.value,c.disabled)}),v=d==null?void 0:d.textContent,b=h.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=u;return at(()=>(x(b),()=>w(b)),[x,w,b]),a.jsxs(a.Fragment,{children:[a.jsx(se.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?_s.createPortal(i.children,o.valueNode):null]})});BC.displayName=xa;var zC="SelectItemIndicator",WC=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return VC(zC,n).isSelected?a.jsx(se.span,{"aria-hidden":!0,...r,ref:t}):null});WC.displayName=zC;var uh="SelectScrollUpButton",HC=h.forwardRef((e,t)=>{const n=Gr(uh,e.__scopeSelect),r=Wp(uh,e.__scopeSelect),[s,i]=h.useState(!1),o=ye(t,r.onScrollButtonChange);return at(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(qC,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});HC.displayName=uh;var dh="SelectScrollDownButton",GC=h.forwardRef((e,t)=>{const n=Gr(dh,e.__scopeSelect),r=Wp(dh,e.__scopeSelect),[s,i]=h.useState(!1),o=ye(t,r.onScrollButtonChange);return at(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(qC,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});GC.displayName=dh;var qC=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=Gr("SelectScrollButton",n),o=h.useRef(null),l=Nu(n),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),at(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(se.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:q(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:q(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:q(s.onPointerLeave,()=>{c()})})}),v5="SelectSeparator",KC=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(se.div,{"aria-hidden":!0,...r,ref:t})});KC.displayName=v5;var fh="SelectArrow",x5=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ku(n),i=Hr(fh,n),o=Gr(fh,n);return i.open&&o.position==="popper"?a.jsx(TS,{...s,...r,ref:t}):null});x5.displayName=fh;var y5="SelectBubbleInput",YC=h.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=h.useRef(null),i=ye(r,s),o=J$(t);return h.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(se.select,{...n,style:{...CC,...n.style},ref:i,defaultValue:t})});YC.displayName=y5;function XC(e){return e===""||e===void 0}function QC(e){const t=Rt(e),n=h.useRef(""),r=h.useRef(0),s=h.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function JC(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=w5(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function w5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var b5=NC,ZC=_C,j5=TC,S5=PC,C5=AC,eN=RC,N5=IC,tN=FC,nN=UC,k5=BC,_5=WC,rN=HC,sN=GC,iN=KC;const Gt=b5,qt=j5,Mt=X.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(ZC,{ref:r,className:ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(S5,{asChild:!0,children:a.jsx(ab,{className:"h-4 w-4 opacity-50"})})]}));Mt.displayName=ZC.displayName;const aN=X.forwardRef(({className:e,...t},n)=>a.jsx(rN,{ref:n,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(xP,{className:"h-4 w-4"})}));aN.displayName=rN.displayName;const oN=X.forwardRef(({className:e,...t},n)=>a.jsx(sN,{ref:n,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(ab,{className:"h-4 w-4"})}));oN.displayName=sN.displayName;const Ot=X.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>a.jsx(C5,{children:a.jsxs(eN,{ref:s,className:ne("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(aN,{}),a.jsx(N5,{className:ne("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(oN,{})]})}));Ot.displayName=eN.displayName;const E5=X.forwardRef(({className:e,...t},n)=>a.jsx(tN,{ref:n,className:ne("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));E5.displayName=tN.displayName;const Ge=X.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(nN,{ref:r,className:ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(_5,{children:a.jsx(ib,{className:"h-4 w-4"})})}),a.jsx(k5,{children:t})]}));Ge.displayName=nN.displayName;const T5=X.forwardRef(({className:e,...t},n)=>a.jsx(iN,{ref:n,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));T5.displayName=iN.displayName;const P5=["Panaji","Margao","Vasco da Gama","Mapusa","Ponda","Bicholim","Canacona","Curchorem","Cuncolim","Quepem","Sanquelim","Valpoi","Pernem"];function A5({services:e,onBookService:t,user:n}){const[r,s]=h.useState(""),[i,o]=h.useState([]),l=h.useRef(null),{toast:c}=Oe(),[u,d]=h.useState((n==null?void 0:n.name)||""),[f,m]=h.useState((n==null?void 0:n.phone)||""),[v,b]=h.useState(""),[x,w]=h.useState((n==null?void 0:n.email)||""),y=j=>{const S=Array.from(j.target.files);if(S.length===0)return;const k=S.map(_=>({id:Date.now()+Math.random().toString(36).substring(2,9),name:_.name,size:_.size,type:_.type,fileObject:_,uploadedAt:new Date().toISOString()}));o(_=>[..._,...k]),c({title:"Documents Added",description:`${S.length} document(s) ready.`}),l.current&&(l.current.value="")},p=j=>{o(S=>S.filter(k=>k.id!==j)),c({title:"Document Removed",description:"The selected document has been removed."})},g=()=>{if(!r){c({title:"Service Required",description:"Please select a service.",variant:"destructive"});return}if(!u||!f||!v){c({title:"Customer Details Required",description:"Please fill in Name, Mobile, and Location.",variant:"destructive"});return}if(i.length===0){c({title:"Documents Required",description:"Please upload documents.",variant:"destructive"});return}t(r,{name:u,mobile:f,location:v,email:x},i),s(""),o([]),d((n==null?void 0:n.name)||""),m((n==null?void 0:n.phone)||""),b(""),w((n==null?void 0:n.email)||"")};return a.jsxs(ie,{className:"card-hover animate-fade-in",children:[a.jsxs(fe,{children:[a.jsxs(ge,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[a.jsx(Je,{className:"h-5 w-5"})," Book a New Service"]}),a.jsx(je,{children:"Select a service, provide your details, and upload documents"})]}),a.jsxs(oe,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(B,{htmlFor:"customerName",children:[a.jsx(cn,{className:"inline h-4 w-4 mr-1"}),"Name (Mandatory)"]}),a.jsx(Z,{id:"customerName",value:u,onChange:j=>d(j.target.value),placeholder:"Your full name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(B,{htmlFor:"customerMobile",children:[a.jsx(Ui,{className:"inline h-4 w-4 mr-1"}),"Mobile (Mandatory)"]}),a.jsx(Z,{id:"customerMobile",type:"tel",value:f,onChange:j=>m(j.target.value),placeholder:"Your mobile number",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(B,{htmlFor:"customerLocation",children:[a.jsx(_P,{className:"inline h-4 w-4 mr-1"}),"Location (Mandatory)"]}),a.jsxs(Gt,{value:v,onValueChange:b,children:[a.jsx(Mt,{id:"customerLocation",className:"w-full",children:a.jsx(qt,{placeholder:"Select your city/town..."})}),a.jsx(Ot,{children:P5.map(j=>a.jsx(Ge,{value:j,children:j},j))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(B,{htmlFor:"customerEmail",children:[a.jsx(ub,{className:"inline h-4 w-4 mr-1"}),"Email (Optional)"]}),a.jsx(Z,{id:"customerEmail",type:"email",value:x,onChange:j=>w(j.target.value),placeholder:"Your email address"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(B,{htmlFor:"service",children:"Select Service (Mandatory)"}),a.jsxs(Gt,{value:r,onValueChange:s,children:[a.jsx(Mt,{id:"service",className:"w-full",children:a.jsx(qt,{placeholder:"Choose a service..."})}),a.jsx(Ot,{children:e.map(j=>a.jsxs(Ge,{value:j.id,children:[j.name," - ",j.fee," (",j.category,")"]},j.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(B,{htmlFor:"documents",children:"Upload Documents (Mandatory)"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[a.jsx(zi,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400"}),a.jsx(B,{htmlFor:"file-upload",className:"cursor-pointer mt-4 block text-sm font-medium text-blue-600 hover:text-blue-500",children:"Click to upload documents"}),a.jsx(Z,{id:"file-upload",type:"file",multiple:!0,className:"hidden",onChange:y,ref:l,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"PDF, JPG, PNG, DOC up to 10MB each"})]})]}),i.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(B,{children:"Selected Documents"}),i.map(j=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg text-xs sm:text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 overflow-hidden",children:[a.jsx(Je,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),a.jsx("span",{className:"font-medium truncate",title:j.name,children:j.name})]}),a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 flex-shrink-0",children:[a.jsxs("span",{className:"text-gray-500",children:[(j.size/1024/1024).toFixed(2)," MB"]}),a.jsx(L,{variant:"ghost",size:"sm",onClick:()=>p(j.id),children:a.jsx(ln,{className:"h-4 w-4 text-red-500"})})]})]},j.id))]}),a.jsx(L,{onClick:g,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:!r||i.length===0||!u||!f||!v,children:"Book Service"})]})]})}const R5=Wc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function It({className:e,variant:t,...n}){return a.jsx("div",{className:ne(R5({variant:t}),e),...n})}function Do({documents:e}){const{downloadFile:t}=Ke(),{toast:n}=Oe(),r=async s=>{if(!s.path){n({title:"Download Unavailable",description:"This file does not have a valid path.",variant:"destructive"});return}const i=await t(s.path,s.name);i.success||n({title:"Download Failed",description:i.error||"Could not download the file. Please try again.",variant:"destructive"})};return!e||e.length===0?a.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No documents available."}):a.jsx("div",{className:"py-4 max-h-80 overflow-y-auto space-y-2",children:e.map((s,i)=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-100 rounded-md hover:bg-slate-200/60 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3 truncate",children:[a.jsx(Je,{className:"h-5 w-5 text-slate-500 flex-shrink-0"}),a.jsxs("div",{className:"truncate",children:[a.jsx("p",{className:"text-sm text-slate-800 font-medium truncate",children:s.name}),s.size&&a.jsxs("p",{className:"text-xs text-slate-500",children:[(s.size/1024).toFixed(1)," KB"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.isCertificate&&a.jsx(It,{className:"bg-emerald-100 text-emerald-700 border-emerald-300",children:"Certificate"}),a.jsx(L,{size:"icon",variant:"ghost",onClick:()=>r(s),disabled:!s.path,className:"h-8 w-8",children:a.jsx(Rm,{className:"h-4 w-4"})})]})]},s.path||i))})}const D5=e=>({pending:a.jsx(_t,{className:"h-4 w-4"}),assigned:a.jsx(cn,{className:"h-4 w-4"}),accepted:a.jsx(At,{className:"h-4 w-4 text-sky-600"}),"additional-docs-vle":a.jsx(Za,{className:"h-4 w-4 text-orange-600"}),"additional-docs-dept":a.jsx(Za,{className:"h-4 w-4 text-amber-600"}),"ack-submitted":a.jsx(Je,{className:"h-4 w-4 text-indigo-600"}),"in-progress":a.jsx(_t,{className:"h-4 w-4"}),completed:a.jsx(At,{className:"h-4 w-4 text-green-600"}),rejected:a.jsx(In,{className:"h-4 w-4 text-red-600"})})[e]||a.jsx(_t,{className:"h-4 w-4"}),M5=e=>({pending:"status-pending",assigned:"status-assigned",accepted:"status-accepted","additional-docs-vle":"status-additional-docs-vle","additional-docs-dept":"status-additional-docs-dept","ack-submitted":"status-ack-submitted","in-progress":"status-in-progress",completed:"status-completed",rejected:"status-rejected"})[e]||"status-pending";function O5({booking:e,tasks:t,onOpenReUploadDialog:n,onOpenComplaintDialog:r,getCustomerFacingStatus:s,getLatestRemark:i}){var p;const{downloadFile:o}=Ke(),{toast:l}=Oe(),c=s(e),u=t.find(g=>g.original_id===e.id&&(g.type==="booking"||g.type==="lead")),{QUICK_LOGIN_USERS:d}=ot(),f=c==="completed"&&((p=u==null?void 0:u.documents)==null?void 0:p.some(g=>g.isCertificate===!0)),m=u!=null&&u.vle_id?d.find(g=>g.id===u.vle_id):null,v=(u==null?void 0:u.documents)||[],x=[...e.documents||[],...v],w=Array.from(new Map(x.map(g=>[g.path||g.name,g])).values()),y=async()=>{var j;const g=(j=u==null?void 0:u.documents)==null?void 0:j.find(S=>S.isCertificate===!0);if(g&&g.path){l({title:"Certificate Download Initiated",description:`Downloading ${g.name}.`});const S=await o(g.path,g.name);S.success||l({title:"Download Failed",description:S.error||"Could not download the certificate. Please try again.",variant:"destructive"})}else l({title:"Certificate Not Available",description:"No certificate is currently available for download.",variant:"destructive"})};return a.jsxs(ie,{className:"card-hover animate-fade-in",children:[a.jsx(fe,{children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[a.jsxs("div",{className:"mb-2 sm:mb-0",children:[a.jsx(ge,{className:"text-md sm:text-lg",children:e.service_name}),a.jsxs(je,{className:"text-xs sm:text-sm",children:["Booking ID: ",e.id]})]}),a.jsxs(It,{className:`${M5(c)} flex items-center gap-1 text-xs px-2 py-1`,children:[D5(c)," ",c.replace(/-/g," ").replace(/\b\w/g,g=>g.toUpperCase())]})]})}),a.jsxs(oe,{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 text-xs sm:text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Fee:"})," ",e.fee]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Created:"})," ",new Date(e.created_at).toLocaleDateString()]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Documents:"})," ",w.length," files",a.jsxs(Te,{children:[a.jsx(mt,{asChild:!0,children:a.jsx(L,{variant:"link",size:"sm",className:"p-0 h-auto ml-1",children:a.jsx(sr,{className:"h-3 w-3"})})}),a.jsxs(Se,{children:[a.jsx(Ce,{children:a.jsxs(Ne,{children:["View Documents for ",e.service_name]})}),a.jsx(Do,{documents:w})]})]})]}),m&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Assigned VLE ID:"})," ",m.user_id_custom]})]}),a.jsxs("div",{className:"text-xs sm:text-sm",children:[a.jsx("span",{className:"font-medium",children:"Latest Remark:"})," ",a.jsx("span",{className:"text-gray-600",children:i(e)})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[(c==="additional-docs-vle"||c==="additional-docs-dept")&&a.jsx(L,{variant:"outline",size:"sm",onClick:()=>n(e),children:"Re-upload Documents"}),f&&a.jsxs(L,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:y,children:[a.jsx(Rm,{className:"mr-2 h-4 w-4"}),"Download Certificate"]}),a.jsxs(L,{size:"sm",variant:"outline",onClick:()=>r(e,"complaint"),children:[a.jsx(lb,{className:"mr-2 h-4 w-4"}),"Raise Complaint"]}),a.jsxs(L,{size:"sm",variant:"outline",onClick:()=>r(e,"feedback"),children:[a.jsx(pb,{className:"mr-2 h-4 w-4"}),"Give Feedback"]})]})]})]})}function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function Cs(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function St(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Un(e){St(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||jc(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function I5(e,t){St(2,arguments);var n=Un(e).getTime(),r=Cs(t);return new Date(n+r)}var L5={};function _u(){return L5}function $5(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function F5(e){return St(1,arguments),e instanceof Date||jc(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function V5(e){if(St(1,arguments),!F5(e)&&typeof e!="number")return!1;var t=Un(e);return!isNaN(Number(t))}function U5(e,t){St(2,arguments);var n=Cs(t);return I5(e,-n)}var B5=864e5;function z5(e){St(1,arguments);var t=Un(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/B5)+1}function Sc(e){St(1,arguments);var t=1,n=Un(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function lN(e){St(1,arguments);var t=Un(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Sc(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=Sc(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function W5(e){St(1,arguments);var t=lN(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Sc(n);return r}var H5=6048e5;function G5(e){St(1,arguments);var t=Un(e),n=Sc(t).getTime()-W5(t).getTime();return Math.round(n/H5)+1}function Cc(e,t){var n,r,s,i,o,l,c,u;St(1,arguments);var d=_u(),f=Cs((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Un(e),v=m.getUTCDay(),b=(v<f?7:0)+v-f;return m.setUTCDate(m.getUTCDate()-b),m.setUTCHours(0,0,0,0),m}function cN(e,t){var n,r,s,i,o,l,c,u;St(1,arguments);var d=Un(e),f=d.getUTCFullYear(),m=_u(),v=Cs((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(f+1,0,v),b.setUTCHours(0,0,0,0);var x=Cc(b,t),w=new Date(0);w.setUTCFullYear(f,0,v),w.setUTCHours(0,0,0,0);var y=Cc(w,t);return d.getTime()>=x.getTime()?f+1:d.getTime()>=y.getTime()?f:f-1}function q5(e,t){var n,r,s,i,o,l,c,u;St(1,arguments);var d=_u(),f=Cs((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=cN(e,t),v=new Date(0);v.setUTCFullYear(m,0,f),v.setUTCHours(0,0,0,0);var b=Cc(v,t);return b}var K5=6048e5;function Y5(e,t){St(1,arguments);var n=Un(e),r=Cc(n,t).getTime()-q5(n,t).getTime();return Math.round(r/K5)+1}function we(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var X5={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return we(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):we(r+1,2)},d:function(t,n){return we(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return we(t.getUTCHours()%12||12,n.length)},H:function(t,n){return we(t.getUTCHours(),n.length)},m:function(t,n){return we(t.getUTCMinutes(),n.length)},s:function(t,n){return we(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return we(i,n.length)}};const cr=X5;var Ws={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Q5={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return cr.y(t,n)},Y:function(t,n,r,s){var i=cN(t,s),o=i>0?i:1-i;if(n==="YY"){var l=o%100;return we(l,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):we(o,n.length)},R:function(t,n){var r=lN(t);return we(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return we(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return we(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return we(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return cr.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return we(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var i=Y5(t,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):we(i,n.length)},I:function(t,n,r){var s=G5(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):we(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):cr.d(t,n)},D:function(t,n,r){var s=z5(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):we(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var i=t.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return we(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var i=t.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return we(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return we(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),i;switch(s===12?i=Ws.noon:s===0?i=Ws.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),i;switch(s>=17?i=Ws.evening:s>=12?i=Ws.afternoon:s>=4?i=Ws.morning:i=Ws.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return cr.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):cr.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):we(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):we(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):cr.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):cr.s(t,n)},S:function(t,n){return cr.S(t,n)},X:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return gy(o);case"XXXX":case"XX":return ns(o);case"XXXXX":case"XXX":default:return ns(o,":")}},x:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(n){case"x":return gy(o);case"xxxx":case"xx":return ns(o);case"xxxxx":case"xxx":default:return ns(o,":")}},O:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+py(o,":");case"OOOO":default:return"GMT"+ns(o,":")}},z:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+py(o,":");case"zzzz":default:return"GMT"+ns(o,":")}},t:function(t,n,r,s){var i=s._originalDate||t,o=Math.floor(i.getTime()/1e3);return we(o,n.length)},T:function(t,n,r,s){var i=s._originalDate||t,o=i.getTime();return we(o,n.length)}};function py(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var o=t||"";return n+String(s)+o+we(i,2)}function gy(e,t){if(e%60===0){var n=e>0?"-":"+";return n+we(Math.abs(e)/60,2)}return ns(e,t)}function ns(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),i=we(Math.floor(s/60),2),o=we(s%60,2);return r+i+n+o}const J5=Q5;var vy=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},uN=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Z5=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return vy(t,n);var o;switch(s){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",vy(s,n)).replace("{{time}}",uN(i,n))},e3={p:uN,P:Z5};const t3=e3;var n3=["D","DD"],r3=["YY","YYYY"];function s3(e){return n3.indexOf(e)!==-1}function i3(e){return r3.indexOf(e)!==-1}function xy(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var a3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},o3=function(t,n,r){var s,i=a3[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};const l3=o3;function Rd(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var c3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},u3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},d3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},f3={date:Rd({formats:c3,defaultWidth:"full"}),time:Rd({formats:u3,defaultWidth:"full"}),dateTime:Rd({formats:d3,defaultWidth:"full"})};const h3=f3;var m3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},p3=function(t,n,r,s){return m3[t]};const g3=p3;function la(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):i;s=e.formattingValues[o]||e.formattingValues[i]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var v3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},x3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},y3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},w3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},b3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},j3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},S3=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},C3={ordinalNumber:S3,era:la({values:v3,defaultWidth:"wide"}),quarter:la({values:x3,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:la({values:y3,defaultWidth:"wide"}),day:la({values:w3,defaultWidth:"wide"}),dayPeriod:la({values:b3,defaultWidth:"wide",formattingValues:j3,defaultFormattingWidth:"wide"})};const N3=C3;function ca(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?_3(l,function(f){return f.test(o)}):k3(l,function(f){return f.test(o)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(o.length);return{value:u,rest:d}}}function k3(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function _3(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function E3(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var l=t.slice(s.length);return{value:o,rest:l}}}var T3=/^(\d+)(th|st|nd|rd)?/i,P3=/\d+/i,A3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},R3={any:[/^b/i,/^(a|c)/i]},D3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},M3={any:[/1/i,/2/i,/3/i,/4/i]},O3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},I3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},L3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},F3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},V3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},U3={ordinalNumber:E3({matchPattern:T3,parsePattern:P3,valueCallback:function(t){return parseInt(t,10)}}),era:ca({matchPatterns:A3,defaultMatchWidth:"wide",parsePatterns:R3,defaultParseWidth:"any"}),quarter:ca({matchPatterns:D3,defaultMatchWidth:"wide",parsePatterns:M3,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ca({matchPatterns:O3,defaultMatchWidth:"wide",parsePatterns:I3,defaultParseWidth:"any"}),day:ca({matchPatterns:L3,defaultMatchWidth:"wide",parsePatterns:$3,defaultParseWidth:"any"}),dayPeriod:ca({matchPatterns:F3,defaultMatchWidth:"any",parsePatterns:V3,defaultParseWidth:"any"})};const B3=U3;var z3={code:"en-US",formatDistance:l3,formatLong:h3,formatRelative:g3,localize:N3,match:B3,options:{weekStartsOn:0,firstWeekContainsDate:1}};const W3=z3;var H3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,G3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,q3=/^'([^]*?)'?$/,K3=/''/g,Y3=/[a-zA-Z]/;function Oi(e,t,n){var r,s,i,o,l,c,u,d,f,m,v,b,x,w,y,p,g,j;St(2,arguments);var S=String(t),k=_u(),_=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:k.locale)!==null&&r!==void 0?r:W3,C=Cs((i=(o=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:k.firstWeekContainsDate)!==null&&o!==void 0?o:(f=k.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=Cs((v=(b=(x=(w=n==null?void 0:n.weekStartsOn)!==null&&w!==void 0?w:n==null||(y=n.locale)===null||y===void 0||(p=y.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&x!==void 0?x:k.weekStartsOn)!==null&&b!==void 0?b:(g=k.locale)===null||g===void 0||(j=g.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&v!==void 0?v:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!_.localize)throw new RangeError("locale must contain localize property");if(!_.formatLong)throw new RangeError("locale must contain formatLong property");var T=Un(e);if(!V5(T))throw new RangeError("Invalid time value");var O=$5(T),R=U5(T,O),V={firstWeekContainsDate:C,weekStartsOn:N,locale:_,_originalDate:T},E=S.match(G3).map(function(I){var P=I[0];if(P==="p"||P==="P"){var z=t3[P];return z(I,_.formatLong)}return I}).join("").match(H3).map(function(I){if(I==="''")return"'";var P=I[0];if(P==="'")return X3(I);var z=J5[P];if(z)return!(n!=null&&n.useAdditionalWeekYearTokens)&&i3(I)&&xy(I,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&s3(I)&&xy(I,t,String(e)),z(R,I,_.localize,V);if(P.match(Y3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return I}).join("");return E}function X3(e){var t=e.match(q3);return t?t[1].replace(K3,"'"):e}function Q3({complaint:e}){return a.jsxs(ie,{className:"card-hover animate-fade-in",children:[a.jsx(fe,{children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[a.jsxs("div",{className:"mb-2 sm:mb-0",children:[a.jsx(ge,{className:"text-md sm:text-lg",children:e.subject||"Feedback"}),a.jsxs(je,{className:"text-xs sm:text-sm",children:[e.type==="feedback"?"Feedback":"Complaint"," ID: ",e.id," | Booking ID: ",e.booking_id]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[e.rating>0&&a.jsx("div",{className:"flex items-center",children:[...Array(5)].map((t,n)=>a.jsx(Lm,{className:`h-4 w-4 ${n<e.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},n))}),a.jsxs(It,{className:`${e.status==="open"?"bg-yellow-100 text-yellow-800":e.status==="resolved"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"} flex items-center gap-1 text-xs px-2 py-1`,children:[e.status==="open"?a.jsx(_t,{className:"h-4 w-4"}):a.jsx(At,{className:"h-4 w-4"}),e.status.toUpperCase()]})]})]})}),a.jsxs(oe,{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-gray-700",children:e.description}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",e.created_at?Oi(new Date(e.created_at),"PPpp"):"Invalid Date"]}),e.resolution_details&&a.jsxs("div",{className:"mt-2 p-2 bg-green-50 border-l-4 border-green-500 rounded",children:[a.jsx("p",{className:"text-xs font-semibold text-green-700",children:"Resolution:"}),a.jsx("p",{className:"text-xs text-green-600",children:e.resolution_details.remarks}),e.resolution_details.documents&&e.resolution_details.documents.length>0&&a.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Attached: ",e.resolution_details.documents.map(t=>t.name).join(", ")]})]})]})]})}function J3({isOpen:e,onOpenChange:t,item:n,onSubmit:r}){const[s,i]=h.useState([]),o=h.useRef(null),{toast:l}=Oe(),c=f=>{const m=Array.from(f.target.files);if(m.length===0)return;const v=m.map(b=>({id:Date.now()+Math.random().toString(36).substring(2,9),name:b.name,size:b.size,type:b.type,fileObject:b,uploadedAt:new Date().toISOString()}));i(b=>[...b,...v]),l({title:"Documents Added",description:`${m.length} document(s) ready for re-upload.`}),o.current&&(o.current.value="")},u=f=>{i(m=>m.filter(v=>v.id!==f))},d=()=>{if(s.length===0){l({title:"No Documents",description:"Please select documents to re-upload.",variant:"destructive"});return}r(n,s),i([]),t(!1)};return n?a.jsx(Te,{open:e,onOpenChange:f=>{f||i([]),t(f)},children:a.jsxs(Se,{children:[a.jsxs(Ce,{children:[a.jsxs(Ne,{children:["Re-upload Documents for ",n.serviceName]}),a.jsx(un,{children:"The VLE or Department has requested additional/corrected documents. Please upload them here."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(B,{htmlFor:"reupload-file-input-actual",children:"Upload New Documents"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[a.jsx(zi,{className:"mx-auto h-10 w-10 text-gray-400"}),a.jsx(B,{htmlFor:"reupload-file-input-actual",className:"cursor-pointer mt-2 block text-sm font-medium text-blue-600 hover:text-blue-500",children:"Click to select files"}),a.jsx(Z,{id:"reupload-file-input-actual",type:"file",multiple:!0,className:"hidden",onChange:c,ref:o,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"})]})]}),s.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(B,{children:"Selected Documents for Re-upload"}),s.map(f=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-100 rounded text-xs",children:[a.jsx("span",{className:"truncate",children:f.name}),a.jsx(L,{variant:"ghost",size:"sm",onClick:()=>u(f.id),children:a.jsx(ln,{className:"h-3 w-3 text-red-500"})})]},f.id))]}),a.jsx(L,{onClick:d,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:s.length===0,children:"Submit Re-uploaded Documents"})]})]})}):null}const Is=X.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Is.displayName="Textarea";function Z3({isOpen:e,onOpenChange:t,booking:n,onSubmit:r,type:s="complaint"}){const[i,o]=h.useState(""),[l,c]=h.useState(""),[u,d]=h.useState(0),{toast:f}=Oe(),m=()=>{if(s==="complaint"&&!i){f({title:"Complaint Incomplete",description:"Please provide a subject for your complaint.",variant:"destructive"});return}if(!l){f({title:`${s.charAt(0).toUpperCase()+s.slice(1)} Incomplete`,description:"Please provide a description.",variant:"destructive"});return}if(s==="feedback"&&u===0){f({title:"Feedback Incomplete",description:"Please provide a star rating for your feedback.",variant:"destructive"});return}r(n,s==="complaint"?i:"",l,s==="feedback"?u:0),o(""),c(""),d(0),t(!1)};return n?a.jsx(Te,{open:e,onOpenChange:v=>{v||(o(""),c(""),d(0)),t(v)},children:a.jsxs(Se,{children:[a.jsxs(Ce,{children:[a.jsxs(Ne,{children:["Raise a ",s.charAt(0).toUpperCase()+s.slice(1)," for Booking ID: ",n.id]}),a.jsx(un,{children:s==="complaint"?"Describe the issue you are facing.":"Provide your feedback and a star rating."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[s==="complaint"&&a.jsxs("div",{children:[a.jsx(B,{htmlFor:"complaint-subject",children:"Subject"}),a.jsx(Z,{id:"complaint-subject",value:i,onChange:v=>o(v.target.value),placeholder:"e.g., Delay in processing, Incorrect information"})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"complaint-description",children:"Description / Comments"}),a.jsx(Is,{id:"complaint-description",value:l,onChange:v=>c(v.target.value),placeholder:s==="complaint"?"Provide details about your issue...":"Share your thoughts on the service..."})]}),s==="feedback"&&a.jsxs("div",{children:[a.jsx(B,{children:"Rating (1-5 Stars)"}),a.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(v=>a.jsx(L,{variant:"ghost",size:"icon",onClick:()=>d(v),children:a.jsx(Lm,{className:`h-6 w-6 ${v<=u?"text-yellow-400 fill-yellow-400":"text-gray-300"}`})},v))})]})]}),a.jsxs(tt,{children:[a.jsx(st,{asChild:!0,children:a.jsx(L,{variant:"outline",children:"Cancel"})}),a.jsxs(L,{onClick:m,children:["Submit ",s.charAt(0).toUpperCase()+s.slice(1)]})]})]})}):null}function Lt({className:e,...t}){return a.jsx("div",{className:ne("animate-pulse rounded-md bg-slate-200/80",e),...t})}function eF({user:e}){const{toast:t}=Oe(),{addDemoMoney:n,withdrawDemoMoney:r,getWalletDetails:s}=Ke(),{refreshUser:i}=ot(),[o,l]=h.useState({balance:0,transactions:[]}),[c,u]=h.useState(!0),[d,f]=h.useState(!1),[m,v]=h.useState(!1),[b,x]=h.useState(""),[w,y]=h.useState(""),[p,g]=h.useState("");h.useEffect(()=>{const C=async()=>{u(!0);const N=await s(e.id);N&&l({balance:N.balance??0,transactions:N.transactions||[]}),u(!1)};e!=null&&e.id&&C()},[e.id,s,e.wallet_balance]);const j=async()=>{const C=parseFloat(b);if(isNaN(C)||C<=0){t({title:"Invalid Amount",description:"Please enter a valid positive amount.",variant:"destructive"});return}const N=await n(e.id,C);N.success?(t({title:"Money Added",description:`${C.toFixed(2)} added to your demo wallet.`}),await i(),f(!1),x("")):t({title:"Failed to Add Money",description:N.error||"An unknown error occurred.",variant:"destructive"})},S=async()=>{const C=parseFloat(w);if(isNaN(C)||C<=0){t({title:"Invalid Amount",description:"Please enter a valid positive amount.",variant:"destructive"});return}if(!p){t({title:"No Bank Account Selected",description:"Please select a bank account for withdrawal.",variant:"destructive"});return}const N=await r(e.id,C,p);N.success?(t({title:"Withdrawal Successful",description:`${C.toFixed(2)} withdrawn from your demo wallet.`}),await i(),v(!1),y(""),g("")):t({title:"Withdrawal Failed",description:N.error||"An unknown error occurred.",variant:"destructive"})},k=C=>{switch(C){case"deposit":case"credit":case"refund":case"payout":return"text-emerald-600";case"debit":case"withdrawal":return"text-red-600";default:return"text-slate-600"}},_=()=>c?a.jsxs("div",{className:"space-y-8",children:[a.jsxs(ie,{className:"shadow-xl border-slate-200",children:[a.jsx(fe,{className:"border-b border-slate-200 bg-gradient-to-r from-primary/10 to-sky-50/10",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[a.jsx(Lt,{className:"h-8 w-48"}),a.jsxs("div",{className:"mt-2 sm:mt-0 text-right",children:[a.jsx(Lt,{className:"h-4 w-24 mb-2"}),a.jsx(Lt,{className:"h-10 w-32"})]})]})}),a.jsxs(oe,{className:"pt-6 space-x-0 sm:space-x-4 flex flex-col sm:flex-row gap-3 sm:gap-0",children:[a.jsx(Lt,{className:"h-10 w-full sm:w-44"}),a.jsx(Lt,{className:"h-10 w-full sm:w-52"})]})]}),a.jsxs(ie,{className:"shadow-xl border-slate-200",children:[a.jsxs(fe,{className:"border-b border-slate-200",children:[a.jsx(Lt,{className:"h-7 w-56"}),a.jsx(Lt,{className:"h-4 w-48 mt-2"})]}),a.jsx(oe,{className:"pt-6 space-y-3",children:[...Array(3)].map((C,N)=>a.jsxs("div",{className:"p-3 border rounded-md flex justify-between items-center",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Lt,{className:"h-5 w-32"}),a.jsx(Lt,{className:"h-4 w-48"}),a.jsx(Lt,{className:"h-3 w-40"})]}),a.jsxs("div",{className:"text-right space-y-2",children:[a.jsx(Lt,{className:"h-4 w-20 ml-auto"}),a.jsx(Lt,{className:"h-5 w-24 ml-auto"})]})]},N))})]})]}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs(ie,{className:"shadow-xl border-slate-200",children:[a.jsx(fe,{className:"border-b border-slate-200 bg-gradient-to-r from-primary/10 to-sky-50/10",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[a.jsxs(ge,{className:"text-2xl font-poppins text-primary flex items-center",children:[a.jsx(xo,{className:"mr-3 h-7 w-7"})," My Demo Wallet"]}),a.jsxs("div",{className:"mt-2 sm:mt-0 text-right",children:[a.jsx("p",{className:"text-sm text-slate-500",children:"Current Balance"}),a.jsxs("p",{className:"text-3xl font-bold text-slate-800 flex items-center justify-end",children:[a.jsx(gi,{className:"h-6 w-6 mr-1"}),(o.balance??0).toFixed(2)]})]})]})}),a.jsxs(oe,{className:"pt-6 space-x-0 sm:space-x-4 flex flex-col sm:flex-row gap-3 sm:gap-0",children:[a.jsxs(Te,{open:d,onOpenChange:f,children:[a.jsx(mt,{asChild:!0,children:a.jsxs(L,{className:"w-full sm:w-auto bg-emerald-500 hover:bg-emerald-600 text-white",children:[a.jsx(Bi,{className:"mr-2 h-5 w-5"})," Add Demo Money"]})}),a.jsxs(Se,{children:[a.jsx(Ce,{children:a.jsx(Ne,{children:"Add Demo Money to Wallet"})}),a.jsxs("div",{className:"py-4 space-y-2",children:[a.jsx(B,{htmlFor:"addAmount",children:"Amount ()"}),a.jsx(Z,{id:"addAmount",type:"number",value:b,onChange:C=>x(C.target.value),placeholder:"Enter amount"})]}),a.jsxs(tt,{children:[a.jsx(st,{asChild:!0,children:a.jsx(L,{variant:"ghost",children:"Cancel"})}),a.jsx(L,{onClick:j,className:"bg-emerald-500 hover:bg-emerald-600 text-white",children:"Add Money"})]})]})]}),a.jsxs(Te,{open:m,onOpenChange:v,children:[a.jsx(mt,{asChild:!0,children:a.jsxs(L,{variant:"outline",className:"w-full sm:w-auto border-red-500 text-red-500 hover:bg-red-500/10",children:[a.jsx(db,{className:"mr-2 h-5 w-5"})," Withdraw Demo Money"]})}),a.jsxs(Se,{children:[a.jsx(Ce,{children:a.jsx(Ne,{children:"Withdraw Demo Money"})}),a.jsxs("div",{className:"py-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx(B,{htmlFor:"withdrawAmount",children:"Amount ()"}),a.jsx(Z,{id:"withdrawAmount",type:"number",value:w,onChange:C=>y(C.target.value),placeholder:"Enter amount"})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"bankAccount",children:"Select Bank Account"}),a.jsxs(Gt,{value:p,onValueChange:g,children:[a.jsx(Mt,{id:"bankAccount",children:a.jsx(qt,{placeholder:"Choose account for withdrawal"})}),a.jsx(Ot,{children:e.bank_accounts&&e.bank_accounts.length>0?e.bank_accounts.map((C,N)=>a.jsxs(Ge,{value:C.accountNumber,children:[C.bankName," - ****",C.accountNumber.slice(-4)]},C.accountNumber||N)):a.jsx("div",{className:"p-4 text-sm text-center text-slate-500",children:"No bank accounts added. Please add one in your profile."})})]})]})]}),a.jsxs(tt,{children:[a.jsx(st,{asChild:!0,children:a.jsx(L,{variant:"ghost",children:"Cancel"})}),a.jsx(L,{onClick:S,variant:"destructive",disabled:!e.bank_accounts||e.bank_accounts.length===0,children:"Withdraw"})]})]})]})]})]}),a.jsxs(ie,{className:"shadow-xl border-slate-200",children:[a.jsxs(fe,{className:"border-b border-slate-200",children:[a.jsxs(ge,{className:"text-xl font-poppins text-slate-800 flex items-center",children:[a.jsx(Dm,{className:"mr-3 h-6 w-6 text-primary"})," Transaction History"]}),a.jsx(je,{className:"text-slate-500",children:"Your recent wallet activity."})]}),a.jsx(oe,{className:"pt-6",children:o.transactions.length===0?a.jsx("p",{className:"text-center text-slate-500 py-8",children:"No transactions yet."}):a.jsx("ul",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:o.transactions.map(C=>a.jsxs("li",{className:"p-3 border border-slate-200 rounded-md flex justify-between items-center bg-slate-50/70 hover:bg-slate-100 transition-colors",children:[a.jsxs("div",{children:[a.jsxs("p",{className:`font-medium text-sm ${k(C.type)}`,children:[C.type.charAt(0).toUpperCase()+C.type.slice(1),": ",(C.amount??0).toFixed(2)]}),a.jsx("p",{className:"text-xs text-slate-600",children:C.description}),a.jsx("p",{className:"text-xs text-slate-400",children:new Date(C.timestamp).toLocaleString()})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Balance After"}),a.jsxs("p",{className:"text-sm font-medium text-slate-700",children:["",(C.balanceAfterTransaction??0).toFixed(2)]})]})]},C.id))})})]})]});return a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:_()})}function tF({user:e}){const{toast:t}=Oe(),{updateUserDetails:n,addBankAccount:r,removeBankAccount:s}=Ke();ot();const[i,o]=h.useState(!1),[l,c]=h.useState({name:e.name||"",email:e.email||"",phone:e.phone||"",address:e.address||""}),[u,d]=h.useState(e.bank_accounts||[]),[f,m]=h.useState(!1),[v,b]=h.useState({bankName:"",accountNumber:"",ifsc:"",accountHolderName:e.name||""});h.useEffect(()=>{c({name:e.name||"",email:e.email||"",phone:e.phone||"",address:e.address||""}),d(e.bank_accounts||[])},[e]);const x=j=>{const{name:S,value:k}=j.target;c(_=>({..._,[S]:k}))},w=j=>{const{name:S,value:k}=j.target;b(_=>({..._,[S]:k}))},y=async()=>{if(!l.name||!l.phone||!l.address){t({title:"Missing Information",description:"Name, phone, and address are required.",variant:"destructive"});return}await n(e.id,{name:l.name,phone:l.phone,address:l.address})?(t({title:"Profile Updated",description:"Your personal details have been saved."}),o(!1)):t({title:"Update Failed",description:"Could not update profile details.",variant:"destructive"})},p=async()=>{if(!v.bankName||!v.accountNumber||!v.ifsc||!v.accountHolderName){t({title:"All Bank Fields Required",variant:"destructive"});return}await r(e.id,v)?(t({title:"Bank Account Added",description:`${v.bankName} account ending in ${v.accountNumber.slice(-4)} added.`}),m(!1),b({bankName:"",accountNumber:"",ifsc:"",accountHolderName:e.name||""})):t({title:"Failed to Add Bank Account",variant:"destructive"})},g=async j=>{const S=await s(e.id,j);t(S?{title:"Bank Account Removed",description:`Account ending in ${j.slice(-4)} removed.`}:{title:"Failed to Remove Bank Account",variant:"destructive"})};return a.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[a.jsxs(ie,{className:"shadow-xl border-slate-200",children:[a.jsxs(fe,{className:"border-b border-slate-200",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs(ge,{className:"text-2xl font-poppins text-slate-800 flex items-center",children:[a.jsx(cn,{className:"mr-3 h-7 w-7 text-primary"})," Personal Details"]}),!i&&a.jsxs(L,{variant:"outline",size:"sm",onClick:()=>o(!0),className:"text-primary border-primary hover:bg-primary/10",children:[a.jsx(Im,{className:"mr-2 h-4 w-4"})," Edit"]})]}),a.jsx(je,{className:"text-slate-500",children:"View and update your personal information."})]}),a.jsx(oe,{className:"pt-6 space-y-4",children:i?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(B,{htmlFor:"name",className:"text-slate-700",children:"Full Name"}),a.jsx(Z,{id:"name",name:"name",value:l.name,onChange:x,className:"mt-1 bg-slate-50 border-slate-300"})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"email",className:"text-slate-700",children:"Email (Cannot be changed)"}),a.jsx(Z,{id:"email",name:"email",value:l.email,disabled:!0,className:"mt-1 bg-slate-200 border-slate-300 cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"phone",className:"text-slate-700",children:"Phone Number"}),a.jsx(Z,{id:"phone",name:"phone",value:l.phone,onChange:x,className:"mt-1 bg-slate-50 border-slate-300"})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"address",className:"text-slate-700",children:"Address"}),a.jsx(Z,{id:"address",name:"address",value:l.address,onChange:x,className:"mt-1 bg-slate-50 border-slate-300"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:[a.jsx("strong",{className:"text-slate-600",children:"Name:"})," ",e.name]}),a.jsxs("p",{children:[a.jsx("strong",{className:"text-slate-600",children:"Email:"})," ",e.email]}),a.jsxs("p",{children:[a.jsx("strong",{className:"text-slate-600",children:"Phone:"})," ",e.phone]}),a.jsxs("p",{children:[a.jsx("strong",{className:"text-slate-600",children:"Address:"})," ",e.address]})]})}),i&&a.jsxs(Ps,{className:"border-t border-slate-200 pt-6 flex justify-end space-x-2",children:[a.jsx(L,{variant:"ghost",onClick:()=>{o(!1),c({name:e.name,email:e.email,phone:e.phone,address:e.address})},children:"Cancel"}),a.jsxs(L,{onClick:y,className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:[a.jsx(fb,{className:"mr-2 h-4 w-4"})," Save Changes"]})]})]}),a.jsxs(ie,{className:"shadow-xl border-slate-200",children:[a.jsxs(fe,{className:"border-b border-slate-200",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs(ge,{className:"text-2xl font-poppins text-slate-800 flex items-center",children:[a.jsx(sb,{className:"mr-3 h-7 w-7 text-primary"})," Bank Accounts"]}),a.jsxs(Te,{open:f,onOpenChange:m,children:[a.jsx(mt,{asChild:!0,children:a.jsxs(L,{variant:"outline",size:"sm",className:"text-primary border-primary hover:bg-primary/10",children:[a.jsx(Bi,{className:"mr-2 h-4 w-4"})," Add Bank Account"]})}),a.jsxs(Se,{children:[a.jsxs(Ce,{children:[a.jsx(Ne,{children:"Add New Bank Account"}),a.jsx(un,{children:"Enter your bank account details for withdrawals."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(B,{htmlFor:"accountHolderName",children:"Account Holder Name"}),a.jsx(Z,{id:"accountHolderName",name:"accountHolderName",value:v.accountHolderName,onChange:w})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"bankName",children:"Bank Name"}),a.jsx(Z,{id:"bankName",name:"bankName",value:v.bankName,onChange:w})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"accountNumber",children:"Account Number"}),a.jsx(Z,{id:"accountNumber",name:"accountNumber",value:v.accountNumber,onChange:w})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"ifsc",children:"IFSC Code"}),a.jsx(Z,{id:"ifsc",name:"ifsc",value:v.ifsc,onChange:w})]})]}),a.jsxs(tt,{children:[a.jsx(st,{asChild:!0,children:a.jsx(L,{variant:"ghost",children:"Cancel"})}),a.jsx(L,{onClick:p,children:"Add Account"})]})]})]})]}),a.jsx(je,{className:"text-slate-500",children:"Manage your linked bank accounts for withdrawals."})]}),a.jsx(oe,{className:"pt-6",children:u.length===0?a.jsx("p",{className:"text-center text-slate-500 py-4",children:"No bank accounts added yet."}):a.jsx("ul",{className:"space-y-3",children:u.map((j,S)=>a.jsxs("li",{className:"p-3 border border-slate-200 rounded-md flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-slate-700",children:[j.bankName," - ",a.jsxs("span",{className:"text-slate-600",children:["A/C: ****",j.accountNumber.slice(-4)]})]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Holder: ",j.accountHolderName,", IFSC: ",j.ifsc]})]}),a.jsx(L,{variant:"ghost",size:"icon",onClick:()=>g(j.accountNumber),className:"text-red-500 hover:text-red-400 hover:bg-red-500/10",children:a.jsx(ln,{className:"h-4 w-4"})})]},S))})})]})]})}function Ii(){const{user:e}=ot(),{getNotificationsForUser:t,getUnreadCountForUser:n,markAsRead:r,markAllAsRead:s,clearNotificationsForUser:i}=Ke(),[o,l]=h.useState([]),[c,u]=h.useState(0),[d,f]=h.useState(!1),m=mu();h.useEffect(()=>{e&&(l(t(e.id)),u(n(e.id)))},[e,t,n,o]);const v=y=>{r(y.id),y.link&&m(y.link),f(!1)},b=()=>{e&&s(e.id)},x=()=>{e&&i(e.id)},w=y=>{switch(y){case"success":return"border-l-4 border-green-500";case"error":return"border-l-4 border-red-500";case"warning":return"border-l-4 border-yellow-500";default:return"border-l-4 border-blue-500"}};return a.jsxs(ju,{open:d,onOpenChange:f,children:[a.jsx(Su,{asChild:!0,children:a.jsxs(L,{variant:"ghost",size:"icon",className:"relative notification-badge-container",children:[a.jsx(Tv,{className:"h-5 w-5 text-slate-600 hover:text-primary transition-colors"}),c>0&&a.jsx(Pe.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:500,damping:30},className:"notification-badge",children:c>9?"9+":c})]})}),a.jsxs(Ro,{align:"end",className:"w-80 sm:w-96 max-h-[70vh] overflow-y-auto bg-card shadow-2xl border-border rounded-lg p-0",children:[a.jsxs(SC,{className:"flex justify-between items-center p-3 border-b border-border sticky top-0 bg-card z-10",children:[a.jsx("span",{className:"font-semibold text-lg text-foreground",children:"Notifications"}),o.length>0&&a.jsx(L,{variant:"link",size:"sm",onClick:b,className:"text-xs text-primary p-0 h-auto",children:"Mark all as read"})]}),a.jsx(vp,{children:o.length===0?a.jsxs(Pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-8 px-4",children:[a.jsx(Tv,{className:"mx-auto h-12 w-12 text-slate-400 mb-3"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No new notifications."}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"You're all caught up!"})]}):a.jsx("div",{className:"divide-y divide-border",children:o.map((y,p)=>a.jsx(Pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{delay:p*.05},children:a.jsxs(nn,{className:`p-3 flex flex-col items-start cursor-pointer hover:bg-accent focus:bg-accent transition-colors duration-150 ${y.read?"":"bg-primary/5"} ${w(y.type)}`,onClick:()=>v(y),children:[a.jsxs("div",{className:"w-full flex justify-between items-start mb-1",children:[a.jsx("span",{className:`font-medium text-sm ${y.read?"text-muted-foreground":"text-foreground font-semibold"}`,children:y.title||"Notification"}),!y.read&&a.jsx(It,{variant:"default",className:"h-2 w-2 p-0 rounded-full bg-primary"})]}),a.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed mb-1.5",children:y.message}),a.jsxs("div",{className:"w-full flex justify-between items-center",children:[a.jsxs("span",{className:"text-xs text-slate-400",children:[new Date(y.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",new Date(y.timestamp).toLocaleDateString([],{day:"2-digit",month:"short"})]}),y.link&&a.jsxs(L,{variant:"link",size:"xs",className:"text-xs text-primary p-0 h-auto hover:underline flex items-center gap-1",onClick:g=>{g.stopPropagation(),v(y)},children:["View Details ",a.jsx(bP,{className:"h-3 w-3"})]})]})]})},y.id))})}),o.length>0&&a.jsx(Mi,{className:"my-0"}),a.jsx("div",{className:"p-2 sticky bottom-0 bg-card border-t border-border z-10",children:a.jsxs(L,{variant:"outline",size:"sm",className:"w-full text-muted-foreground hover:text-destructive hover:border-destructive/50",onClick:x,children:[a.jsx($m,{className:"mr-2 h-3.5 w-3.5"})," Clear All Notifications"]})})]})]})}const ml=[{value:"my-bookings",label:"My Bookings",icon:a.jsx(Kc,{className:"mr-1.5 h-4 w-4"})},{value:"book-service",label:"Book New Service",icon:a.jsx(Bi,{className:"mr-1.5 h-4 w-4"})},{value:"my-wallet",label:"My Wallet",icon:a.jsx(xo,{className:"mr-1.5 h-4 w-4"})},{value:"my-complaints",label:"My Issues",icon:a.jsx(Za,{className:"mr-1.5 h-4 w-4"})},{value:"my-profile",label:"My Profile",icon:a.jsx(Or,{className:"mr-1.5 h-4 w-4"})}];function nF({user:e,onLogout:t}){const{services:n,bookings:r,createBooking:s,addDocumentsToTask:i,tasks:o,createComplaint:l,complaints:c,addDocumentsToBooking:u,addNotification:d}=Ke(),{toast:f}=Oe();Hi(),mu();const[m,v]=iS(),[b,x]=h.useState(null),[w,y]=h.useState(!1),[p,g]=h.useState(null),[j,S]=h.useState(!1),[k,_]=h.useState("complaint"),[C,N]=h.useState(m.get("tab")||"my-bookings"),[T,O]=h.useState(!1);if(h.useEffect(()=>{const $=m.get("tab"),te=m.get("bookingId"),ee=m.get("complaintId");if($&&ml.find(J=>J.value===$)&&N($),$==="my-bookings"&&te){const J=document.getElementById(`booking-${te}`);J&&setTimeout(()=>J.scrollIntoView({behavior:"smooth",block:"center"}),100)}else if($==="my-complaints"&&ee){const J=document.getElementById(`complaint-${ee}`);J&&setTimeout(()=>J.scrollIntoView({behavior:"smooth",block:"center"}),100)}},[m]),!e)return null;const R=$=>{N($),v({tab:$})},V=r.filter($=>$.customer_id===e.id).sort(($,te)=>new Date(te.created_at)-new Date($.created_at)),E=c.filter($=>$.customer_id===e.id).sort(($,te)=>new Date(te.created_at)-new Date($.created_at)),I=async($,te,ee)=>{const J=await s($,e.id,ee,te);J.success?(f({title:"Service Booked Successfully!",description:`Your booking ID is ${J.booking.id}. You can track its status in 'My Bookings'.`,variant:"default"}),R("my-bookings"),d(e.id,`Service "${J.booking.service_name}" booked successfully. ID: ${J.booking.id}`,"success",`/customer-dashboard?tab=my-bookings&bookingId=${J.booking.id}`,"Booking Confirmed"),d("admin",`New booking by ${e.name} for service "${J.booking.service_name}". ID: ${J.booking.id}`,"info",`/admin-dashboard?tab=all-bookings&bookingId=${J.booking.id}`,"New Booking Alert")):f({title:"Booking Failed",description:J.error||"Could not book service.",variant:"destructive"})},P=$=>{x($),y(!0)},z=async($,te)=>{const ee=o.find(ae=>ae.original_id===$.id&&(ae.type===$.type||$.type==="booking"&&ae.type==="lead"&&ae.original_id===$.id));if(!ee){f({title:"Error Processing Request",description:"Associated task not found. Please contact support.",variant:"destructive"});return}let J="accepted";(ee.status==="additional-docs-vle"||ee.status==="additional-docs-dept")&&(J=ee.task_phase===2?"accepted":"ack-submitted"),await i(ee.id,te,"Customer re-uploaded documents as requested.",J)?(f({title:"Documents Submitted",description:"Your additional documents have been submitted. The task status is updated and is now under process."}),d(e.id,`Additional documents submitted for ${$.service_name}.`,"info",`/customer-dashboard?tab=my-bookings&bookingId=${$.id}`,"Documents Submitted"),ee.vle_id&&d(ee.vle_id,`Customer submitted additional documents for task ${ee.id} (${$.service_name}).`,"info",`/vle-dashboard?tab=assigned-tasks&taskId=${ee.id}`,"Customer Update"),d("admin",`Customer submitted additional documents for task ${ee.id} (${$.service_name}).`,"info",`/admin-dashboard?tab=all-bookings&bookingId=${$.id}`,"Customer Update")):f({title:"Upload Failed",description:"There was an error submitting your documents. Please try again.",variant:"destructive"}),y(!1),x(null)},A=($,te)=>{g($),_(te),S(!0)},D=async($,te,ee,J)=>{const G=await l($.id,e.id,te,ee,J,k);G.success?(f({title:`${k.charAt(0).toUpperCase()+k.slice(1)} Submitted`,description:`Thank you! Your ${k} has been recorded.`}),d(e.id,`Your ${k} for booking ${$.id} has been submitted.`,"info",`/customer-dashboard?tab=my-complaints&complaintId=${G.complaint.id}`,`${k.charAt(0).toUpperCase()+k.slice(1)} Submitted`),d("admin",`New ${k} submitted by ${e.name} for booking ${$.id}.`,"warning",`/admin-dashboard?tab=issues-management&complaintId=${G.complaint.id}`,`New ${k.charAt(0).toUpperCase()+k.slice(1)}`),S(!1),g(null),R("my-complaints")):f({title:"Submission Failed",description:G.error,variant:"destructive"})},W=$=>{const te=o.find(ee=>ee.original_id===$.id&&(ee.type===$.type||$.type==="booking"&&ee.type==="lead"&&ee.original_id===$.id));if(te){if(te.status==="rejected"&&te.history&&te.history.length>0){const ee=te.history[te.history.length-1];if(ee&&ee.remarks&&ee.remarks.startsWith("Task rejected by VLE:"))return"pending_assignment"}return te.status==="pending_commission_approval"||te.status==="commission_approved"||te.status==="commission_rejected"?"completed":te.status}return $.status},U=$=>{const ee=o.find(J=>J.original_id===$.id&&(J.type===$.type||$.type==="booking"&&J.type==="lead"&&J.original_id===$.id))||$;if(ee.history&&ee.history.length>0){const J=ee.history[ee.history.length-1],G=["commission","payout","VLE internal"];if(J.remarks&&G.some(ae=>J.remarks.toLowerCase().includes(ae.toLowerCase()))){if(ee.status==="completed"||ee.status==="pending_commission_approval"||ee.status==="commission_approved"||ee.status==="commission_rejected")return"Application processed and completed.";for(let ae=ee.history.length-2;ae>=0;ae--){const ue=ee.history[ae].remarks;if(ue&&!G.some(le=>ue.toLowerCase().includes(le.toLowerCase())))return ue}return"Application is under review."}return ee.status==="rejected"&&J.remarks&&J.remarks.startsWith("Task rejected by VLE:")?"Your application is pending initial review. Please check back or contact support for assistance.":J.remarks||"No remarks yet."}return"No remarks yet."},K=($="This feature")=>{f({title:" Feature Coming Soon!",description:`${$} isn't implemented yetbut we're working on it! `,variant:"default"})};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 font-inter",children:[a.jsx("header",{className:"bg-white/80 backdrop-blur-md shadow-sm border-b border-slate-200 sticky top-0 z-50",children:a.jsx("div",{className:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16 sm:h-20",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(mb,{className:"h-7 w-7 sm:h-8 text-primary"}),a.jsx("h1",{className:"ml-2 text-xl sm:text-2xl font-poppins font-bold text-slate-800",children:"eGoa Sarathi"}),a.jsx("span",{className:"ml-2 text-[10px] sm:text-xs text-slate-500 font-medium hidden md:inline-block",children:"Customer Portal"})]}),a.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[a.jsx("div",{className:"hidden sm:inline-flex",children:a.jsx(Ii,{})}),a.jsx(L,{variant:"ghost",size:"icon",onClick:()=>R("my-wallet"),"aria-label":"Wallet",className:"hidden sm:inline-flex h-8 w-8 sm:h-9 sm:w-9",children:a.jsx(xo,{className:"h-4 w-4 sm:h-5 sm:w-5 text-slate-600 hover:text-primary transition-colors"})}),a.jsx(L,{variant:"ghost",size:"icon",onClick:()=>K("Settings"),"aria-label":"Settings",className:"hidden sm:inline-flex h-8 w-8 sm:h-9 sm:w-9",children:a.jsx(Pi,{className:"h-4 w-4 sm:h-5 sm:w-5 text-slate-600 hover:text-primary transition-colors"})}),a.jsx(L,{variant:"ghost",size:"icon",onClick:()=>R("my-profile"),"aria-label":"Profile",className:"hidden sm:inline-flex h-8 w-8 sm:h-9 sm:w-9",children:a.jsx(Or,{className:"h-4 w-4 sm:h-5 sm:w-5 text-slate-600 hover:text-primary transition-colors"})}),a.jsx("div",{className:"text-right hidden md:block",children:a.jsxs("span",{className:"text-xs sm:text-sm text-slate-700",children:["Hello, ",a.jsx("span",{className:"font-medium",children:e.name})]})}),a.jsxs(L,{variant:"outline",size:"sm",onClick:t,className:"border-primary text-primary hover:bg-primary/10 h-8 px-2 sm:h-9 sm:px-3 text-xs",children:[a.jsx(Mm,{className:"mr-1 h-3.5 w-3.5 sm:h-4 sm:w-4"}),"Logout"]}),a.jsx("div",{className:"sm:hidden",children:a.jsxs(ju,{open:T,onOpenChange:O,children:[a.jsx(Su,{asChild:!0,children:a.jsx(L,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(Om,{className:"h-5 w-5 text-slate-600"})})}),a.jsxs(Ro,{align:"end",className:"w-56",children:[ml.map($=>a.jsxs(nn,{onClick:()=>{R($.value),O(!1)},className:`flex items-center text-xs ${C===$.value?"bg-slate-100 text-primary":""}`,children:[X.cloneElement($.icon,{className:"mr-1.5 h-3.5 w-3.5"})," ",$.label]},$.value)),a.jsx(Mi,{}),a.jsxs(nn,{onClick:()=>{O(!1)},className:"flex items-center text-xs",children:[a.jsx(Ii,{})," ",a.jsx("span",{className:"ml-1.5",children:"Notifications"})]}),a.jsxs(nn,{onClick:()=>{K("Settings"),O(!1)},className:"flex items-center text-xs",children:[a.jsx(Pi,{className:"mr-1.5 h-3.5 w-3.5"})," Settings"]})]})]})})]})]})})}),a.jsxs("main",{className:"max-w-screen-xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-8",children:[a.jsxs(yp,{value:C,onValueChange:R,className:"space-y-4",children:[a.jsx(ro,{className:"grid w-full grid-cols-3 sm:hidden gap-1 p-1 bg-slate-200/70 rounded-lg",children:ml.slice(0,3).map($=>a.jsxs(so,{value:$.value,className:"text-[10px] py-2 data-[state=active]:bg-white data-[state=active]:text-primary data-[state=active]:shadow-sm flex items-center justify-center",children:[X.cloneElement($.icon,{className:"mr-1 h-3.5 w-3.5"})," ",$.label]},$.value))}),a.jsx(ro,{className:"hidden sm:grid w-full grid-cols-3 md:grid-cols-5 gap-1 sm:gap-2 p-1 bg-slate-200/70 rounded-lg",children:ml.map($=>a.jsxs(so,{value:$.value,className:"text-xs sm:text-sm py-2 sm:py-2.5 data-[state=active]:bg-white data-[state=active]:text-primary data-[state=active]:shadow-md flex items-center justify-center",children:[X.cloneElement($.icon,{className:"mr-1 h-4 w-4"})," ",$.label]},$.value))}),a.jsxs(Pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-0 sm:mt-4",children:[a.jsx(h.Suspense,{fallback:a.jsx("div",{children:"Loading..."}),children:a.jsx(Ie,{value:"book-service",className:"space-y-4 mt-0",children:a.jsx(A5,{services:n,onBookService:I,user:e})})}),a.jsx(h.Suspense,{fallback:a.jsx("div",{children:"Loading..."}),children:a.jsx(Ie,{value:"my-bookings",className:"space-y-4 mt-0",children:V.length===0?a.jsx(ie,{className:"shadow-sm border-slate-200 rounded-xl",children:a.jsxs(oe,{className:"text-center py-12 sm:py-16",children:[a.jsx(Je,{className:"mx-auto h-12 w-12 sm:h-16 sm:w-16 text-slate-400"}),a.jsx("h3",{className:"mt-4 text-lg sm:text-xl font-poppins text-slate-700",children:"No Bookings Found"}),a.jsx("p",{className:"mt-1 text-xs sm:text-base text-slate-500",children:"Ready to start? Click 'Book New Service' to begin."})]})}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:V.map($=>a.jsx(O5,{booking:$,tasks:o,onOpenReUploadDialog:P,onOpenComplaintDialog:A,getCustomerFacingStatus:W,getLatestRemark:U,id:`booking-${$.id}`},$.id))})})}),a.jsx(h.Suspense,{fallback:a.jsx("div",{children:"Loading..."}),children:a.jsx(Ie,{value:"my-complaints",className:"space-y-4 mt-0",children:E.length===0?a.jsx(ie,{className:"shadow-sm border-slate-200 rounded-xl",children:a.jsxs(oe,{className:"text-center py-12 sm:py-16",children:[a.jsx(Za,{className:"mx-auto h-12 w-12 sm:h-16 sm:w-16 text-slate-400"}),a.jsx("h3",{className:"mt-4 text-lg sm:text-xl font-poppins text-slate-700",children:"No Issues Logged"}),a.jsx("p",{className:"mt-1 text-xs sm:text-base text-slate-500",children:"You haven't raised any complaints or provided feedback yet."})]})}):a.jsx("div",{className:"space-y-3",children:E.map($=>a.jsx(Q3,{complaint:$,id:`complaint-${$.id}`},$.id))})})}),a.jsx(h.Suspense,{fallback:a.jsx("div",{children:"Loading..."}),children:a.jsx(Ie,{value:"my-wallet",className:"mt-0",children:a.jsx(eF,{user:e})})}),a.jsx(h.Suspense,{fallback:a.jsx("div",{children:"Loading..."}),children:a.jsx(Ie,{value:"my-profile",className:"mt-0",children:a.jsx(tF,{user:e})})})]},C)]}),a.jsx(J3,{isOpen:w,onOpenChange:y,item:b,onSubmit:z}),a.jsx(Z3,{isOpen:j,onOpenChange:S,booking:p,onSubmit:D,type:k})]}),a.jsx("footer",{className:"text-center py-4 sm:py-6 border-t border-slate-200",children:a.jsxs("p",{className:"text-[10px] sm:text-xs text-slate-500",children:[" ",new Date().getFullYear()," eGoa Sarathi. Government of Goa. All rights reserved."]})})]})}function rF({user:e,onLeadGenerated:t}){const[n,r]=h.useState(""),[s,i]=h.useState(""),[o,l]=h.useState(""),[c,u]=h.useState([]),[d,f]=h.useState(!1),{services:m,createLead:v}=Ke(),{toast:b}=Oe(),x=h.useRef(null),w=g=>{const j=Array.from(g.target.files);if(j.length===0)return;const S=j.map(k=>({id:Date.now()+Math.random().toString(36).substring(2,9),name:k.name,size:k.size,type:k.type,fileObject:k,uploadedAt:new Date().toISOString()}));u(k=>[...k,...S]),b({title:"Documents Added",description:`${j.length} document(s) ready for upload.`}),x.current&&(x.current.value="")},y=g=>{u(j=>j.filter(S=>S.id!==g)),b({title:"Document Removed",description:"The selected document has been removed from the list."})},p=async()=>{if(!n||!s||!o){b({title:"All Fields Required",description:"Please fill customer details and select a service.",variant:"destructive"});return}if(c.length===0){b({title:"Documents Required",description:"Please upload documents for the lead.",variant:"destructive"});return}f(!0);try{const g=await v(o,e.id,n,s,c);g.success&&g.lead?(b({title:"Lead Created Successfully!",description:`Lead ID: ${g.lead.id}. It's now pending admin assignment.`}),r(""),i(""),l(""),u([]),t&&t(g.lead)):b({title:"Lead Creation Failed",description:g.error||"Could not create lead. Ensure you have sufficient wallet balance for the service fee.",variant:"destructive"})}catch{b({title:"An Error Occurred",description:"Something went wrong. Please try again.",variant:"destructive"})}finally{f(!1)}};return a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs(ie,{className:"bg-white border-slate-200 text-slate-700 shadow-xl card-hover",children:[a.jsxs(fe,{className:"border-b border-slate-200 pb-4",children:[a.jsxs(ge,{className:"flex items-center gap-2 text-xl sm:text-2xl text-slate-800",children:[a.jsx(Yc,{className:"h-6 w-6 text-primary"})," Generate New Lead"]}),a.jsx(je,{className:"text-slate-500",children:"Create a lead for potential customers to initiate service requests."})]}),a.jsxs(oe,{className:"space-y-6 pt-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(B,{htmlFor:"customer-name",className:"text-slate-700",children:"Customer Name"}),a.jsx(Z,{id:"customer-name",placeholder:"Enter customer's full name",value:n,onChange:g=>r(g.target.value),className:"bg-slate-50 border-slate-300 text-slate-700 placeholder-slate-400 focus:border-primary"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(B,{htmlFor:"customer-phone",className:"text-slate-700",children:"Customer Phone"}),a.jsx(Z,{id:"customer-phone",type:"tel",placeholder:"Enter 10-digit mobile number",value:s,onChange:g=>i(g.target.value),className:"bg-slate-50 border-slate-300 text-slate-700 placeholder-slate-400 focus:border-primary"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(B,{htmlFor:"service-lead",className:"text-slate-700",children:"Service Interested In"}),a.jsxs(Gt,{value:o,onValueChange:l,children:[a.jsx(Mt,{id:"service-lead",className:"w-full bg-slate-50 border-slate-300 text-slate-700 focus:border-primary",children:a.jsx(qt,{placeholder:"Choose a service..."})}),a.jsx(Ot,{className:"bg-white border-slate-200 text-slate-700",children:m.map(g=>a.jsxs(Ge,{value:g.id,className:"focus:bg-slate-100 focus:text-primary",children:[g.name," - ",g.fee," (",g.category,")"]},g.id))})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(B,{htmlFor:"documents-lead",className:"text-slate-700",children:"Upload Documents"}),a.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-primary/70 transition-colors duration-200 ease-in-out",children:[a.jsx(zi,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-slate-400"}),a.jsx(B,{htmlFor:"file-upload-lead",className:"cursor-pointer mt-4 block text-sm font-medium text-primary hover:text-primary/80",children:"Click to upload documents"}),a.jsx(Z,{id:"file-upload-lead",type:"file",multiple:!0,className:"hidden",onChange:w,ref:x,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"}),a.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"PDF, JPG, PNG, DOC up to 10MB each"})]})]}),c.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(B,{className:"text-slate-700",children:["Selected Documents (",c.length,")"]}),c.map(g=>a.jsxs(Pe.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex items-center justify-between p-3 bg-slate-100 rounded-lg text-xs sm:text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 overflow-hidden",children:[a.jsx(Je,{className:"h-4 w-4 text-slate-500 flex-shrink-0"}),a.jsx("span",{className:"font-medium truncate text-slate-700",title:g.name,children:g.name})]}),a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 flex-shrink-0",children:[a.jsxs("span",{className:"text-slate-500",children:[(g.size/1024/1024).toFixed(2)," MB"]}),a.jsx(L,{variant:"ghost",size:"icon",onClick:()=>y(g.id),className:"h-7 w-7 text-red-500 hover:text-red-400 hover:bg-red-500/10",children:a.jsx(ln,{className:"h-4 w-4"})})]})]},g.id))]}),a.jsxs(L,{onClick:p,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground text-base py-3 mt-4 rounded-md",disabled:d||!n||!s||!o||c.length===0,children:[d?a.jsx(CP,{className:"mr-2 h-5 w-5 animate-spin"}):a.jsx(hb,{className:"mr-2 h-5 w-5"}),d?"Generating...":"Generate Lead"]})]})]})})}const sF={hidden:{opacity:0,y:20},visible:e=>({opacity:1,y:0,transition:{delay:e*.1,duration:.4,ease:"easeOut"}})};function iF({user:e}){const{leads:t,tasks:n,downloadFile:r}=Ke(),{toast:s}=Oe(),i=t.filter(d=>d.vle_id===e.id).sort((d,f)=>new Date(f.created_at)-new Date(d.created_at)),o=d=>{const f=n.find(m=>m.original_id===d.id&&m.type==="lead");return f?f.status==="pending_commission_approval"||f.status==="commission_approved"||f.status==="commission_rejected"?"completed":f.status:d.status},l=async d=>{var v;const f=n.find(b=>b.original_id===d.id&&b.type==="lead"),m=(v=f==null?void 0:f.documents)==null?void 0:v.find(b=>b.isCertificate===!0);if(m&&m.path){s({title:"Certificate Download Initiated",description:`Downloading ${m.name}.`});const b=await r(m.path,m.name);b.success||s({title:"Download Failed",description:b.error||"Could not download the certificate. Please try again.",variant:"destructive"})}else s({title:"Certificate Not Available",description:"No certificate is currently available for this lead or the task is not yet marked as completed by the assigned VLE.",variant:"destructive"})},c=d=>({pending:a.jsx(_t,{className:"h-4 w-4"}),assigned:a.jsx(cn,{className:"h-4 w-4"}),accepted:a.jsx(At,{className:"h-4 w-4 text-sky-600"}),"additional-docs-vle":a.jsx(Je,{className:"h-4 w-4 text-orange-600"}),"additional-docs-dept":a.jsx(Hc,{className:"h-4 w-4 text-amber-600"}),"ack-submitted":a.jsx(Je,{className:"h-4 w-4 text-indigo-600"}),completed:a.jsx(At,{className:"h-4 w-4 text-emerald-600"}),rejected:a.jsx(In,{className:"h-4 w-4 text-red-600"})})[d]||a.jsx(_t,{className:"h-4 w-4"}),u=d=>`text-xs px-2.5 py-1 rounded-full font-medium flex items-center gap-1.5 border shadow-sm ${{pending:"bg-yellow-100 text-yellow-700 border-yellow-300",assigned:"bg-cyan-100 text-cyan-700 border-cyan-300",accepted:"bg-sky-100 text-sky-700 border-sky-300","additional-docs-vle":"bg-orange-100 text-orange-700 border-orange-300","additional-docs-dept":"bg-amber-100 text-amber-700 border-amber-300","ack-submitted":"bg-indigo-100 text-indigo-700 border-indigo-300",completed:"bg-emerald-100 text-emerald-700 border-emerald-300",rejected:"bg-red-100 text-red-700 border-red-300"}[d]||"bg-slate-100 text-slate-700 border-slate-300"}`;return a.jsx("div",{className:"grid gap-4 sm:gap-6 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3",children:i.length===0?a.jsx(ie,{className:"md:col-span-1 lg:col-span-2 xl:col-span-3 bg-white border-slate-200 text-slate-700 shadow-lg",children:a.jsxs(oe,{className:"text-center py-16",children:[a.jsx(Yc,{className:"mx-auto h-16 w-16 text-slate-400"}),a.jsx("h3",{className:"mt-6 text-xl font-poppins",children:"No leads generated yet"}),a.jsx("p",{className:"mt-2 text-base text-slate-500",children:"Start by generating leads for customers to see them here."})]})}):i.map((d,f)=>{var x,w;const m=o(d),v=n.find(y=>y.original_id===d.id&&y.type==="lead"),b=m==="completed"&&((x=v==null?void 0:v.documents)==null?void 0:x.some(y=>y.isCertificate===!0));return a.jsx(Pe.custom,{custom:f,variants:sF,initial:"hidden",animate:"visible",className:"h-full",layout:!0,children:a.jsxs(ie,{className:"bg-white border-slate-200 text-slate-700 shadow-xl h-full flex flex-col card-hover",children:[a.jsx(fe,{className:"pb-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[a.jsxs("div",{children:[a.jsx(ge,{className:"text-lg sm:text-xl text-slate-800",children:d.service_name}),a.jsxs(je,{className:"text-xs sm:text-sm text-slate-500",children:["Lead ID: ",d.id]})]}),a.jsxs(It,{className:u(m),children:[c(m)," ",m.replace(/-/g," ").replace(/\b\w/g,y=>y.toUpperCase())]})]})}),a.jsxs(oe,{className:"space-y-2 text-xs sm:text-sm flex-grow",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(cn,{className:"h-4 w-4 text-primary/80"}),a.jsx("span",{children:d.customer_name})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Ui,{className:"h-4 w-4 text-primary/80"}),a.jsx("span",{children:d.customer_phone})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-slate-200 mt-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-slate-600",children:"Fee:"})," ",d.fee]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-slate-600",children:"Created:"})," ",new Date(d.created_at).toLocaleDateString()]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("span",{className:"font-medium text-slate-600",children:"Documents:"})," ",((w=d.documents)==null?void 0:w.length)||0," files"]})]}),b&&a.jsx("div",{className:"pt-2 border-t border-slate-200 mt-2",children:a.jsxs(L,{size:"sm",className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white",onClick:()=>l(d),children:[a.jsx(Rm,{className:"mr-2 h-4 w-4"}),"Download Certificate"]})})]})]})},d.id)})})}const aF={hidden:{opacity:0,y:20},visible:e=>({opacity:1,y:0,transition:{delay:e*.1,duration:.4,ease:"easeOut"}})};function oF({user:e}){const{tasks:t,updateTask:n,reassignTask:r,addDocumentsToTask:s}=Ke(),{toast:i}=Oe(),[o,l]=h.useState(null),[c,u]=h.useState(""),[d,f]=h.useState(""),[m,v]=h.useState(""),[b,x]=h.useState([]),w=h.useRef(null),y=t.filter(N=>N.vle_id===e.id).sort((N,T)=>new Date(T.created_at)-new Date(N.created_at)),p=N=>{const T=Array.from(N.target.files);if(T.length===0)return;const O=T.map(R=>({id:Date.now()+Math.random().toString(36).substring(2,9),name:R.name,size:R.size,type:R.type,fileObject:R,isCertificate:c==="uploadCert"}));x(R=>[...R,...O]),i({title:"Documents Added",description:`${T.length} document(s) ready.`}),w.current&&(w.current.value="")},g=N=>{x(T=>T.filter(O=>O.id!==N))},j=(N,T)=>{l(N),u(T),f(""),v(""),x([])},S=async()=>{if(o){if(c==="reject")await r(o.id,`Task rejected by VLE: ${d||"No specific reason provided."}`),i({title:"Task Rejected",description:"Task sent for re-assignment."});else if(c==="uploadCert"){if(b.length===0){i({title:"Completion Proof Required",variant:"destructive"});return}const N=await s(o.id,b,`Completion certificate uploaded. ${d}`,"completed");i(N?{title:"Task Updated",description:`Task ${o.id} status updated.`}:{title:"Upload Failed",description:"Could not upload certificate. Please try again.",variant:"destructive"})}else{let N={status:o.status,task_phase:o.task_phase,remarks:d||"Action performed."};if(c==="accept")N={...N,status:"accepted",task_phase:2,remarks:d||"Task accepted by VLE."};else if(c==="askDocsVle")N={...N,status:"additional-docs-vle",remarks:`VLE requesting additional documents from Customer: ${d}`};else if(c==="ackSubmit"){if(!m){i({title:"Acknowledgement No. Required",variant:"destructive"});return}N={...N,status:"ack-submitted",task_phase:3,ackNo:m,remarks:`Acknowledgement No. ${m} submitted. ${d}`}}else c==="askDocsDept"&&(N={...N,status:"additional-docs-dept",remarks:`Department requesting additional documents (via VLE): ${d}`});await n(o.id,N),i({title:"Task Updated",description:`Task ${o.id} status updated.`})}l(null)}},k=N=>({pending:a.jsx(_t,{className:"h-4 w-4"}),assigned:a.jsx(cn,{className:"h-4 w-4"}),accepted:a.jsx(At,{className:"h-4 w-4 text-sky-600"}),"additional-docs-vle":a.jsx(Za,{className:"h-4 w-4 text-orange-600"}),"additional-docs-dept":a.jsx(Hc,{className:"h-4 w-4 text-amber-600"}),"ack-submitted":a.jsx(Je,{className:"h-4 w-4 text-indigo-600"}),"in-progress":a.jsx(_t,{className:"h-4 w-4"}),completed:a.jsx(At,{className:"h-4 w-4 text-emerald-600"}),rejected:a.jsx(In,{className:"h-4 w-4 text-red-600"})})[N]||a.jsx(_t,{className:"h-4 w-4"}),_=N=>`text-xs px-2.5 py-1 rounded-full font-medium flex items-center gap-1.5 border shadow-sm ${{pending:"bg-yellow-100 text-yellow-700 border-yellow-300",assigned:"bg-cyan-100 text-cyan-700 border-cyan-300",accepted:"bg-sky-100 text-sky-700 border-sky-300","additional-docs-vle":"bg-orange-100 text-orange-700 border-orange-300","additional-docs-dept":"bg-amber-100 text-amber-700 border-amber-300","ack-submitted":"bg-indigo-100 text-indigo-700 border-indigo-300","in-progress":"bg-blue-100 text-blue-700 border-blue-300",completed:"bg-emerald-100 text-emerald-700 border-emerald-300",rejected:"bg-red-100 text-red-700 border-red-300"}[N]||"bg-slate-100 text-slate-700 border-slate-300"}`,C=N=>N.history&&N.history.length>0?N.history[N.history.length-1].remarks:"No remarks yet.";return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid gap-4 sm:gap-6 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3",children:y.length===0?a.jsx(ie,{className:"md:col-span-1 lg:col-span-2 xl:col-span-3 bg-white border-slate-200 text-slate-700 shadow-lg",children:a.jsxs(oe,{className:"text-center py-16",children:[a.jsx(Je,{className:"mx-auto h-16 w-16 text-slate-400"}),a.jsx("h3",{className:"mt-6 text-xl font-poppins",children:"No tasks assigned"}),a.jsx("p",{className:"mt-2 text-base text-slate-500",children:"Assigned tasks will appear here. Stay tuned!"})]})}):y.map((N,T)=>{var O;return a.jsx(Pe.custom,{custom:T,variants:aF,initial:"hidden",animate:"visible",className:"h-full",layout:!0,children:a.jsxs(ie,{className:"bg-white border-slate-200 text-slate-700 shadow-xl h-full flex flex-col card-hover",children:[a.jsx(fe,{className:"pb-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[a.jsxs("div",{children:[a.jsx(ge,{className:"text-lg sm:text-xl text-slate-800",children:N.service_name}),a.jsxs(je,{className:"text-xs sm:text-sm text-slate-500",children:["Task ID: ",N.id," | Type: ",N.type]})]}),a.jsxs(It,{className:_(N.status),children:[k(N.status)," ",N.status.replace(/-/g," ").replace(/\b\w/g,R=>R.toUpperCase())]})]})}),a.jsx(oe,{className:"space-y-3 flex-grow",children:N.status==="assigned"?a.jsx("p",{className:"text-sm text-slate-500 py-4",children:"Please accept this task to view full customer details and attached documents."}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2 text-xs sm:text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-slate-600",children:"Original ID:"})," ",N.original_id]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-slate-600",children:"Assigned:"})," ",new Date(N.assigned_at).toLocaleDateString()]}),N.type==="lead"&&N.customer_name&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-1.5 col-span-1 sm:col-span-2",children:[a.jsx(cn,{className:"h-4 w-4 text-primary/80"}),a.jsx("span",{children:N.customer_name})]}),N.customer_phone&&a.jsxs("div",{className:"flex items-center gap-1.5 col-span-1 sm:col-span-2",children:[a.jsx(Ui,{className:"h-4 w-4 text-primary/80"}),a.jsx("span",{children:N.customer_phone})]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-slate-600",children:"Docs:"})," ",((O=N.documents)==null?void 0:O.length)||0," ",a.jsxs(Te,{children:[a.jsx(mt,{asChild:!0,children:a.jsxs(L,{variant:"link",size:"sm",className:"p-0 h-auto text-primary hover:text-primary/80 text-xs ml-1",children:[a.jsx(sr,{className:"h-3.5 w-3.5 mr-0.5"}),"View"]})}),a.jsxs(Se,{className:"bg-white border-slate-200 text-slate-700",children:[a.jsx(Ce,{children:a.jsx(Ne,{className:"text-slate-800",children:"View Documents"})}),a.jsx(Do,{documents:N.documents})]})]})]})]}),a.jsxs("div",{className:"text-xs sm:text-sm mt-2 pt-2 border-t border-slate-200",children:[a.jsx("span",{className:"font-medium text-slate-600",children:"Latest Remark:"})," ",a.jsx("span",{className:"text-slate-500 italic",children:C(N)})]})]})}),a.jsx(Ps,{className:"pt-4 border-t border-slate-200",children:a.jsxs("div",{className:"flex flex-wrap gap-2 w-full",children:[N.task_phase===1&&N.status==="assigned"&&a.jsxs(a.Fragment,{children:[a.jsx(L,{size:"sm",onClick:()=>j(N,"accept"),className:"bg-primary hover:bg-primary/90 text-primary-foreground flex-grow sm:flex-grow-0",children:"Accept Task"}),a.jsx(L,{size:"sm",variant:"destructive",onClick:()=>j(N,"reject"),className:"flex-grow sm:flex-grow-0",children:"Reject Task"})]}),N.task_phase===2&&N.status==="accepted"&&a.jsxs(a.Fragment,{children:[a.jsx(L,{size:"sm",variant:"outline",onClick:()=>j(N,"askDocsVle"),className:"border-primary/70 text-primary hover:bg-primary/10",children:"Ask Customer Docs"}),a.jsx(L,{size:"sm",onClick:()=>j(N,"ackSubmit"),className:"bg-primary/80 hover:bg-primary/70 text-primary-foreground",children:"Submit Ack. No."}),a.jsx(L,{size:"sm",variant:"destructive",onClick:()=>j(N,"reject"),children:"Reject Task"})]}),N.task_phase===3&&N.status==="ack-submitted"&&a.jsxs(a.Fragment,{children:[a.jsx(L,{size:"sm",variant:"outline",onClick:()=>j(N,"askDocsDept"),className:"border-primary/70 text-primary hover:bg-primary/10",children:"Dept. asks for Docs"}),a.jsx(L,{size:"sm",onClick:()=>j(N,"uploadCert"),className:"bg-primary/80 hover:bg-primary/70 text-primary-foreground",children:"Upload Certificate"}),a.jsx(L,{size:"sm",variant:"destructive",onClick:()=>j(N,"reject"),children:"Reject Task"})]})]})})]})},N.id)})}),o&&a.jsx(Te,{open:!!o,onOpenChange:N=>!N&&l(null),children:a.jsxs(Se,{className:"bg-white border-slate-200 text-slate-700",children:[a.jsxs(Ce,{children:[a.jsxs(Ne,{className:"text-slate-800",children:[c==="accept"&&"Accept Task",c==="reject"&&"Reject Task",c==="askDocsVle"&&"Request Additional Documents from Customer",c==="ackSubmit"&&"Submit Acknowledgement Number",c==="askDocsDept"&&"Department Requesting Additional Documents",c==="uploadCert"&&"Upload Completion Certificate"]}),a.jsxs(un,{className:"text-slate-500",children:["Task ID: ",o.id," - ",o.service_name]})]}),a.jsxs("div",{className:"py-4 space-y-4",children:[(c==="askDocsVle"||c==="askDocsDept"||c==="reject"||c==="accept"||c==="uploadCert"||c==="ackSubmit")&&a.jsxs("div",{children:[a.jsx(B,{htmlFor:"remark",className:"text-slate-700",children:"Remarks"}),a.jsx(Is,{id:"remark",value:d,onChange:N=>f(N.target.value),placeholder:"Enter remarks (optional for accept, required for others)",className:"bg-slate-50 border-slate-300 text-slate-700 placeholder-slate-400 mt-1"})]}),c==="ackSubmit"&&a.jsxs("div",{children:[a.jsx(B,{htmlFor:"ackNo",className:"text-slate-700",children:"Acknowledgement Number"}),a.jsx(Z,{id:"ackNo",value:m,onChange:N=>v(N.target.value),placeholder:"Enter department acknowledgement no.",className:"bg-slate-50 border-slate-300 text-slate-700 placeholder-slate-400 mt-1"})]}),c==="uploadCert"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(B,{htmlFor:"completion-cert",className:"text-slate-700",children:"Upload Completion Certificate"}),a.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-4 text-center hover:border-primary/70 transition-colors",children:[a.jsx(zi,{className:"mx-auto h-8 w-8 text-slate-400"}),a.jsx(B,{htmlFor:"file-upload-cert",className:"cursor-pointer mt-2 block text-sm font-medium text-primary hover:text-primary/80",children:"Click to upload"}),a.jsx(Z,{id:"file-upload-cert",type:"file",multiple:!0,className:"hidden",onChange:N=>p(N),ref:w,accept:".pdf,.jpg,.jpeg,.png"})]}),b.length>0&&a.jsx("div",{className:"space-y-1 mt-2",children:b.map(N=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-100 rounded text-xs text-slate-600",children:[a.jsx("span",{className:"truncate",children:N.name}),a.jsx(L,{variant:"ghost",size:"sm",onClick:()=>g(N.id),className:"text-red-500 hover:text-red-400",children:a.jsx(ln,{className:"h-3 w-3"})})]},N.id))})]})]}),a.jsxs(tt,{children:[a.jsx(st,{asChild:!0,children:a.jsx(L,{variant:"outline",className:"border-slate-300 text-slate-700 hover:bg-slate-100",children:"Cancel"})}),a.jsx(L,{onClick:S,className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Submit"})]})]})})]})}const lF=[{id:"pan-find-aadhaar",name:"PAN Number Find through Aadhaar"},{id:"dl-pdf",name:"Driving License PDF Download"},{id:"rc-download",name:"Vehicle RC Download"}],cF=e=>{const t="text-xs px-2.5 py-1 rounded-full font-medium flex items-center gap-1.5 border shadow-sm";switch(e){case"pending_admin_review":return`${t} bg-yellow-100 text-yellow-700 border-yellow-300`;case"admin_in_progress":return`${t} bg-blue-100 text-blue-700 border-blue-300`;case"admin_resolved":case"admin_information_provided":return`${t} bg-emerald-100 text-emerald-700 border-emerald-300`;case"admin_rejected":return`${t} bg-red-100 text-red-700 border-red-300`;default:return`${t} bg-slate-100 text-slate-700 border-slate-300`}},uF=e=>{switch(e){case"pending_admin_review":return a.jsx(cb,{className:"h-3 w-3"});case"admin_in_progress":return a.jsx(xs,{className:"h-3 w-3"});case"admin_resolved":case"admin_information_provided":return a.jsx(Am,{className:"h-3 w-3"});case"admin_rejected":return a.jsx(Hc,{className:"h-3 w-3"});default:return a.jsx(qc,{className:"h-3 w-3"})}};function dF({user:e}){const{toast:t}=Oe(),{createSpecialRequest:n,specialRequests:r}=Ke(),s=h.useRef(null),[i,o]=h.useState("special_service"),[l,c]=h.useState(""),[u,d]=h.useState(""),[f,m]=h.useState(""),[v,b]=h.useState(""),[x,w]=h.useState(""),[y,p]=h.useState(""),[g,j]=h.useState([]),S=r.filter(N=>N.vle_id===e.id).sort((N,T)=>new Date(T.created_at)-new Date(N.created_at)),k=N=>{const T=Array.from(N.target.files);if(T.length===0)return;const O=T.map(R=>({id:Date.now()+Math.random().toString(36).substring(2,9),name:R.name,size:R.size,type:R.type,uploadedAt:new Date().toISOString()}));j(R=>[...R,...O]),t({title:"Documents Added",description:`${T.length} document(s) ready for the request.`}),s.current&&(s.current.value="")},_=N=>{j(T=>T.filter(O=>O.id!==N)),t({title:"Document Removed",description:"The selected document has been removed from the list."})},C=N=>{if(N.preventDefault(),!f.trim()){t({title:"Description Required",description:"Please provide a description for your request.",variant:"destructive"});return}let T=l;if(i==="special_service"&&l==="other"&&!u.trim()){t({title:"Service Name Required",description:"Please enter the name for the 'Other' service.",variant:"destructive"});return}i==="special_service"&&l==="other"&&(T=u.trim());const O=i==="special_service"?{name:v,phone:x,aadhaar:y}:null,R=g.map(V=>({name:V.name,size:V.size,type:V.type,uploadedAt:V.uploadedAt,uploadedBy:"vle"}));n(e.id,i,T,f,O,R),t({title:"Request Submitted Successfully!",description:`Your ${i==="special_service"?"special service request":"query"} has been sent to the admin.`,variant:"default"}),c(""),d(""),m(""),b(""),w(""),p(""),j([])};return a.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[a.jsxs(ie,{className:"bg-white border-slate-200 text-slate-700 shadow-xl card-hover",children:[a.jsxs(fe,{className:"border-b border-slate-200 pb-4",children:[a.jsxs(ge,{className:"text-xl sm:text-2xl font-poppins text-slate-800 flex items-center",children:[a.jsx(xs,{className:"mr-3 h-6 w-6 sm:h-7 sm:w-7 text-primary animate-pulse"})," Request Special Services or Ask a Query"]}),a.jsx(je,{className:"font-inter text-slate-500",children:"Submit requests for admin-handled services or ask general queries. Attach documents if needed."})]}),a.jsxs("form",{onSubmit:C,children:[a.jsxs(oe,{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx(B,{htmlFor:"requestType",className:"text-sm font-medium text-slate-700",children:"Request Type"}),a.jsxs(Gt,{value:i,onValueChange:o,children:[a.jsx(Mt,{id:"requestType",className:"w-full mt-1.5 rounded-md bg-slate-50 border-slate-300 text-slate-700 focus:border-primary",children:a.jsx(qt,{placeholder:"Select request type"})}),a.jsxs(Ot,{className:"bg-white border-slate-200 text-slate-700",children:[a.jsx(Ge,{value:"special_service",className:"focus:bg-slate-100 focus:text-primary",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(xs,{className:"mr-2 h-4 w-4 text-yellow-500"}),"Special Service Request"]})}),a.jsx(Ge,{value:"query",className:"focus:bg-slate-100 focus:text-primary",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(qc,{className:"mr-2 h-4 w-4 text-sky-500"}),"General Query"]})})]})]})]}),i==="special_service"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(B,{htmlFor:"specialService",className:"text-sm font-medium text-slate-700",children:"Select Special Service"}),a.jsxs(Gt,{value:l,onValueChange:c,children:[a.jsx(Mt,{id:"specialService",className:"w-full mt-1.5 rounded-md bg-slate-50 border-slate-300 text-slate-700 focus:border-primary",children:a.jsx(qt,{placeholder:"Select a service"})}),a.jsxs(Ot,{className:"bg-white border-slate-200 text-slate-700",children:[lF.map(N=>a.jsx(Ge,{value:N.name,className:"focus:bg-slate-100 focus:text-primary",children:N.name},N.id)),a.jsx(Ge,{value:"other",className:"focus:bg-slate-100 focus:text-primary",children:"Other (Specify Below)"})]})]})]}),l==="other"&&a.jsxs("div",{children:[a.jsx(B,{htmlFor:"otherServiceName",className:"text-sm font-medium text-slate-700",children:"Other Service Name"}),a.jsx(Z,{id:"otherServiceName",value:u,onChange:N=>d(N.target.value),placeholder:"Enter custom service name",className:"mt-1.5 rounded-md bg-slate-50 border-slate-300 text-slate-700 placeholder-slate-400 focus:border-primary"})]}),a.jsxs(ie,{className:"p-4 bg-slate-50 border-slate-200 rounded-lg",children:[a.jsxs("h4",{className:"text-md font-semibold text-slate-700 mb-3 flex items-center",children:[a.jsx(Or,{className:"mr-2 h-5 w-5 text-slate-500"}),"Customer Details (Optional)"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(B,{htmlFor:"customerName",className:"text-xs font-medium text-slate-500",children:"Customer Name"}),a.jsx(Z,{id:"customerName",value:v,onChange:N=>b(N.target.value),placeholder:"Full Name",className:"mt-1 text-sm rounded-md bg-white border-slate-300 text-slate-700 placeholder-slate-400 focus:border-primary"})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"customerPhone",className:"text-xs font-medium text-slate-500",children:"Customer Phone"}),a.jsx(Z,{id:"customerPhone",type:"tel",value:x,onChange:N=>w(N.target.value),placeholder:"Mobile Number",className:"mt-1 text-sm rounded-md bg-white border-slate-300 text-slate-700 placeholder-slate-400 focus:border-primary"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(B,{htmlFor:"customerAadhaar",className:"text-xs font-medium text-slate-500",children:"Customer Aadhaar (if applicable)"}),a.jsx(Z,{id:"customerAadhaar",value:y,onChange:N=>p(N.target.value),placeholder:"Aadhaar Number",className:"mt-1 text-sm rounded-md bg-white border-slate-300 text-slate-700 placeholder-slate-400 focus:border-primary"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"description",className:"text-sm font-medium text-slate-700",children:i==="special_service"?"Service Description / Requirements":"Your Query / Details"}),a.jsx(Is,{id:"description",value:f,onChange:N=>m(N.target.value),placeholder:i==="special_service"?"Provide all necessary details for the service...":"Type your question or issue here...",className:"mt-1.5 min-h-[120px] rounded-md bg-slate-50 border-slate-300 text-slate-700 placeholder-slate-400 focus:border-primary",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(B,{htmlFor:"documents-special",className:"text-sm font-medium text-slate-700",children:"Upload Supporting Documents (Optional)"}),a.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-4 text-center hover:border-primary/70 transition-colors",children:[a.jsx(zi,{className:"mx-auto h-8 w-8 text-slate-400"}),a.jsx(B,{htmlFor:"file-upload-special",className:"cursor-pointer mt-2 block text-xs font-medium text-primary hover:text-primary/80",children:"Click to upload files"}),a.jsx(Z,{id:"file-upload-special",type:"file",multiple:!0,className:"hidden",onChange:k,ref:s,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"}),a.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"PDF, JPG, PNG, DOC up to 10MB each"})]})]}),g.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(B,{className:"text-sm font-medium text-slate-700",children:["Selected Documents (",g.length,")"]}),g.map(N=>a.jsxs(Pe.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex items-center justify-between p-2 bg-slate-100 rounded-md text-xs",children:[a.jsxs("div",{className:"flex items-center space-x-2 overflow-hidden",children:[a.jsx(Je,{className:"h-4 w-4 text-slate-500 flex-shrink-0"}),a.jsx("span",{className:"font-medium truncate text-slate-700",title:N.name,children:N.name})]}),a.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[a.jsxs("span",{className:"text-slate-500",children:[(N.size/1024/1024).toFixed(2)," MB"]}),a.jsx(L,{type:"button",variant:"ghost",size:"icon",onClick:()=>_(N.id),className:"p-1 h-7 w-7 text-red-500 hover:text-red-400 hover:bg-red-500/10",children:a.jsx(ln,{className:"h-3.5 w-3.5"})})]})]},N.id))]})]}),a.jsx(Ps,{className:"p-6 bg-slate-50 border-t border-slate-200",children:a.jsxs(L,{type:"submit",className:"w-full sm:w-auto bg-primary hover:bg-primary/90 text-primary-foreground text-base py-3 rounded-md shadow-lg hover:shadow-primary/40 transition-shadow",children:[a.jsx(hb,{className:"mr-2 h-5 w-5"})," Submit Request"]})})]})]}),a.jsxs(ie,{className:"bg-white border-slate-200 text-slate-700 shadow-xl",children:[a.jsxs(fe,{className:"border-b border-slate-200 pb-4",children:[a.jsxs(ge,{className:"text-xl sm:text-2xl font-poppins text-slate-800 flex items-center",children:[a.jsx(Kc,{className:"mr-3 h-6 w-6 sm:h-7 sm:h-7 text-primary"})," My Submitted Requests"]}),a.jsx(je,{className:"font-inter text-slate-500",children:"Track the status of your special service requests and queries."})]}),a.jsx(oe,{className:"p-0",children:S.length===0?a.jsx("p",{className:"p-6 text-center text-slate-500 font-inter",children:"You haven't submitted any special requests or queries yet."}):a.jsx("div",{className:"divide-y divide-slate-200",children:S.map((N,T)=>a.jsxs(Pe.div,{className:"p-4 hover:bg-slate-50 transition-colors duration-150",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:T*.05,duration:.3},children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-2 gap-2",children:[a.jsxs("h4",{className:"font-semibold text-slate-800 text-sm",children:[N.request_type==="special_service"?N.service_name||"Custom Service":"General Query",a.jsxs("span",{className:"ml-2 text-xs text-slate-400 font-normal",children:["(ID: ",N.id,")"]})]}),a.jsxs(It,{className:`${cF(N.status)} text-xs px-2 py-0.5`,children:[uF(N.status)," ",N.status.replace(/_/g," ").replace(/\b\w/g,O=>O.toUpperCase())]})]}),a.jsx("p",{className:"text-xs text-slate-500 mb-1 line-clamp-2",children:N.description}),N.customer_details&&N.customer_details.name&&a.jsxs("p",{className:"text-xs text-slate-400 mb-1",children:[a.jsx(Or,{className:"inline mr-1 h-3 w-3"})," For: ",N.customer_details.name,N.customer_details.phone&&a.jsxs(a.Fragment,{children:[a.jsx(Ui,{className:"inline ml-2 mr-1 h-3 w-3"})," ",N.customer_details.phone]})]}),N.documents&&N.documents.length>0&&a.jsx("div",{className:"mt-1 mb-1",children:a.jsxs(Te,{children:[a.jsx(mt,{asChild:!0,children:a.jsxs(L,{variant:"link",size:"sm",className:"p-0 h-auto text-xs text-primary hover:text-primary/80",children:[a.jsx(sr,{className:"mr-1 h-3 w-3"}),"View ",N.documents.length," Document(s)"]})}),a.jsxs(Se,{className:"bg-white border-slate-200 text-slate-700",children:[a.jsx(Ce,{children:a.jsxs(Ne,{className:"text-slate-800",children:["Documents for Request: ",N.id]})}),a.jsx("div",{className:"py-2 max-h-60 overflow-y-auto text-xs space-y-1",children:N.documents.map((O,R)=>a.jsxs("div",{className:"p-1.5 bg-slate-100 rounded",children:[O.name," (",(O.size/1024).toFixed(1)," KB) - Uploaded by: ",O.uploadedBy||"VLE"]},R))})]})]})}),a.jsxs("p",{className:"text-xs text-slate-400",children:["Submitted: ",N.created_at?Oi(new Date(N.created_at),"PPpp"):"Invalid Date"]}),N.admin_remarks&&a.jsxs("div",{className:"mt-2 p-2 bg-slate-100 rounded text-xs text-slate-600 border border-slate-200",children:[a.jsx("strong",{className:"text-slate-700",children:"Admin Remarks:"})," ",N.admin_remarks," (Updated: ",N.updated_at?Oi(new Date(N.updated_at),"PPpp"):"Invalid Date",")"]})]},N.id))})})]})]})}function fF({user:e}){const{toast:t}=Oe(),{addDemoMoney:n,withdrawDemoMoney:r,getWalletDetails:s}=Ke(),{refreshUser:i}=ot(),[o,l]=h.useState({balance:0,transactions:[]}),[c,u]=h.useState(!0),[d,f]=h.useState(!1),[m,v]=h.useState(!1),[b,x]=h.useState(""),[w,y]=h.useState(""),[p,g]=h.useState("");h.useEffect(()=>{const C=async()=>{u(!0);const N=await s(e.id);N&&l({balance:N.balance??0,transactions:N.transactions||[]}),u(!1)};e!=null&&e.id&&C()},[e.id,s,e.wallet_balance]);const j=async()=>{const C=parseFloat(b);if(isNaN(C)||C<=0){t({title:"Invalid Amount",description:"Please enter a valid positive amount.",variant:"destructive"});return}const N=await n(e.id,C);N.success?(t({title:"Money Added",description:`${C.toFixed(2)} added to your demo wallet.`}),await i(),f(!1),x("")):t({title:"Failed to Add Money",description:N.error||"An unknown error occurred.",variant:"destructive"})},S=async()=>{const C=parseFloat(w);if(isNaN(C)||C<=0){t({title:"Invalid Amount",description:"Please enter a valid positive amount.",variant:"destructive"});return}if(!p){t({title:"No Bank Account Selected",description:"Please select a bank account for withdrawal.",variant:"destructive"});return}const N=await r(e.id,C,p);N.success?(t({title:"Withdrawal Successful",description:`${C.toFixed(2)} withdrawn from your demo wallet.`}),await i(),v(!1),y(""),g("")):t({title:"Withdrawal Failed",description:N.error||"An unknown error occurred.",variant:"destructive"})},k=C=>{switch(C){case"deposit":case"credit":case"refund":case"payout":return"text-emerald-600";case"debit":case"withdrawal":return"text-red-600";default:return"text-slate-600"}},_=()=>c?a.jsx("div",{className:"text-center p-10",children:"Loading wallet details..."}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs(ie,{className:"shadow-xl border-slate-200",children:[a.jsx(fe,{className:"border-b border-slate-200 bg-gradient-to-r from-primary/10 to-sky-50/10",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[a.jsxs(ge,{className:"text-2xl font-poppins text-primary flex items-center",children:[a.jsx(xo,{className:"mr-3 h-7 w-7"})," My Demo Wallet"]}),a.jsxs("div",{className:"mt-2 sm:mt-0 text-right",children:[a.jsx("p",{className:"text-sm text-slate-500",children:"Current Balance"}),a.jsxs("p",{className:"text-3xl font-bold text-slate-800 flex items-center justify-end",children:[a.jsx(gi,{className:"h-6 w-6 mr-1"}),(o.balance??0).toFixed(2)]})]})]})}),a.jsxs(oe,{className:"pt-6 space-x-0 sm:space-x-4 flex flex-col sm:flex-row gap-3 sm:gap-0",children:[a.jsxs(Te,{open:d,onOpenChange:f,children:[a.jsx(mt,{asChild:!0,children:a.jsxs(L,{className:"w-full sm:w-auto bg-emerald-500 hover:bg-emerald-600 text-white",children:[a.jsx(Bi,{className:"mr-2 h-5 w-5"})," Add Demo Money"]})}),a.jsxs(Se,{children:[a.jsx(Ce,{children:a.jsx(Ne,{children:"Add Demo Money to Wallet"})}),a.jsxs("div",{className:"py-4 space-y-2",children:[a.jsx(B,{htmlFor:"addAmount",children:"Amount ()"}),a.jsx(Z,{id:"addAmount",type:"number",value:b,onChange:C=>x(C.target.value),placeholder:"Enter amount"})]}),a.jsxs(tt,{children:[a.jsx(st,{asChild:!0,children:a.jsx(L,{variant:"ghost",children:"Cancel"})}),a.jsx(L,{onClick:j,className:"bg-emerald-500 hover:bg-emerald-600 text-white",children:"Add Money"})]})]})]}),a.jsxs(Te,{open:m,onOpenChange:v,children:[a.jsx(mt,{asChild:!0,children:a.jsxs(L,{variant:"outline",className:"w-full sm:w-auto border-red-500 text-red-500 hover:bg-red-500/10",children:[a.jsx(db,{className:"mr-2 h-5 w-5"})," Withdraw Demo Money"]})}),a.jsxs(Se,{children:[a.jsx(Ce,{children:a.jsx(Ne,{children:"Withdraw Demo Money"})}),a.jsxs("div",{className:"py-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx(B,{htmlFor:"withdrawAmount",children:"Amount ()"}),a.jsx(Z,{id:"withdrawAmount",type:"number",value:w,onChange:C=>y(C.target.value),placeholder:"Enter amount"})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"bankAccount",children:"Select Bank Account"}),a.jsxs(Gt,{value:p,onValueChange:g,children:[a.jsx(Mt,{id:"bankAccount",children:a.jsx(qt,{placeholder:"Choose account for withdrawal"})}),a.jsx(Ot,{children:e.bank_accounts&&e.bank_accounts.length>0?e.bank_accounts.map((C,N)=>a.jsxs(Ge,{value:C.accountNumber,children:[C.bankName," - ****",C.accountNumber.slice(-4)]},C.accountNumber||N)):a.jsx("div",{className:"p-4 text-sm text-center text-slate-500",children:"No bank accounts added. Please add one in your profile."})})]})]})]}),a.jsxs(tt,{children:[a.jsx(st,{asChild:!0,children:a.jsx(L,{variant:"ghost",children:"Cancel"})}),a.jsx(L,{onClick:S,variant:"destructive",disabled:!e.bank_accounts||e.bank_accounts.length===0,children:"Withdraw"})]})]})]})]})]}),a.jsxs(ie,{className:"shadow-xl border-slate-200",children:[a.jsxs(fe,{className:"border-b border-slate-200",children:[a.jsxs(ge,{className:"text-xl font-poppins text-slate-800 flex items-center",children:[a.jsx(Dm,{className:"mr-3 h-6 w-6 text-primary"})," Transaction History"]}),a.jsx(je,{className:"text-slate-500",children:"Your recent wallet activity."})]}),a.jsx(oe,{className:"pt-6",children:o.transactions.length===0?a.jsx("p",{className:"text-center text-slate-500 py-8",children:"No transactions yet."}):a.jsx("ul",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:o.transactions.map(C=>a.jsxs("li",{className:"p-3 border border-slate-200 rounded-md flex justify-between items-center bg-slate-50/70 hover:bg-slate-100 transition-colors",children:[a.jsxs("div",{children:[a.jsxs("p",{className:`font-medium text-sm ${k(C.type)}`,children:[C.type.charAt(0).toUpperCase()+C.type.slice(1),": ",(C.amount??0).toFixed(2)]}),a.jsx("p",{className:"text-xs text-slate-600",children:C.description}),a.jsx("p",{className:"text-xs text-slate-400",children:new Date(C.timestamp).toLocaleString()})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-slate-500",children:"Balance After"}),a.jsxs("p",{className:"text-sm font-medium text-slate-700",children:["",(C.balanceAfterTransaction??0).toFixed(2)]})]})]},C.id))})})]})]});return a.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:_()})}function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vr.apply(null,arguments)}function hF(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function mF(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function dN(...e){return t=>e.forEach(n=>mF(n,t))}function pF(...e){return h.useCallback(dN(...e),e)}function gF(e,t=[]){let n=[];function r(i,o){const l=h.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:m,children:v,...b}=f,x=(m==null?void 0:m[e][c])||l,w=h.useMemo(()=>b,Object.values(b));return h.createElement(x.Provider,{value:w},v)}function d(f,m){const v=(m==null?void 0:m[e][c])||l,b=h.useContext(v);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,vF(s,...t)]}function vF(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function fN(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function xF({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=yF({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,l=fN(n),c=h.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[i,e,s,l]);return[o,c]}function yF({defaultProp:e,onChange:t}){const n=h.useState(e),[r]=n,s=h.useRef(r),i=fN(t);return h.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}function wF(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const bF=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{};function jF(e){const[t,n]=h.useState(void 0);return bF(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const hN=h.forwardRef((e,t)=>{const{children:n,...r}=e,s=h.Children.toArray(n),i=s.find(CF);if(i){const o=i.props.children,l=s.map(c=>c===i?h.Children.count(o)>1?h.Children.only(null):h.isValidElement(o)?o.props.children:null:c);return h.createElement(hh,Vr({},r,{ref:t}),h.isValidElement(o)?h.cloneElement(o,void 0,l):null)}return h.createElement(hh,Vr({},r,{ref:t}),n)});hN.displayName="Slot";const hh=h.forwardRef((e,t)=>{const{children:n,...r}=e;return h.isValidElement(n)?h.cloneElement(n,{...NF(r,n.props),ref:t?dN(t,n.ref):n.ref}):h.Children.count(n)>1?h.Children.only(null):null});hh.displayName="SlotClone";const SF=({children:e})=>h.createElement(h.Fragment,null,e);function CF(e){return h.isValidElement(e)&&e.type===SF}function NF(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{i(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}const kF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],mN=kF.reduce((e,t)=>{const n=h.forwardRef((r,s)=>{const{asChild:i,...o}=r,l=i?hN:t;return h.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),h.createElement(l,Vr({},o,{ref:s}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),pN="Switch",[_F,HV]=gF(pN),[EF,TF]=_F(pN),PF=h.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,...d}=e,[f,m]=h.useState(null),v=pF(t,p=>m(p)),b=h.useRef(!1),x=f?!!f.closest("form"):!0,[w=!1,y]=xF({prop:s,defaultProp:i,onChange:u});return h.createElement(EF,{scope:n,checked:w,disabled:l},h.createElement(mN.button,Vr({type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":gN(w),"data-disabled":l?"":void 0,disabled:l,value:c},d,{ref:v,onClick:hF(e.onClick,p=>{y(g=>!g),x&&(b.current=p.isPropagationStopped(),b.current||p.stopPropagation())})})),x&&h.createElement(DF,{control:f,bubbles:!b.current,name:r,value:c,checked:w,required:o,disabled:l,style:{transform:"translateX(-100%)"}}))}),AF="SwitchThumb",RF=h.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=TF(AF,n);return h.createElement(mN.span,Vr({"data-state":gN(s.checked),"data-disabled":s.disabled?"":void 0},r,{ref:t}))}),DF=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,i=h.useRef(null),o=wF(n),l=jF(t);return h.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&f){const m=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(m)}},[o,n,r]),h.createElement("input",Vr({type:"checkbox","aria-hidden":!0,defaultChecked:n},s,{tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function gN(e){return e?"checked":"unchecked"}const vN=PF,MF=RF,xN=X.forwardRef(({className:e,...t},n)=>a.jsx(vN,{className:ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:a.jsx(MF,{className:ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));xN.displayName=vN.displayName;function OF({user:e}){const{updateUserDetails:t,addBankAccount:n,removeBankAccount:r,getUserById:s}=Ke(),{toast:i}=Oe(),[o,l]=h.useState(!1),[c,u]=h.useState({name:e.name||"",center:e.center||"",phone:e.phone||"",email:e.email||"",isAvailable:e.is_available!==void 0?e.is_available:!0}),[d,f]=h.useState(e.bank_accounts||[]),[m,v]=h.useState({bankName:"",accountNumber:"",ifsc:"",accountHolderName:""}),[b,x]=h.useState(!1);h.useEffect(()=>{(async()=>{if(e!=null&&e.id){const C=await s(e.id);C&&(u({name:C.name||"",center:C.center||"",phone:C.phone||"",email:C.email||"",isAvailable:C.is_available!==void 0?C.is_available:!0}),f(C.bank_accounts||[]))}})()},[e,s]);const w=_=>{const{name:C,value:N}=_.target;u(T=>({...T,[C]:N}))},y=_=>{const{name:C,value:N}=_.target;v(T=>({...T,[C]:N}))},p=()=>l(!o),g=async()=>{await t(e.id,{name:c.name,center:c.center,phone:c.phone})?(i({title:"Profile Updated",description:"Your personal details have been saved."}),l(!1)):i({title:"Update Failed",description:"Could not save your details.",variant:"destructive"})},j=async _=>{u(N=>({...N,isAvailable:_})),await t(e.id,{is_available:_})?i({title:"Availability Updated",description:`You are now ${_?"Available":"Unavailable"} for new tasks.`}):(i({title:"Update Failed",description:"Could not update availability status.",variant:"destructive"}),u(N=>({...N,isAvailable:!_})))},S=async()=>{if(!m.bankName||!m.accountNumber||!m.ifsc||!m.accountHolderName){i({title:"Missing Fields",description:"Please fill all bank account details.",variant:"destructive"});return}await n(e.id,m)?(i({title:"Bank Account Added",description:"New bank account saved successfully."}),v({bankName:"",accountNumber:"",ifsc:"",accountHolderName:""}),x(!1)):i({title:"Failed to Add Account",description:"Could not save bank account.",variant:"destructive"})},k=async _=>{const C=await r(e.id,_);i(C?{title:"Bank Account Removed",description:"Bank account has been removed."}:{title:"Failed to Remove Account",description:"Could not remove bank account.",variant:"destructive"})};return a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8 items-start",children:[a.jsxs(ie,{className:"lg:col-span-2 shadow-xl border-sky-200 rounded-xl",children:[a.jsx(fe,{className:"bg-gradient-to-r from-sky-50 to-blue-50 border-b border-sky-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs(ge,{className:"text-xl font-poppins text-sky-800 flex items-center",children:[a.jsx(cn,{className:"mr-3 h-6 w-6 text-sky-600"})," Personal Information"]}),a.jsxs(L,{onClick:o?g:p,size:"sm",variant:o?"default":"outline",className:o?"bg-sky-600 hover:bg-sky-700 text-white":"border-sky-500 text-sky-600 hover:bg-sky-50",children:[o?a.jsx(fb,{className:"mr-2 h-4 w-4"}):a.jsx(Im,{className:"mr-2 h-4 w-4"}),o?"Save Details":"Edit Details"]})]})}),a.jsx(oe,{className:"p-6 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(B,{htmlFor:"name",className:"text-slate-600",children:"Full Name"}),a.jsx(Z,{id:"name",name:"name",value:c.name,onChange:w,readOnly:!o,className:"mt-1 read-only:bg-slate-100 read-only:text-slate-500"})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"center",className:"text-slate-600",children:"Center Name"}),a.jsx(Z,{id:"center",name:"center",value:c.center,onChange:w,readOnly:!o,className:"mt-1 read-only:bg-slate-100 read-only:text-slate-500"})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"email",className:"text-slate-600",children:"Email Address"}),a.jsx(Z,{id:"email",name:"email",type:"email",value:c.email,readOnly:!0,className:"mt-1 bg-slate-100 text-slate-500"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Email cannot be changed."})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"phone",className:"text-slate-600",children:"Phone Number"}),a.jsx(Z,{id:"phone",name:"phone",value:c.phone,onChange:w,readOnly:!o,className:"mt-1 read-only:bg-slate-100 read-only:text-slate-500"})]})]})})]}),a.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[a.jsxs(ie,{className:"shadow-xl border-emerald-200 rounded-xl",children:[a.jsx(fe,{className:"bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-200",children:a.jsxs(ge,{className:"text-xl font-poppins text-emerald-800 flex items-center",children:[c.isAvailable?a.jsx(sr,{className:"mr-3 h-6 w-6 text-emerald-600"}):a.jsx(ob,{className:"mr-3 h-6 w-6 text-red-600"}),"Availability Status"]})}),a.jsxs(oe,{className:"p-6 flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx(B,{htmlFor:"availability-switch",className:`text-md font-medium ${c.isAvailable?"text-emerald-700":"text-red-700"}`,children:c.isAvailable?"Available for New Tasks":"Unavailable for New Tasks"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Toggle to change your availability."})]}),a.jsx(xN,{id:"availability-switch",checked:c.isAvailable,onCheckedChange:j,className:"data-[state=checked]:bg-emerald-500 data-[state=unchecked]:bg-red-500"})]})]}),a.jsxs(ie,{className:"shadow-xl border-purple-200 rounded-xl",children:[a.jsxs(fe,{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-b border-purple-200",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs(ge,{className:"text-xl font-poppins text-purple-800 flex items-center",children:[a.jsx(sb,{className:"mr-3 h-6 w-6 text-purple-600"})," Bank Accounts"]}),a.jsxs(L,{onClick:()=>x(!b),size:"sm",variant:"outline",className:"border-purple-500 text-purple-600 hover:bg-purple-50",children:[a.jsx(Bi,{className:"mr-2 h-4 w-4"})," ",b?"Cancel":"Add Account"]})]}),a.jsx(je,{className:"font-inter text-purple-700",children:"Manage your bank accounts for payouts."})]}),a.jsxs(oe,{className:"p-6",children:[b&&a.jsxs("div",{className:"space-y-4 mb-6 p-4 border border-purple-200 rounded-lg bg-purple-50/30",children:[a.jsx("h4",{className:"font-medium text-purple-700",children:"Add New Bank Account"}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"accountHolderName",children:"Account Holder Name"}),a.jsx(Z,{id:"accountHolderName",name:"accountHolderName",value:m.accountHolderName,onChange:y,placeholder:"e.g., John Doe"})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"bankName",children:"Bank Name"}),a.jsx(Z,{id:"bankName",name:"bankName",value:m.bankName,onChange:y,placeholder:"e.g., State Bank of India"})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"accountNumber",children:"Account Number"}),a.jsx(Z,{id:"accountNumber",name:"accountNumber",value:m.accountNumber,onChange:y,placeholder:"e.g., 12345678901"})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"ifsc",children:"IFSC Code"}),a.jsx(Z,{id:"ifsc",name:"ifsc",value:m.ifsc,onChange:y,placeholder:"e.g., SBIN0001234"})]}),a.jsx(L,{onClick:S,className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:"Save Account"})]}),d.length===0&&!b?a.jsx("p",{className:"text-center text-slate-500",children:"No bank accounts added yet."}):a.jsx("ul",{className:"space-y-3",children:d.map((_,C)=>a.jsxs("li",{className:"flex justify-between items-center p-3 border border-slate-200 rounded-md bg-slate-50/50",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-slate-700",children:[_.accountHolderName," - ",_.bankName]}),a.jsxs("p",{className:"text-sm text-slate-500",children:["A/C: ...",_.accountNumber.slice(-4)," | IFSC: ",_.ifsc]})]}),a.jsx(L,{variant:"ghost",size:"icon",onClick:()=>k(_.accountNumber),className:"text-red-500 hover:text-red-700 hover:bg-red-100",children:a.jsx(ln,{className:"h-4 w-4"})})]},C))})]})]})]})]})}const pl=({title:e,value:t,icon:n,color:r,bgColor:s,subtext:i,isAvailable:o})=>a.jsxs(Pe.div,{className:`p-3 sm:p-4 rounded-lg sm:rounded-xl shadow-lg flex items-center space-x-2 sm:space-x-3 border-l-4 ${r} ${s}`,whileHover:{y:-3,scale:1.02},transition:{type:"spring",stiffness:300},children:[a.jsx("div",{className:`p-2 sm:p-2.5 rounded-full bg-opacity-20 ${r.replace("border-","bg-")}`,children:X.cloneElement(n,{className:`h-5 w-5 sm:h-6 sm:w-6 ${r.replace("border-","text-")}`})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] sm:text-xs text-slate-500 font-medium",children:e}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-slate-800",children:t}),i&&a.jsxs("div",{className:`flex items-center text-[10px] sm:text-xs mt-0.5 ${o?"text-emerald-600":"text-red-600"}`,children:[o?a.jsx(Pm,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 mr-0.5 sm:mr-1"}):a.jsx(In,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 mr-0.5 sm:mr-1"}),i]})]})]}),IF=({title:e,icon:t})=>a.jsx(Pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:a.jsxs(ie,{className:"shadow-lg border-dashed border-slate-300 rounded-xl h-full flex flex-col items-center justify-center text-center p-6 sm:p-10 bg-slate-50/50",children:[a.jsxs(fe,{className:"p-3 sm:p-4",children:[a.jsx("div",{className:"mx-auto bg-slate-200 p-3 sm:p-4 rounded-full mb-4 sm:mb-6 ring-1 ring-slate-300",children:a.jsx(t,{className:"h-10 w-10 sm:h-12 sm:w-12 text-slate-500"})}),a.jsx(ge,{className:"text-xl sm:text-2xl font-poppins text-slate-700",children:e})]}),a.jsxs(oe,{className:"p-3 sm:p-4",children:[a.jsx("p",{className:"text-slate-600 font-inter text-sm sm:text-lg",children:"Exciting new feature coming soon!"}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-500 mt-1 sm:mt-2",children:"We're building something great for you. Keep an eye out! "})]})]})}),Dd=[{value:"assigned-tasks",label:"Assigned Tasks",icon:a.jsx(Tm,{className:"mr-1.5 h-4 w-4"})},{value:"generate-leads",label:"Generate Leads",icon:a.jsx(jP,{className:"mr-1.5 h-4 w-4"})},{value:"my-leads",label:"My Generated Leads",icon:a.jsx(vi,{className:"mr-1.5 h-4 w-4"})},{value:"vle-wallet",label:"My Wallet",icon:a.jsx(xo,{className:"mr-1.5 h-4 w-4"})},{value:"special-services",label:"Special Services",icon:a.jsx(xs,{className:"mr-1.5 h-4 w-4"})},{value:"commission-chart",label:"Commission Chart",icon:a.jsx(Em,{className:"mr-1.5 h-4 w-4"}),comingSoon:!0},{value:"my-profile",label:"My Profile",icon:a.jsx(Or,{className:"mr-1.5 h-4 w-4"})}];function LF({user:e,onLogout:t}){const{toast:n}=Oe(),{tasks:r,leads:s,getWalletDetails:i,addNotification:o,getUserById:l}=Ke(),[c,u]=iS(),[d,f]=h.useState(c.get("tab")||"assigned-tasks"),[m,v]=h.useState(!1),[b,x]=h.useState(null),[w,y]=h.useState({assignedTasks:0,completedTasks:0,pendingLeads:0,walletBalance:"0.00",isAvailable:!0});if(h.useEffect(()=>{(async()=>{if(e!=null&&e.id){const k=await l(e.id);x(k)}})()},[e==null?void 0:e.id,l]),h.useEffect(()=>{const S=async()=>{if(b&&e){const k=r.filter(N=>N.vle_id===e.id),_=s.filter(N=>N.vle_id===e.id),C=await i(e.id);y({assignedTasks:k.filter(N=>!["completed","rejected","pending_commission_approval","commission_approved","commission_rejected"].includes(N.status)).length,completedTasks:k.filter(N=>N.status==="commission_approved").length,pendingLeads:_.filter(N=>["pending","pending_assignment"].includes(N.status)).length,walletBalance:C&&typeof C.balance=="number"?C.balance.toFixed(2):"0.00",isAvailable:b.is_available!==void 0?b.is_available:!0})}};e!=null&&e.id&&S()},[r,s,e,i,b]),h.useEffect(()=>{const S=c.get("tab"),k=c.get("taskId"),_=c.get("leadId");if(S&&Dd.find(C=>C.value===S&&!C.comingSoon)&&f(S),S==="assigned-tasks"&&k){const C=document.getElementById(`task-${k}`);C&&setTimeout(()=>C.scrollIntoView({behavior:"smooth",block:"center"}),100)}else if(S==="my-leads"&&_){const C=document.getElementById(`lead-${_}`);C&&setTimeout(()=>C.scrollIntoView({behavior:"smooth",block:"center"}),100)}},[c]),!e)return null;const p=S=>{f(S),u({tab:S})},g=(S="This feature")=>{n({title:" Feature Coming Soon!",description:`${S} isn't implemented yetbut we're working on it! `,variant:"default"})},j=S=>{if(!S||!S.service_name||!S.customer_name||!S.id){console.error("handleLeadGenerated called with invalid lead object:",S),n({title:"Notification Error",description:"Could not properly notify about the new lead due to missing lead details.",variant:"destructive"}),p("my-leads");return}p("my-leads"),o(e.id,`You generated a new lead for ${S.service_name} (Customer: ${S.customer_name}).`,"success",`/vle-dashboard?tab=my-leads&leadId=${S.id}`,"Lead Generated"),o("admin",`VLE ${e.name} generated a new lead for ${S.service_name} (Customer: ${S.customer_name}).`,"info",`/admin-dashboard?tab=all-leads&leadId=${S.id}`,"New Lead by VLE")};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 font-inter text-slate-800",children:[a.jsx("header",{className:"bg-white/90 backdrop-blur-md shadow-md border-b border-slate-200 sticky top-0 z-50",children:a.jsx("div",{className:"max-w-screen-2xl mx-auto px-3 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16 sm:h-20",children:[a.jsxs(Pe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex items-center",children:[a.jsx(AP,{className:"h-7 w-7 sm:h-8 text-primary animate-pulse"}),a.jsx("h1",{className:"ml-1.5 sm:ml-2 text-xl sm:text-2xl font-poppins font-bold text-slate-800",children:"eGoa Sarathi"}),a.jsx("span",{className:"ml-2 sm:ml-3 text-[10px] sm:text-xs text-primary/80 font-medium hidden md:inline-block border-l border-primary/30 pl-2 sm:pl-3",children:"VLE Portal"})]}),a.jsxs(Pe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex items-center space-x-1 sm:space-x-2",children:[a.jsx("div",{className:"hidden sm:inline-flex",children:a.jsx(Ii,{})}),a.jsx(L,{variant:"ghost",size:"icon",onClick:()=>g("Settings"),"aria-label":"Settings",className:"hidden sm:inline-flex text-slate-600 hover:text-primary hover:bg-primary/10 h-8 w-8 sm:h-9 sm:w-9",children:a.jsx(Pi,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),a.jsx(L,{variant:"ghost",size:"icon",onClick:()=>p("my-profile"),"aria-label":"Profile",className:"hidden sm:inline-flex text-slate-600 hover:text-primary hover:bg-primary/10 h-8 w-8 sm:h-9 sm:w-9",children:a.jsx(Or,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),a.jsxs("div",{className:"text-right hidden md:block",children:[a.jsxs("span",{className:"text-xs sm:text-sm text-slate-700 font-medium",children:["Welcome, ",e.name]}),a.jsxs("p",{className:"text-[10px] sm:text-xs text-slate-500",children:["ID: ",e.user_id_custom," | ",e.center]})]}),a.jsxs(L,{variant:"outline",size:"sm",onClick:t,className:"border-primary text-primary hover:bg-primary hover:text-primary-foreground h-8 px-2 sm:h-9 sm:px-3 text-xs",children:[a.jsx(Mm,{className:"mr-1 h-3.5 w-3.5 sm:h-4 sm:w-4"}),"Logout"]}),a.jsx("div",{className:"sm:hidden",children:a.jsxs(ju,{open:m,onOpenChange:v,children:[a.jsx(Su,{asChild:!0,children:a.jsx(L,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(Om,{className:"h-5 w-5 text-slate-600"})})}),a.jsxs(Ro,{align:"end",className:"w-56",children:[Dd.map(S=>a.jsxs(nn,{onClick:()=>{S.comingSoon?g(S.label):p(S.value),v(!1)},className:`flex items-center text-xs ${d===S.value&&!S.comingSoon?"bg-slate-100 text-primary":""}`,children:[X.cloneElement(S.icon,{className:"mr-1.5 h-3.5 w-3.5"})," ",S.label,S.comingSoon&&a.jsx(Ev,{className:"ml-auto h-3 w-3 text-yellow-500"})]},S.value)),a.jsx(Mi,{}),a.jsxs(nn,{onClick:()=>{v(!1)},className:"flex items-center text-xs",children:[a.jsx(Ii,{})," ",a.jsx("span",{className:"ml-1.5",children:"Notifications"})]}),a.jsxs(nn,{onClick:()=>{g("Settings"),v(!1)},className:"flex items-center text-xs",children:[a.jsx(Pi,{className:"mr-1.5 h-3.5 w-3.5"})," Settings"]})]})]})})]})]})})}),a.jsxs("main",{className:"max-w-screen-2xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-8",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 sm:gap-3 mb-4 sm:mb-6",children:[a.jsx(pl,{title:"Active Tasks",value:w.assignedTasks,icon:a.jsx(Tm,{}),color:"border-sky-500",bgColor:"bg-white"}),a.jsx(pl,{title:"Tasks Done",value:w.completedTasks,icon:a.jsx(Am,{}),color:"border-emerald-500",bgColor:"bg-white"}),a.jsx(pl,{title:"Wallet",value:`${w.walletBalance}`,icon:a.jsx(Gc,{}),color:"border-purple-500",bgColor:"bg-white"}),a.jsx(pl,{title:"Availability",value:w.isAvailable?"Available":"Unavailable",icon:w.isAvailable?a.jsx(Pm,{}):a.jsx(In,{}),color:w.isAvailable?"border-emerald-500":"border-red-500",bgColor:"bg-white",subtext:w.isAvailable?"Accepting tasks":"Not accepting",isAvailable:w.isAvailable})]}),a.jsxs(yp,{value:d,onValueChange:p,className:"space-y-4",children:[a.jsx("div",{className:"overflow-x-auto pb-1.5 vle-tabs-container",children:a.jsx(ro,{className:"inline-flex min-w-max h-auto p-1 bg-slate-200/80 rounded-lg space-x-0.5 sm:space-x-1 backdrop-blur-sm",children:Dd.map(S=>a.jsxs(so,{value:S.value,className:"data-[state=active]:bg-white data-[state=active]:text-primary data-[state=active]:shadow-md text-slate-600 hover:bg-slate-300/50 hover:text-slate-700 text-[10px] sm:text-xs py-2 px-2.5 sm:py-2.5 sm:px-3 flex items-center justify-center whitespace-nowrap rounded-md transition-all duration-200 ease-in-out",onClick:S.comingSoon?()=>g(S.label):void 0,disabled:S.comingSoon&&S.value!==d,children:[X.cloneElement(S.icon,{className:"mr-1 h-3.5 w-3.5 sm:h-4 sm:w-4"}),S.label,S.comingSoon&&a.jsx(Ev,{className:"ml-1.5 h-2.5 w-2.5 sm:h-3 sm:w-3 text-yellow-500"})]},S.value))})}),a.jsx(vp,{mode:"wait",children:a.jsxs(Pe.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3,ease:"easeInOut"},className:"mt-0 sm:mt-4",children:[a.jsx(h.Suspense,{fallback:a.jsx("div",{children:"Loading..."}),children:a.jsx(Ie,{value:"generate-leads",className:"mt-0",children:a.jsx(rF,{user:e,onLeadGenerated:j})})}),a.jsx(h.Suspense,{fallback:a.jsx("div",{children:"Loading..."}),children:a.jsx(Ie,{value:"my-leads",className:"mt-0",children:a.jsx(iF,{user:e})})}),a.jsx(h.Suspense,{fallback:a.jsx("div",{children:"Loading..."}),children:a.jsx(Ie,{value:"assigned-tasks",className:"mt-0",children:a.jsx(oF,{user:e})})}),a.jsx(h.Suspense,{fallback:a.jsx("div",{children:"Loading..."}),children:a.jsx(Ie,{value:"special-services",className:"mt-0",children:a.jsx(dF,{user:e})})}),a.jsx(h.Suspense,{fallback:a.jsx("div",{children:"Loading..."}),children:a.jsx(Ie,{value:"vle-wallet",className:"mt-0",children:a.jsx(fF,{user:e})})}),a.jsx(h.Suspense,{fallback:a.jsx("div",{children:"Loading..."}),children:a.jsx(Ie,{value:"commission-chart",className:"mt-0",children:a.jsx(IF,{title:"Commission Chart",icon:Em})})}),a.jsx(h.Suspense,{fallback:a.jsx("div",{children:"Loading..."}),children:a.jsx(Ie,{value:"my-profile",className:"mt-0",children:a.jsx(OF,{user:e})})})]},d)})]})]}),a.jsx("footer",{className:"text-center py-4 sm:py-6 border-t border-slate-200",children:a.jsxs("p",{className:"text-[10px] sm:text-xs text-slate-500",children:[" ",new Date().getFullYear()," eGoa Sarathi. VLE Network Support."]})})]})}var yN="AlertDialog",[$F,GV]=$n(yN,[Pb]),ir=Pb(),wN=e=>{const{__scopeAlertDialog:t,...n}=e,r=ir(t);return a.jsx(Gb,{...r,...n,modal:!0})};wN.displayName=yN;var FF="AlertDialogTrigger",bN=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ir(n);return a.jsx(qb,{...s,...r,ref:t})});bN.displayName=FF;var VF="AlertDialogPortal",jN=e=>{const{__scopeAlertDialog:t,...n}=e,r=ir(t);return a.jsx(Kb,{...r,...n})};jN.displayName=VF;var UF="AlertDialogOverlay",SN=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ir(n);return a.jsx(Hm,{...s,...r,ref:t})});SN.displayName=UF;var wi="AlertDialogContent",[BF,zF]=$F(wi),WF=nP("AlertDialogContent"),CN=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=ir(n),o=h.useRef(null),l=ye(t,o),c=h.useRef(null);return a.jsx(XA,{contentName:wi,titleName:NN,docsSlug:"alert-dialog",children:a.jsx(BF,{scope:n,cancelRef:c,children:a.jsxs(Gm,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:q(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(WF,{children:r}),a.jsx(GF,{contentRef:o})]})})})});CN.displayName=wi;var NN="AlertDialogTitle",kN=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ir(n);return a.jsx(qm,{...s,...r,ref:t})});kN.displayName=NN;var _N="AlertDialogDescription",EN=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ir(n);return a.jsx(Km,{...s,...r,ref:t})});EN.displayName=_N;var HF="AlertDialogAction",TN=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ir(n);return a.jsx(Zc,{...s,...r,ref:t})});TN.displayName=HF;var PN="AlertDialogCancel",AN=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=zF(PN,n),i=ir(n),o=ye(t,s);return a.jsx(Zc,{...i,...r,ref:o})});AN.displayName=PN;var GF=({contentRef:e})=>{const t=`\`${wi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${wi}\` by passing a \`${_N}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${wi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},qF=wN,KF=bN,YF=jN,RN=SN,DN=CN,MN=TN,ON=AN,IN=kN,LN=EN;const yy=qF,wy=KF,XF=YF,$N=X.forwardRef(({className:e,...t},n)=>a.jsx(RN,{className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));$N.displayName=RN.displayName;const mh=X.forwardRef(({className:e,...t},n)=>a.jsxs(XF,{children:[a.jsx($N,{}),a.jsx(DN,{ref:n,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));mh.displayName=DN.displayName;const ph=({className:e,...t})=>a.jsx("div",{className:ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});ph.displayName="AlertDialogHeader";const gh=({className:e,...t})=>a.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});gh.displayName="AlertDialogFooter";const vh=X.forwardRef(({className:e,...t},n)=>a.jsx(IN,{ref:n,className:ne("text-lg font-semibold",e),...t}));vh.displayName=IN.displayName;const xh=X.forwardRef(({className:e,...t},n)=>a.jsx(LN,{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));xh.displayName=LN.displayName;const yh=X.forwardRef(({className:e,...t},n)=>a.jsx(MN,{ref:n,className:ne(km(),e),...t}));yh.displayName=MN.displayName;const wh=X.forwardRef(({className:e,...t},n)=>a.jsx(ON,{ref:n,className:ne(km({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));wh.displayName=ON.displayName;const ua=({title:e,value:t,icon:n,color:r})=>a.jsxs("div",{className:`p-4 rounded-xl shadow-lg flex items-center space-x-3 bg-white border-l-4 ${r}`,children:[a.jsx("div",{className:`p-2.5 rounded-full bg-opacity-20 ${r.replace("border-","bg-")}`,children:X.cloneElement(n,{className:`h-6 w-6 ${r.replace("border-","text-")}`})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 font-medium",children:e}),a.jsx("p",{className:"text-2xl font-bold text-slate-800",children:t})]})]});function QF({user:e,onLogout:t,stats:n,activeTab:r,setActiveTab:s,handleClearData:i,children:o}){const{toast:l}=Oe(),[c,u]=X.useState(!1),d=(m="This feature")=>{l({title:" Feature Coming Soon!",description:`${m} isn't implemented yetbut we're working on it! `,variant:"default"})},f=[{value:"assign-tasks",label:"Assign Tasks",icon:a.jsx(Je,{className:"mr-2 h-4 w-4"}),badgeCount:n.pendingAssignments},{value:"all-bookings",label:"All Bookings",icon:a.jsx(Je,{className:"mr-2 h-4 w-4"})},{value:"all-leads",label:"All Leads",icon:a.jsx(vi,{className:"mr-2 h-4 w-4"})},{value:"vle-management",label:"VLEs",icon:a.jsx(Pv,{className:"mr-2 h-4 w-4"})},{value:"customer-management",label:"Customers",icon:a.jsx(vi,{className:"mr-2 h-4 w-4"})},{value:"service-management",label:"Services",icon:a.jsx(Kc,{className:"mr-2 h-4 w-4"})},{value:"issues-management",label:"Issues",icon:a.jsx(sc,{className:"mr-2 h-4 w-4"}),badgeCount:n.openIssues},{value:"vle-special-requests",label:"VLE Requests",icon:a.jsx(xs,{className:"mr-2 h-4 w-4"}),badgeCount:n.pendingSpecialRequests},{value:"accounting",label:"Wallet Mgmt",icon:a.jsx(Gc,{className:"mr-2 h-4 w-4"})},{value:"commissions",label:"Commissions",icon:a.jsx(Em,{className:"mr-2 h-4 w-4"}),badgeCount:n.pendingCommissions}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 font-inter",children:[a.jsx("header",{className:"bg-white/90 backdrop-blur-md shadow-md border-b border-slate-200 sticky top-0 z-50",children:a.jsx("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-20",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(gP,{className:"h-8 w-8 sm:h-10 sm:w-10 text-sky-600"}),a.jsx("h1",{className:"ml-2 sm:ml-3 text-2xl sm:text-3xl font-poppins font-bold text-slate-800",children:"eGoa Sarathi"}),a.jsx("span",{className:"ml-3 sm:ml-4 text-xs sm:text-sm text-slate-500 font-medium hidden md:inline-block",children:"Admin Panel"})]}),a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[a.jsxs(yy,{children:[a.jsx(wy,{asChild:!0,children:a.jsxs(L,{variant:"destructive",size:"sm",className:"hidden sm:flex items-center gap-2 bg-red-50 hover:bg-red-100 text-red-600 border border-red-200",children:[a.jsx(ln,{className:"h-4 w-4"})," Clear All Data"]})}),a.jsxs(mh,{children:[a.jsxs(ph,{children:[a.jsx(vh,{children:"Are you absolutely sure?"}),a.jsx(xh,{children:"This action cannot be undone. This will permanently delete all bookings, leads, tasks, and complaints data from the system. Wallet balances will also be reset."})]}),a.jsxs(gh,{children:[a.jsx(wh,{children:"Cancel"}),a.jsx(yh,{onClick:i,className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",children:"Yes, delete all data"})]})]})]}),a.jsx("div",{className:"hidden sm:inline-flex",children:a.jsx(Ii,{})}),a.jsx(L,{variant:"ghost",size:"icon",onClick:()=>d("Settings"),"aria-label":"Settings",className:"hidden sm:inline-flex",children:a.jsx(Pi,{className:"h-5 w-5 text-slate-600 hover:text-sky-600 transition-colors"})}),a.jsxs("div",{className:"text-right hidden md:block",children:[a.jsxs("span",{className:"text-sm text-slate-700 font-medium",children:["Admin: ",e.name]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",e.user_id_custom]})]}),a.jsxs(L,{variant:"outline",size:"sm",onClick:t,className:"border-sky-600 text-sky-600 hover:bg-sky-600/10",children:[a.jsx(Mm,{className:"mr-1 sm:mr-2 h-4 w-4"}),"Logout"]}),a.jsxs("div",{className:"lg:hidden",children:[a.jsxs(ju,{open:c,onOpenChange:u,children:[a.jsx(Su,{asChild:!0,children:a.jsx(L,{variant:"ghost",size:"icon",children:a.jsx(Om,{className:"h-6 w-6 text-slate-600"})})}),a.jsxs(Ro,{align:"end",className:"w-60",children:[f.map(m=>a.jsxs(nn,{onClick:()=>{s(m.value),u(!1)},className:`flex items-center justify-between ${r===m.value?"bg-sky-100 text-sky-700":""}`,children:[a.jsxs("div",{className:"flex items-center",children:[m.icon," ",m.label]}),m.badgeCount>0&&a.jsx(It,{variant:"destructive",className:"h-5 px-1.5",children:m.badgeCount})]},m.value)),a.jsx(Mi,{}),a.jsxs(nn,{onClick:()=>{u(!1)},className:"flex items-center",children:[a.jsx(Ii,{})," ",a.jsx("span",{className:"ml-2",children:"Notifications"})]}),a.jsxs(nn,{onClick:()=>{d("Settings"),u(!1)},className:"flex items-center",children:[a.jsx(Pi,{className:"mr-2 h-4 w-4"})," Settings"]}),a.jsx(Mi,{}),a.jsxs(nn,{onClick:()=>{u(!1),setTimeout(()=>{const m=document.getElementById("mobile-clear-data-trigger");m&&m.click()},100)},className:"text-red-600 focus:bg-red-50 focus:text-red-700 flex items-center",children:[a.jsx(ln,{className:"mr-2 h-4 w-4"})," Clear All Data"]})]})]}),a.jsxs(yy,{children:[a.jsx(wy,{asChild:!0,children:a.jsx(L,{id:"mobile-clear-data-trigger",className:"hidden",children:"Hidden Trigger"})}),a.jsxs(mh,{children:[a.jsxs(ph,{children:[a.jsx(vh,{children:"Are you absolutely sure?"}),a.jsx(xh,{children:"This action cannot be undone. This will permanently delete all bookings, leads, tasks, and complaints data from the system. Wallet balances will also be reset."})]}),a.jsxs(gh,{children:[a.jsx(wh,{children:"Cancel"}),a.jsx(yh,{onClick:i,className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",children:"Yes, delete all data"})]})]})]})]})]})]})})}),a.jsxs("main",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-10",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[a.jsx(ua,{title:"Pending Assignments",value:n.pendingAssignments,icon:a.jsx(Je,{}),color:"border-yellow-500"}),a.jsx(ua,{title:"Total Bookings",value:n.totalBookings,icon:a.jsx(Je,{}),color:"border-blue-500"}),a.jsx(ua,{title:"Total Leads",value:n.totalLeads,icon:a.jsx(vi,{}),color:"border-purple-500"}),a.jsx(ua,{title:"Active Tasks",value:n.totalTasks,icon:a.jsx(Pv,{}),color:"border-teal-500"}),a.jsx(ua,{title:"Open Issues",value:n.openIssues,icon:a.jsx(sc,{}),color:"border-red-500"})]}),a.jsxs(yp,{value:r,onValueChange:s,className:"space-y-4 sm:space-y-6",children:[a.jsx("div",{className:"overflow-x-auto pb-2 lg:pb-0 admin-tabs-container",children:a.jsx(ro,{className:"hidden lg:inline-flex min-w-max h-auto p-1 bg-sky-100/80 rounded-lg space-x-1",children:f.map(m=>a.jsxs(so,{value:m.value,className:"data-[state=active]:bg-white data-[state=active]:text-sky-700 data-[state=active]:shadow-md text-xs sm:text-sm py-2 px-3 sm:py-2.5 sm:px-4 flex items-center justify-center whitespace-nowrap",children:[m.icon," ",a.jsx("span",{className:"ml-1.5",children:m.label}),m.badgeCount>0&&a.jsx(It,{variant:"destructive",className:"ml-2 h-5 px-2 animate-pulse",children:m.badgeCount})]},m.value))})}),a.jsx("div",{className:"mt-4 sm:mt-6",children:o})]})]}),a.jsx("footer",{className:"text-center py-6 sm:py-8 border-t border-slate-200",children:a.jsxs("p",{className:"text-xs sm:text-sm text-slate-500",children:[" ",new Date().getFullYear()," eGoa Sarathi. Admin Control Panel."]})})]})}function JF({items:e,onAssignTask:t,getLatestRemark:n}){ot();const{getVLEs:r}=Ke(),s=r(),i=o=>{let l=s.filter(c=>c.is_available!==!1);return o.type==="lead"&&(o.status==="pending_assignment"||o.status==="pending")&&(l=l.filter(c=>c.id!==o.generated_by_vle_id)),l};return a.jsxs(ie,{children:[a.jsxs(fe,{children:[a.jsx(ge,{className:"text-lg sm:text-xl",children:"Unassigned/Rejected Tasks"}),a.jsx(je,{children:"Items waiting for VLE assignment or re-assignment."})]}),a.jsx(oe,{children:e.length===0?a.jsx("p",{className:"text-center text-gray-500 py-8",children:"No tasks to assign."}):a.jsx("div",{className:"space-y-4",children:e.map(o=>{var u;const l=i(o),c=o.type==="lead"&&o.generated_by_vle_id?s.find(d=>d.id===o.generated_by_vle_id):null;return a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-3 sm:p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex-1 mb-2 sm:mb-0",children:[a.jsxs("h4",{className:"font-medium text-sm sm:text-base",children:[o.service_name," (",o.type,") ",o.status==="rejected"&&a.jsx("span",{className:"text-red-500",children:"(Rejected)"})]}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:["ID: ",o.id," | Fee: ",o.fee]}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:["Docs: ",((u=o.documents)==null?void 0:u.length)||0,a.jsxs(Te,{children:[a.jsx(mt,{asChild:!0,children:a.jsx(L,{variant:"link",size:"sm",className:"p-0 h-auto ml-1",children:a.jsx(sr,{className:"h-3 w-3"})})}),a.jsxs(Se,{children:[a.jsx(Ce,{children:a.jsxs(Ne,{children:["View Documents for ",o.service_name]})}),a.jsx(Do,{documents:o.documents})]})]})]}),o.type==="lead"&&a.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:["Customer: ",o.customer_name," | Generated by: ",c?`${c.name} (${c.user_id_custom})`:"N/A"]}),o.status==="rejected"&&a.jsxs("p",{className:"text-xs text-red-500",children:["Remark: ",n(o)]})]}),a.jsx("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:a.jsxs(Gt,{onValueChange:d=>d&&t(o,d),children:[a.jsx(Mt,{className:"w-full sm:w-auto",children:a.jsx(qt,{placeholder:"Assign to VLE..."})}),a.jsx(Ot,{children:l.length>0?l.map(d=>a.jsxs(Ge,{value:d.id,children:[d.name," (",d.user_id_custom,") - ",d.center]},d.id)):a.jsxs("div",{className:"p-2 text-xs text-gray-500",children:["No ",s.some(d=>!d.is_available)?"available VLEs":"other VLEs"," for assignment."]})})]})})]},o.id)})})})]})}function ZF({bookings:e,getStatusIcon:t,getStatusColor:n,getLatestRemark:r}){return a.jsx("div",{className:"grid gap-4 sm:gap-6",children:e.length===0?a.jsx(ie,{children:a.jsxs(oe,{className:"text-center py-12",children:[a.jsx(Je,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No bookings yet"})]})}):e.map(s=>{var i;return a.jsxs(ie,{className:"card-hover animate-fade-in",children:[a.jsx(fe,{children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[a.jsxs("div",{className:"mb-2 sm:mb-0",children:[a.jsx(ge,{className:"text-md sm:text-lg",children:s.service_name}),a.jsxs(je,{className:"text-xs sm:text-sm",children:["Booking ID: ",s.id]})]}),a.jsxs(It,{className:`${n(s.status)} flex items-center gap-1 text-xs px-2 py-1`,children:[t(s.status)," ",s.status.replace(/-/g," ").replace(/\b\w/g,o=>o.toUpperCase())]})]})}),a.jsxs(oe,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 text-xs sm:text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Customer ID:"})," ",s.customer_id]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Fee:"})," ",s.fee]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Created:"})," ",new Date(s.created_at).toLocaleDateString()]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Documents:"})," ",((i=s.documents)==null?void 0:i.length)||0,a.jsxs(Te,{children:[a.jsx(mt,{asChild:!0,children:a.jsx(L,{variant:"link",size:"sm",className:"p-0 h-auto ml-1",children:a.jsx(sr,{className:"h-3 w-3"})})}),a.jsxs(Se,{children:[a.jsx(Ce,{children:a.jsxs(Ne,{children:["View Documents for ",s.service_name]})}),a.jsx(Do,{documents:s.documents})]})]})]}),s.assignedVleName!=="N/A"&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Assigned VLE:"})," ",s.assignedVleName]})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[a.jsx("span",{className:"font-medium",children:"Latest Remark:"})," ",r(s)]})]})]},s.id)})})}function eV({leads:e,getStatusIcon:t,getStatusColor:n,getLatestRemark:r}){const{getVLEs:s}=Ke(),i=s();return a.jsx("div",{className:"grid gap-4 sm:gap-6",children:e.length===0?a.jsx(ie,{children:a.jsxs(oe,{className:"text-center py-12",children:[a.jsx(vi,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No leads yet"})]})}):e.map(o=>{var l,c;return a.jsxs(ie,{className:"card-hover animate-fade-in",children:[a.jsx(fe,{children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[a.jsxs("div",{className:"mb-2 sm:mb-0",children:[a.jsx(ge,{className:"text-md sm:text-lg",children:o.service_name}),a.jsxs(je,{className:"text-xs sm:text-sm",children:["Lead ID: ",o.id]})]}),a.jsxs(It,{className:`${n(o.status)} flex items-center gap-1 text-xs px-2 py-1`,children:[t(o.status)," ",o.status.replace(/-/g," ").replace(/\b\w/g,u=>u.toUpperCase())]})]})}),a.jsxs(oe,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 text-xs sm:text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cn,{className:"h-4 w-4"}),a.jsx("span",{children:o.customer_name})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ui,{className:"h-4 w-4"}),a.jsx("span",{children:o.customer_phone})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Fee:"})," ",o.fee]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Generated by:"})," ",((l=i.find(u=>u.id===o.vle_id))==null?void 0:l.name)||"N/A"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Created:"})," ",new Date(o.created_at).toLocaleDateString()]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Documents:"})," ",((c=o.documents)==null?void 0:c.length)||0,a.jsxs(Te,{children:[a.jsx(mt,{asChild:!0,children:a.jsx(L,{variant:"link",size:"sm",className:"p-0 h-auto ml-1",children:a.jsx(sr,{className:"h-3 w-3"})})}),a.jsxs(Se,{children:[a.jsx(Ce,{children:a.jsxs(Ne,{children:["View Documents for ",o.service_name]})}),a.jsx(Do,{documents:o.documents})]})]})]}),o.assignedVleName!=="N/A"&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Assigned to:"})," ",o.assignedVleName]})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[a.jsx("span",{className:"font-medium",children:"Latest Remark:"})," ",r(o)]})]})]},o.id)})})}const tV=({vle:e,leads:t,tasks:n,onRemoveVLE:r,onToggleAvailability:s})=>{const i=t.filter(d=>d.vle_id===e.id),o=n.filter(d=>d.vle_id===e.id),l=o.filter(d=>d.status==="commission_approved"),c=d=>d?"text-emerald-600":"text-red-600",u=d=>d?a.jsx(Pm,{className:"h-4 w-4"}):a.jsx(In,{className:"h-4 w-4"});return a.jsxs(ie,{className:"card-hover animate-fade-in shadow-lg border-slate-200 rounded-xl",children:[a.jsx(fe,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs(ge,{className:"flex items-center gap-2 text-md sm:text-lg text-slate-800",children:[a.jsx(cn,{className:"h-5 w-5 text-primary"}),e.name]}),a.jsxs(je,{className:"text-xs sm:text-sm text-slate-500",children:["ID: ",e.user_id_custom," | ",e.center]})]}),a.jsxs("div",{className:`flex items-center gap-1 text-xs font-medium p-1.5 rounded-md ${c(e.is_available)} bg-opacity-10 ${e.is_available?"bg-emerald-100":"bg-red-100"}`,children:[u(e.is_available),e.is_available?"Available":"Unavailable"]})]})}),a.jsx(oe,{children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4 text-xs sm:text-sm",children:[{label:"Leads Gen.",value:i.length,color:"text-blue-600"},{label:"Tasks Assigned",value:o.length,color:"text-purple-600"},{label:"Tasks Done",value:l.length,color:"text-green-600"},{label:"Success Rate",value:`${o.length>0?Math.round(l.length/o.length*100):0}%`,color:"text-orange-600"}].map(d=>a.jsxs("div",{className:"text-center p-2 bg-slate-50 rounded-md",children:[a.jsx("p",{className:`text-lg sm:text-xl font-bold ${d.color}`,children:d.value}),a.jsx("p",{className:"text-slate-500",children:d.label})]},d.label))})}),a.jsxs(Ps,{className:"flex flex-wrap gap-2 pt-4 border-t border-slate-100",children:[a.jsxs(L,{variant:"outline",size:"sm",className:"text-xs border-slate-300 hover:bg-slate-100",onClick:()=>s(e.id,!e.is_available),children:[e.is_available?a.jsx(ob,{className:"mr-1 h-3.5 w-3.5"}):a.jsx(sr,{className:"mr-1 h-3.5 w-3.5"}),"Mark ",e.is_available?"Unavailable":"Available"]}),a.jsxs(L,{variant:"destructive",size:"sm",className:"text-xs",onClick:()=>r(e.id),children:[a.jsx(ln,{className:"mr-1 h-3.5 w-3.5"}),"Remove VLE"]})]})]})};function nV(){const{leads:e,tasks:t,getVLEs:n,updateUserDetails:r,refetchAllUsers:s}=Ke(),{toast:i}=Oe(),[o,l]=h.useState([]),[c,u]=h.useState(!1),[d,f]=h.useState({name:"",email:"",password:"",center:"",phone:""});h.useEffect(()=>{l(n())},[n]);const m=w=>{const{name:y,value:p}=w.target;f(g=>({...g,[y]:p}))},v=async()=>{if(!d.name||!d.email||!d.password||!d.center){i({title:"Missing Fields",description:"Please fill all required VLE details.",variant:"destructive"});return}const{data:w,error:y}=await M.auth.signUp({email:d.email,password:d.password,phone:d.phone,options:{data:{name:d.name,role:"vle",user_id_custom:`VLE${Date.now().toString().slice(-4)}`,center:d.center,is_available:!0,wallet_balance:1e3}}});y?i({title:"Failed to Add VLE",description:y.message,variant:"destructive"}):(i({title:"VLE Added Successfully",description:`${d.name} has been added. They may need to confirm their email.`}),await s(),u(!1),f({name:"",email:"",password:"",center:"",phone:""}))},b=async w=>{if(t.filter(p=>p.vle_id===w&&!["completed","commission_approved","commission_rejected","rejected"].includes(p.status)).length>0){i({title:"Cannot Remove VLE",description:"This VLE has active tasks assigned. Please reassign them first.",variant:"destructive",duration:5e3});return}i({title:"Action Not Implemented",description:"VLE user deletion from the client is disabled for security. Please remove users from the Supabase dashboard.",variant:"destructive"})},x=async(w,y)=>{await r(w,{is_available:y})?(i({title:"VLE Availability Updated",description:`VLE is now ${y?"Available":"Unavailable"}.`}),await s()):i({title:"Update Failed",description:"Could not update VLE availability.",variant:"destructive"})};return a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"VLE Management"}),a.jsxs(Te,{open:c,onOpenChange:u,children:[a.jsx(mt,{asChild:!0,children:a.jsxs(L,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:[a.jsx(Yc,{className:"mr-2 h-4 w-4"})," Add New VLE"]})}),a.jsxs(Se,{className:"sm:max-w-md",children:[a.jsxs(Ce,{children:[a.jsx(Ne,{className:"text-slate-800",children:"Add New VLE"}),a.jsx(un,{children:"Enter the details for the new VLE."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(B,{htmlFor:"vle-name",children:"Name"}),a.jsx(Z,{id:"vle-name",name:"name",value:d.name,onChange:m,placeholder:"Full Name"})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"vle-email",children:"Email"}),a.jsx(Z,{id:"vle-email",name:"email",type:"email",value:d.email,onChange:m,placeholder:"Email Address"})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"vle-password",children:"Password"}),a.jsx(Z,{id:"vle-password",name:"password",type:"password",value:d.password,onChange:m,placeholder:"Set Password"})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"vle-center",children:"Center Name"}),a.jsx(Z,{id:"vle-center",name:"center",value:d.center,onChange:m,placeholder:"e.g., Panaji Center"})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"vle-phone",children:"Phone (Optional)"}),a.jsx(Z,{id:"vle-phone",name:"phone",type:"tel",value:d.phone,onChange:m,placeholder:"Mobile Number"})]})]}),a.jsxs(tt,{children:[a.jsx(st,{asChild:!0,children:a.jsx(L,{variant:"outline",children:"Cancel"})}),a.jsx(L,{onClick:v,className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Add VLE"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:[o.map(w=>a.jsx(tV,{vle:w,leads:e,tasks:t,onRemoveVLE:b,onToggleAvailability:x},w.id)),o.length===0&&a.jsx("p",{className:"col-span-full text-center text-slate-500 py-10",children:"No VLEs found. Add VLEs to manage them here."})]})]})}function rV({customers:e}){return a.jsxs(ie,{children:[a.jsxs(fe,{children:[a.jsx(ge,{className:"text-lg sm:text-xl",children:"Customer Management"}),a.jsx(je,{children:"View and manage customer details"})]}),a.jsx(oe,{children:e.length===0?a.jsx("p",{className:"text-center text-gray-500 py-8",children:"No customers found."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell",children:"Address"}),a.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:"Joined"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(t=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:t.name}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:t.email}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:t.phone}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 hidden md:table-cell",children:t.address}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 hidden sm:table-cell",children:new Date(t.joinedDate).toLocaleDateString()})]},t.id))})]})})})]})}function sV({complaints:e,onResolveComplaint:t}){const[n,r]=h.useState(null),[s,i]=h.useState(""),[o,l]=h.useState([]),c=h.useRef(null),{toast:u}=Oe(),d=x=>{const w=Array.from(x.target.files);if(w.length===0)return;const y=w.map(p=>({id:Date.now()+Math.random().toString(36).substring(2,9),name:p.name,size:p.size,type:p.type,fileObject:p}));l(p=>[...p,...y]),u({title:"Documents Added",description:`${w.length} document(s) ready for resolution.`}),c.current&&(c.current.value="")},f=x=>{l(w=>w.filter(y=>y.id!==x))},m=x=>{r(x),i(""),l([])},v=()=>{if(!n||!s){u({title:"Resolution Incomplete",description:"Please provide resolution remarks.",variant:"destructive"});return}const x=o.map(y=>({name:y.name,size:y.size,type:y.type})),w=n.type||"issue";t(n.id,s,x),u({title:`${w.charAt(0).toUpperCase()+w.slice(1)} Resolved`,description:`${w.charAt(0).toUpperCase()+w.slice(1)} ID: ${n.id} marked as resolved.`}),r(null)},b=x=>x.type||"issue";return a.jsxs(a.Fragment,{children:[a.jsxs(ie,{children:[a.jsxs(fe,{children:[a.jsx(ge,{className:"text-lg sm:text-xl",children:"Complaints & Feedback Management"}),a.jsx(je,{children:"View and manage customer complaints and feedback"})]}),a.jsx(oe,{children:e.length===0?a.jsx("p",{className:"text-center text-gray-500 py-8",children:"No complaints or feedback found."}):a.jsx("div",{className:"space-y-4",children:e.map(x=>{const w=b(x);return a.jsxs(ie,{className:"animate-fade-in",children:[a.jsx(fe,{children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start",children:[a.jsxs("div",{className:"mb-2 sm:mb-0",children:[a.jsxs(ge,{className:"text-md flex items-center",children:[w==="feedback"?a.jsx(pb,{className:"mr-2 h-5 w-5 text-green-600"}):a.jsx(lb,{className:"mr-2 h-5 w-5 text-red-600"}),x.subject||"Feedback"]}),a.jsxs(je,{className:"text-xs",children:[w.charAt(0).toUpperCase()+w.slice(1)," ID: ",x.id," | Booking ID: ",x.booking_id]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[x.rating>0&&a.jsx("div",{className:"flex items-center",children:[...Array(5)].map((y,p)=>a.jsx(Lm,{className:`h-4 w-4 ${p<x.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},p))}),a.jsxs(It,{className:`${x.status==="open"?"bg-yellow-100 text-yellow-800":x.status==="resolved"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"} flex items-center gap-1`,children:[x.status==="open"?a.jsx(_t,{className:"h-3 w-3"}):a.jsx(At,{className:"h-3 w-3"}),x.status.toUpperCase()]})]})]})}),a.jsxs(oe,{children:[a.jsx("p",{className:"text-sm text-gray-700 mb-2",children:x.description}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Customer ID: ",x.customer_id]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",x.created_at?Oi(new Date(x.created_at),"PPpp"):"Invalid Date"]}),x.status==="open"&&a.jsxs(L,{size:"sm",className:"mt-2",onClick:()=>m(x),children:["Resolve ",w.charAt(0).toUpperCase()+w.slice(1)]}),x.status==="resolved"&&x.resolution_details&&a.jsxs("div",{className:"mt-2 p-2 bg-green-50 border-l-4 border-green-500 rounded",children:[a.jsx("p",{className:"text-xs font-semibold text-green-700",children:"Resolution Details:"}),a.jsx("p",{className:"text-xs text-green-600",children:x.resolution_details.remarks}),x.resolution_details.documents&&x.resolution_details.documents.length>0&&a.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Attached: ",x.resolution_details.documents.map(y=>y.name).join(", ")]})]})]})]},x.id)})})})]}),n&&a.jsx(Te,{open:!!n,onOpenChange:x=>!x&&r(null),children:a.jsxs(Se,{children:[a.jsxs(Ce,{children:[a.jsxs(Ne,{children:["Resolve ",(n.type||"issue").charAt(0).toUpperCase()+(n.type||"issue").slice(1)," ID: ",n.id]}),a.jsx(un,{children:"Provide resolution details and attach any relevant documents."})]}),a.jsxs("div",{className:"py-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx(B,{htmlFor:"resolution-remarks",children:"Resolution Remarks"}),a.jsx(Is,{id:"resolution-remarks",value:s,onChange:x=>i(x.target.value),placeholder:"Enter resolution comments (mandatory)"})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"resolution-docs",children:"Upload Resolution Documents (Optional)"}),a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-4 text-center",children:[a.jsx(zi,{className:"mx-auto h-8 w-8 text-gray-400"}),a.jsx(B,{htmlFor:"file-upload-resolution",className:"cursor-pointer mt-2 block text-sm font-medium text-blue-600 hover:text-blue-500",children:"Click to upload"}),a.jsx(Z,{id:"file-upload-resolution",type:"file",multiple:!0,className:"hidden",onChange:d,ref:c,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"})]}),o.length>0&&a.jsx("div",{className:"space-y-1 mt-2",children:o.map(x=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-100 rounded text-xs",children:[a.jsx("span",{className:"truncate",children:x.name}),a.jsx(L,{variant:"ghost",size:"sm",onClick:()=>f(x.id),children:a.jsx(ln,{className:"h-3 w-3 text-red-500"})})]},x.id))})]})]}),a.jsxs(tt,{children:[a.jsx(st,{asChild:!0,children:a.jsx(L,{variant:"outline",children:"Cancel"})}),a.jsx(L,{onClick:v,disabled:!s,children:"Mark as Resolved"})]})]})})]})}const iV=e=>{const t="text-xs px-2.5 py-1 rounded-full font-medium flex items-center gap-1.5 border shadow-sm";switch(e){case"pending_admin_review":return`${t} bg-yellow-100 text-yellow-700 border-yellow-300`;case"admin_in_progress":return`${t} bg-blue-100 text-blue-700 border-blue-300`;case"admin_resolved":case"admin_information_provided":return`${t} bg-emerald-100 text-emerald-700 border-emerald-300`;case"admin_rejected":return`${t} bg-red-100 text-red-700 border-red-300`;default:return`${t} bg-slate-100 text-slate-700 border-slate-300`}},aV=e=>{switch(e){case"pending_admin_review":return a.jsx(cb,{className:"h-3 w-3"});case"admin_in_progress":return a.jsx(xs,{className:"h-3 w-3"});case"admin_resolved":case"admin_information_provided":return a.jsx(Am,{className:"h-3 w-3"});case"admin_rejected":return a.jsx(Hc,{className:"h-3 w-3"});default:return a.jsx(qc,{className:"h-3 w-3"})}};function oV({specialRequests:e,onUpdateStatus:t,vleUsers:n}){const[r,s]=X.useState(null),[i,o]=X.useState(""),[l,c]=X.useState(""),u=m=>{s(m),o(m.status),c(m.adminRemarks||"")},d=()=>{!r||!i||(t(r.id,i,l),s(null))},f=m=>{const v=n.find(b=>b.id===m);return v?`${v.name} (${v.user_id_custom})`:"Unknown VLE (N/A)"};return a.jsxs(a.Fragment,{children:[a.jsxs(ie,{children:[a.jsxs(fe,{children:[a.jsx(ge,{className:"text-lg sm:text-xl",children:"VLE Special Requests & Queries"}),a.jsx(je,{children:"Manage special service requests and queries submitted by VLEs."})]}),a.jsx(oe,{children:e.length===0?a.jsx("p",{className:"text-center text-gray-500 py-8",children:"No special requests or queries found."}):a.jsx("div",{className:"space-y-4",children:e.map(m=>a.jsxs(ie,{className:"animate-fade-in",children:[a.jsx(fe,{children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-2",children:[a.jsxs("div",{children:[a.jsxs(ge,{className:"text-md flex items-center gap-2",children:[m.requestType==="special_service"?a.jsx(xs,{className:"h-5 w-5 text-yellow-500"}):a.jsx(qc,{className:"h-5 w-5 text-sky-500"}),m.serviceName||"General Query"]}),a.jsxs(je,{className:"text-xs",children:["Request ID: ",m.id," | VLE: ",f(m.vleId)]})]}),a.jsxs(It,{className:iV(m.status),children:[aV(m.status)," ",m.status.replace(/_/g," ").replace(/\b\w/g,v=>v.toUpperCase())]})]})}),a.jsxs(oe,{children:[a.jsx("p",{className:"text-sm text-gray-700 mb-3",children:m.description}),m.customerDetails&&m.customerDetails.name&&a.jsxs("div",{className:"text-xs text-gray-500 space-y-1 mb-3 p-2 bg-slate-50 rounded-md border",children:[a.jsxs("p",{className:"flex items-center gap-1.5",children:[a.jsx(Or,{className:"h-4 w-4"})," Customer: ",m.customerDetails.name]}),a.jsxs("p",{className:"flex items-center gap-1.5",children:[a.jsx(Ui,{className:"h-4 w-4"})," Phone: ",m.customerDetails.phone]})]}),m.documents&&m.documents.length>0&&a.jsxs(Te,{children:[a.jsx(mt,{asChild:!0,children:a.jsxs(L,{variant:"link",size:"sm",className:"p-0 h-auto text-xs text-primary hover:text-primary/80",children:[a.jsx(sr,{className:"mr-1 h-3 w-3"}),"View ",m.documents.length," Attached Document(s)"]})}),a.jsxs(Se,{children:[a.jsx(Ce,{children:a.jsxs(Ne,{children:["Documents for Request: ",m.id]})}),a.jsx("div",{className:"py-2 max-h-60 overflow-y-auto text-xs space-y-1",children:m.documents.map((v,b)=>a.jsx("div",{className:"p-1.5 bg-slate-100 rounded",children:v.name},b))})]})]}),a.jsxs("div",{className:"flex justify-between items-end mt-3",children:[a.jsxs("div",{className:"text-xs text-gray-400",children:[a.jsxs("p",{children:["Submitted: ",m.createdAt?Oi(new Date(m.createdAt),"PPpp"):"Invalid Date"]}),a.jsxs("p",{children:["Last Updated: ",m.updatedAt?Oi(new Date(m.updatedAt),"PPpp"):"Invalid Date"]})]}),a.jsx(L,{size:"sm",onClick:()=>u(m),children:"Update Status / Add Remarks"})]})]})]},m.id))})})]}),r&&a.jsx(Te,{open:!!r,onOpenChange:m=>!m&&s(null),children:a.jsxs(Se,{children:[a.jsxs(Ce,{children:[a.jsxs(Ne,{children:["Update Request: ",r.id]}),a.jsx(un,{children:"Update the status and add remarks for this request."})]}),a.jsxs("div",{className:"py-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx(B,{htmlFor:"status-select",children:"Status"}),a.jsxs(Gt,{value:i,onValueChange:o,children:[a.jsx(Mt,{id:"status-select",children:a.jsx(qt,{})}),a.jsxs(Ot,{children:[a.jsx(Ge,{value:"pending_admin_review",children:"Pending Admin Review"}),a.jsx(Ge,{value:"admin_in_progress",children:"In Progress"}),a.jsx(Ge,{value:"admin_information_provided",children:"Information Provided"}),a.jsx(Ge,{value:"admin_resolved",children:"Resolved"}),a.jsx(Ge,{value:"admin_rejected",children:"Rejected"})]})]})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"admin-remarks",children:"Admin Remarks"}),a.jsx(Is,{id:"admin-remarks",value:l,onChange:m=>c(m.target.value),placeholder:"Enter remarks for the VLE..."})]})]}),a.jsxs(tt,{children:[a.jsx(st,{asChild:!0,children:a.jsx(L,{variant:"outline",children:"Cancel"})}),a.jsx(L,{onClick:d,children:"Update Request"})]})]})})]})}function lV(){const{toast:e}=Oe(),{getVLEs:t,getCustomers:n,creditUserWallet:r,issueRefundToCustomer:s,platformCommission:i,getWalletDetails:o,allUsersForAdmin:l,refetchAllUsers:c,loadingUsers:u}=Ke(),[d,f]=h.useState([]),[m,v]=h.useState([]),[b,x]=h.useState(null),[w,y]=h.useState([]),[p,g]=h.useState(!1),[j,S]=h.useState(""),[k,_]=h.useState(""),[C,N]=h.useState(""),[T,O]=h.useState(!1),[R,V]=h.useState(""),[E,I]=h.useState(""),[P,z]=h.useState(""),[A,D]=h.useState(""),[W,U]=h.useState(""),[K,$]=h.useState(""),[te,ee]=h.useState([]),[J,G]=h.useState([]),[ae,ue]=h.useState(!0);h.useEffect(()=>{(async()=>{ue(!0);const{data:Ye,error:Ct}=await M.from("platform_transactions").select("*").order("created_at",{ascending:!1}).limit(100);Ct?(console.error("Error fetching platform transactions:",Ct),e({title:"Error",description:"Could not fetch platform commission history.",variant:"destructive"})):G(Ye||[]),ue(!1)})()},[]),h.useEffect(()=>{f(t()),v(n())},[l]),h.useEffect(()=>{const H=[...d,...m];ee(K?H.filter(Ye=>{var Ct,Nn,Oo;return((Ct=Ye.name)==null?void 0:Ct.toLowerCase().includes(K.toLowerCase()))||((Nn=Ye.email)==null?void 0:Nn.toLowerCase().includes(K.toLowerCase()))||((Oo=Ye.user_id_custom)==null?void 0:Oo.toLowerCase().includes(K.toLowerCase()))}):H)},[K,d,m]);const le=async()=>{const H=parseFloat(k);if(!j||isNaN(H)||H<=0||!C.trim()){e({title:"Invalid Input",description:"Please select a VLE, enter a valid positive amount, and provide remarks.",variant:"destructive"});return}await r(j,H,C)?(e({title:"VLE Wallet Credited",description:`${H.toFixed(2)} credited to VLE.`}),await c(),g(!1),_(""),N(""),S("")):e({title:"Credit Failed",description:"Could not credit VLE wallet.",variant:"destructive"})},ce=async()=>{const H=parseFloat(E);if(!R||isNaN(H)||H<=0||!W.trim()||!P.trim()||!A.trim()){e({title:"Invalid Input",description:"Please select a customer, enter valid details for amount, service, and remarks.",variant:"destructive"});return}const Ye=await s(R,H,P,A,W);Ye.success?(e({title:"Refund Processed",description:`${H.toFixed(2)} refunded to customer.`}),await c(),O(!1),I(""),U(""),V(""),z(""),D("")):e({title:"Refund Failed",description:Ye.error||"Could not process refund.",variant:"destructive"})},xe=async H=>{const Ye=l.find(Nn=>Nn.id===H),Ct=await o(H);x(Ye),y(Ct?Ct.transactions:[])},pt=H=>{switch(H){case"deposit":case"credit":case"refund":case"payout":return"text-emerald-600";case"debit":case"withdrawal":return"text-red-600";case"commission":return"text-blue-600";default:return"text-slate-600"}};return a.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[a.jsxs(ie,{className:"shadow-xl border-sky-200",children:[a.jsxs(fe,{className:"bg-gradient-to-r from-sky-50 to-blue-50 border-b border-sky-200",children:[a.jsxs(ge,{className:"text-2xl font-poppins text-sky-800 flex items-center",children:[a.jsx(Gc,{className:"mr-3 h-7 w-7 text-sky-600"})," Admin Wallet Operations"]}),a.jsx(je,{className:"text-sky-700",children:"Manage VLE credits, customer refunds, and view platform commissions."})]}),a.jsxs(oe,{className:"pt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(Te,{open:p,onOpenChange:g,children:[a.jsx(mt,{asChild:!0,children:a.jsxs(L,{className:"w-full bg-green-500 hover:bg-green-600 text-white",children:[a.jsx(pP,{className:"mr-2 h-5 w-5"})," Credit VLE Wallet"]})}),a.jsxs(Se,{children:[a.jsx(Ce,{children:a.jsx(Ne,{children:"Credit VLE Wallet"})}),a.jsxs("div",{className:"py-4 space-y-3",children:[a.jsxs("div",{children:[a.jsx(B,{htmlFor:"selectVLE",children:"Select VLE"}),a.jsxs(Gt,{value:j,onValueChange:S,children:[a.jsx(Mt,{id:"selectVLE",children:a.jsx(qt,{placeholder:"Choose VLE"})}),a.jsx(Ot,{children:d.map(H=>a.jsxs(Ge,{value:H.id,children:[H.name," (",H.user_id_custom,")"]},H.id))})]})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"creditAmount",children:"Amount ()"}),a.jsx(Z,{id:"creditAmount",type:"number",value:k,onChange:H=>_(H.target.value)})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"creditRemarks",children:"Remarks"}),a.jsx(Z,{id:"creditRemarks",value:C,onChange:H=>N(H.target.value)})]})]}),a.jsxs(tt,{children:[a.jsx(st,{asChild:!0,children:a.jsx(L,{variant:"ghost",children:"Cancel"})}),a.jsx(L,{onClick:le,className:"bg-green-500 hover:bg-green-600 text-white",children:"Credit VLE"})]})]})]}),a.jsxs(Te,{open:T,onOpenChange:O,children:[a.jsx(mt,{asChild:!0,children:a.jsxs(L,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:[a.jsx(mP,{className:"mr-2 h-5 w-5"})," Refund Customer"]})}),a.jsxs(Se,{children:[a.jsx(Ce,{children:a.jsx(Ne,{children:"Refund Customer Wallet"})}),a.jsxs("div",{className:"py-4 space-y-3",children:[a.jsxs("div",{children:[a.jsx(B,{htmlFor:"selectCustomer",children:"Select Customer"}),a.jsxs(Gt,{value:R,onValueChange:V,children:[a.jsx(Mt,{id:"selectCustomer",children:a.jsx(qt,{placeholder:"Choose Customer"})}),a.jsx(Ot,{children:m.map(H=>a.jsxs(Ge,{value:H.id,children:[H.name," (",H.user_id_custom,")"]},H.id))})]})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"refundAmount",children:"Amount ()"}),a.jsx(Z,{id:"refundAmount",type:"number",value:E,onChange:H=>I(H.target.value)})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"refundServiceId",children:"Original Service/Booking ID"}),a.jsx(Z,{id:"refundServiceId",value:P,onChange:H=>z(H.target.value)})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"refundServiceName",children:"Original Service Name"}),a.jsx(Z,{id:"refundServiceName",value:A,onChange:H=>D(H.target.value)})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"refundRemarks",children:"Refund Remarks"}),a.jsx(Z,{id:"refundRemarks",value:W,onChange:H=>U(H.target.value)})]})]}),a.jsxs(tt,{children:[a.jsx(st,{asChild:!0,children:a.jsx(L,{variant:"ghost",children:"Cancel"})}),a.jsx(L,{onClick:ce,className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Process Refund"})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(ie,{className:"shadow-xl border-slate-200 h-full",children:[a.jsxs(fe,{className:"border-b border-slate-200",children:[a.jsxs(ge,{className:"text-xl font-poppins text-slate-800 flex items-center",children:[a.jsx(vi,{className:"mr-3 h-6 w-6 text-primary"})," User Wallet Balances"]}),a.jsxs("div",{className:"relative mt-2",children:[a.jsx(TP,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(Z,{placeholder:"Search users by name, email, or ID...",value:K,onChange:H=>$(H.target.value),className:"pl-10"})]})]}),a.jsx(oe,{className:"pt-4 max-h-[500px] overflow-y-auto",children:u?a.jsx("p",{className:"text-center text-slate-500 py-6",children:"Loading Users..."}):te.length===0?a.jsx("p",{className:"text-center text-slate-500 py-6",children:"No users found."}):a.jsx("ul",{className:"divide-y divide-slate-100",children:te.map(H=>a.jsxs("li",{className:"py-3 px-1 flex justify-between items-center hover:bg-slate-50 rounded",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-slate-700",children:[H.name," ",a.jsxs("span",{className:"text-xs text-slate-500",children:["(",H.role,", ID: ",H.user_id_custom,")"]})]}),a.jsx("p",{className:"text-xs text-slate-500",children:H.email})]}),a.jsxs("div",{className:"text-right flex items-center space-x-3",children:[a.jsxs("p",{className:"text-lg font-semibold text-slate-800",children:["",(H.wallet_balance||0).toFixed(2)]}),a.jsx(L,{variant:"ghost",size:"sm",onClick:()=>xe(H.id),className:"text-primary hover:text-primary/80",children:a.jsx(Dm,{className:"h-4 w-4"})})]})]},H.id))})})]})}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs(ie,{className:"shadow-xl border-blue-200 h-full",children:[a.jsxs(fe,{className:"border-b border-blue-200 bg-blue-50/50",children:[a.jsxs(ge,{className:"text-xl font-poppins text-blue-800 flex items-center",children:[a.jsx(SP,{className:"mr-3 h-6 w-6 text-blue-600"})," Platform Wallet"]}),a.jsx(je,{children:"Total commission earned and history."})]}),a.jsxs(oe,{className:"pt-4",children:[a.jsxs("div",{className:"bg-blue-100/70 p-4 rounded-lg text-center mb-4",children:[a.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Total Commission Balance"}),a.jsxs("p",{className:"text-3xl font-bold text-blue-800 flex items-center justify-center",children:[a.jsx(gi,{className:"h-7 w-7 mr-1"}),i.toFixed(2)]})]}),a.jsx("h4",{className:"text-sm font-semibold text-slate-600 mb-2",children:"Commission History"}),a.jsx("div",{className:"max-h-[380px] overflow-y-auto pr-2 space-y-2",children:ae?[...Array(5)].map((H,Ye)=>a.jsx(Lt,{className:"h-12 w-full"},Ye)):J.length===0?a.jsx("p",{className:"text-center text-slate-500 py-4 text-sm",children:"No commission transactions yet."}):J.map(H=>a.jsxs("div",{className:"p-2 border rounded-md bg-slate-50/80 text-xs",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{className:"font-medium text-blue-600",children:["Commission: +",H.amount.toFixed(2)]}),a.jsx("p",{className:"text-slate-400",children:new Date(H.created_at).toLocaleDateString()})]}),a.jsxs("p",{className:"text-slate-500 truncate",children:["From: ",H.description]})]},H.id))})]})]})})]}),b&&a.jsx(Te,{open:!!b,onOpenChange:()=>x(null),children:a.jsxs(Se,{className:"max-w-lg",children:[a.jsxs(Ce,{children:[a.jsxs(Ne,{children:["Transaction History for ",b.name]}),a.jsxs(un,{children:["Wallet Balance: ",(b.wallet_balance||0).toFixed(2)]})]}),a.jsx("div",{className:"max-h-[60vh] overflow-y-auto py-2 pr-1",children:w.length===0?a.jsx("p",{className:"text-center text-slate-500 py-4",children:"No transactions found."}):a.jsx("ul",{className:"space-y-2",children:w.map(H=>a.jsxs("li",{className:"p-2.5 border rounded-md bg-slate-50",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("p",{className:`font-medium text-sm ${pt(H.type)}`,children:[H.type.charAt(0).toUpperCase()+H.type.slice(1),": ",(H.amount||0).toFixed(2)]}),a.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:H.description})]}),a.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[a.jsx("p",{className:"text-xs text-slate-400",children:new Date(H.timestamp).toLocaleDateString()}),a.jsx("p",{className:"text-xs text-slate-400",children:new Date(H.timestamp).toLocaleTimeString()})]})]}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Balance After: ",(H.balanceAfterTransaction||0).toFixed(2)]})]},H.id))})}),a.jsx(tt,{children:a.jsx(st,{asChild:!0,children:a.jsx(L,{variant:"outline",children:"Close"})})})]})})]})}function cV(){const{toast:e}=Oe(),{tasks:t,approveCommission:n,rejectCommission:r,processTaskCompletionPayouts:s,getVLEs:i}=Ke(),{refreshUser:o}=ot(),[l,c]=h.useState([]),[u,d]=h.useState(null),[f,m]=h.useState(""),[v,b]=h.useState(""),[x,w]=h.useState(!1),y=i();h.useEffect(()=>{c(t.filter(k=>k.status==="pending_commission_approval"))},[t]);const p=(k,_)=>{d(k),m(_),b(""),w(!0)},g=async()=>{if(!(!u||!f)){if(!v.trim()){e({title:"Remarks Required",description:"Please provide remarks for this action.",variant:"destructive"});return}if(f==="approve"){if(!y.find(N=>N.id===u.vle_id)&&u.type!=="lead"){e({title:"Assigned VLE Not Found",description:"Cannot process commission, assigned VLE details missing.",variant:"destructive"});return}const _={vle_id:u.vle_id,fee:u.fee,id:u.id,service_name:u.service_name,type:u.type,generated_by_vle_id:u.generated_by_vle_id},C=await s(_);if(C.success){await n(u.id,v);let N=`Admin commission: ${C.adminCommissionAmount.toFixed(2)}.`;C.assignedVlePayout>0&&(N+=` Assigned VLE payout: ${C.assignedVlePayout.toFixed(2)}.`),C.generatingVlePayout>0&&(N+=` Generating VLE payout: ${C.generatingVlePayout.toFixed(2)}.`),e({title:"Commission Approved & Payouts Processed",description:N,duration:7e3}),o()}else{e({title:"Payout Failed",description:C.error||"Could not process VLE payout(s).",variant:"destructive"});return}}else f==="reject"&&(await r(u.id,v),e({title:"Commission Rejected",description:`Commission for task ${u.id} has been rejected.`}));w(!1),d(null),b("")}},j=k=>{var _;return((_=y.find(C=>C.id===k))==null?void 0:_.name)||"Unknown VLE"},S=k=>{const _=k.fee*.1;if(k.type==="lead"&&k.generated_by_vle_id){const C=k.fee*.45,N=k.fee*.45;return a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:[a.jsx(Av,{className:"inline h-4 w-4 mr-1.5 text-primary/80"}),"Assigned VLE (",j(k.vle_id),"): ",C.toFixed(2)," (45%)"]}),a.jsxs("p",{children:[a.jsx(Av,{className:"inline h-4 w-4 mr-1.5 text-primary/80"}),"Generating VLE (",j(k.generated_by_vle_id),"): ",N.toFixed(2)," (45%)"]}),a.jsxs("p",{children:[a.jsx(gi,{className:"inline h-4 w-4 mr-1.5 text-primary/80"}),"Admin Commission: ",_.toFixed(2)," (10%)"]})]})}else{const C=k.fee*.9;return a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:[a.jsx(cn,{className:"inline h-4 w-4 mr-1.5 text-primary/80"}),"Assigned VLE (",j(k.vle_id),"): ",C.toFixed(2)," (90%)"]}),a.jsxs("p",{children:[a.jsx(gi,{className:"inline h-4 w-4 mr-1.5 text-primary/80"}),"Admin Commission: ",_.toFixed(2)," (10%)"]})]})}};return a.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsxs(ie,{className:"shadow-xl border-sky-200",children:[a.jsxs(fe,{className:"bg-gradient-to-r from-sky-50 to-blue-50 border-b border-sky-200",children:[a.jsxs(ge,{className:"text-2xl font-poppins text-sky-800 flex items-center",children:[a.jsx(gi,{className:"mr-3 h-7 w-7 text-sky-600"})," VLE Commission Approval"]}),a.jsx(je,{className:"text-sky-700",children:"Review completed tasks and approve or reject VLE commissions."})]}),a.jsx(oe,{className:"pt-6",children:l.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(At,{className:"mx-auto h-16 w-16 text-green-500"}),a.jsx("h3",{className:"mt-4 text-xl font-semibold text-slate-700",children:"All Clear!"}),a.jsx("p",{className:"mt-1 text-slate-500",children:"No tasks are currently pending commission approval."})]}):a.jsx("div",{className:"space-y-4",children:l.map(k=>a.jsxs(ie,{className:"bg-white border-slate-200 shadow-md hover:shadow-lg transition-shadow",children:[a.jsx(fe,{className:"pb-3",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs(ge,{className:"text-lg text-slate-800",children:[k.service_name," ",a.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",k.type,")"]})]}),a.jsxs(je,{className:"text-xs text-slate-500",children:["Task ID: ",k.id," | Original ID: ",k.original_id]})]}),a.jsx(It,{variant:"outline",className:"mt-2 sm:mt-0 text-yellow-600 border-yellow-400 bg-yellow-50",children:"Pending Approval"})]})}),a.jsxs(oe,{className:"text-sm text-slate-600 space-y-1.5",children:[a.jsxs("p",{children:[a.jsx(Je,{className:"inline h-4 w-4 mr-1.5 text-primary/80"}),"Total Service Fee: ",k.fee.toFixed(2)]}),a.jsx("div",{className:"pl-2 border-l-2 border-sky-200 ml-2 space-y-1",children:S(k)}),a.jsxs("p",{className:"text-xs text-slate-500 pt-1 border-t mt-2",children:["Completed: ",new Date(k.updated_at).toLocaleString()]})]}),a.jsxs(Ps,{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsxs(L,{variant:"destructiveOutline",size:"sm",onClick:()=>p(k,"reject"),className:"border-red-500 text-red-500 hover:bg-red-50",children:[a.jsx(In,{className:"mr-2 h-4 w-4"})," Reject Commission"]}),a.jsxs(L,{size:"sm",onClick:()=>p(k,"approve"),className:"bg-green-500 hover:bg-green-600 text-white",children:[a.jsx(At,{className:"mr-2 h-4 w-4"})," Approve Commission"]})]})]},k.id))})})]}),u&&a.jsx(Te,{open:x,onOpenChange:k=>{k||d(null),w(k)},children:a.jsxs(Se,{children:[a.jsxs(Ce,{children:[a.jsxs(Ne,{className:"font-poppins text-xl",children:[f==="approve"?"Approve Commission":"Reject Commission"," for Task: ",u.id]}),a.jsxs(un,{children:["Service: ",u.service_name," | Fee: ",u.fee.toFixed(2)]})]}),a.jsxs("div",{className:"py-4",children:[a.jsxs(B,{htmlFor:"adminRemarks",className:"font-medium",children:["Admin Remarks ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Is,{id:"adminRemarks",value:v,onChange:k=>b(k.target.value),placeholder:`Enter remarks for ${f==="approve"?"approval":"rejection"}...`,className:"mt-1 min-h-[80px]",required:!0})]}),a.jsxs(tt,{children:[a.jsx(st,{asChild:!0,children:a.jsx(L,{variant:"outline",children:"Cancel"})}),a.jsxs(L,{onClick:g,className:f==="approve"?"bg-green-500 hover:bg-green-600 text-white":"bg-red-500 hover:bg-red-600 text-white",children:[f==="approve"?a.jsx(At,{className:"mr-2 h-4 w-4"}):a.jsx(In,{className:"mr-2 h-4 w-4"}),"Confirm ",f==="approve"?"Approval":"Rejection"]})]})]})})]})}function uV(){const{services:e,addService:t,updateService:n,removeService:r}=Ke(),{toast:s}=Oe(),[i,o]=h.useState(!1),[l,c]=h.useState(!1),[u,d]=h.useState(!1),[f,m]=h.useState(null),[v,b]=h.useState({id:"",name:"",category:"",fee:""}),x=["Civil","Revenue","Social Welfare","Food & Supplies","Election","Income Tax","Other"],w=C=>{const{name:N,value:T}=C.target;b(O=>({...O,[N]:N==="fee"?T?parseFloat(T):"":T}))},y=C=>{b(N=>({...N,category:C}))},p=()=>{b({id:"",name:"",category:"",fee:""}),o(!0)},g=C=>{m(C),b({id:C.id,name:C.name,category:C.category,fee:C.fee.toString()}),c(!0)},j=C=>{m(C),d(!0)},S=()=>{if(!v.name||!v.category||v.fee===""){s({title:"Missing Fields",description:"Please fill all service details.",variant:"destructive"});return}const C=t(v.name,v.category,parseFloat(v.fee));C.success?(s({title:"Service Added",description:`${v.name} has been added.`}),o(!1)):s({title:"Failed to Add Service",description:C.error,variant:"destructive"})},k=()=>{if(!v.name||!v.category||v.fee===""){s({title:"Missing Fields",description:"Please fill all service details.",variant:"destructive"});return}const C=n(f.id,v.name,v.category,parseFloat(v.fee));C.success?(s({title:"Service Updated",description:`${v.name} has been updated.`}),c(!1),m(null)):s({title:"Failed to Update Service",description:C.error,variant:"destructive"})},_=()=>{const C=r(f.id);C.success?(s({title:"Service Removed",description:`${f.name} has been removed.`}),d(!1),m(null)):s({title:"Failed to Remove Service",description:C.error,variant:"destructive"})};return a.jsxs(ie,{className:"shadow-xl border-sky-200 rounded-xl overflow-hidden",children:[a.jsx(fe,{className:"bg-gradient-to-r from-sky-50 to-blue-50 border-b border-sky-200 p-6",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs(ge,{className:"text-2xl font-poppins text-sky-800 flex items-center",children:[a.jsx(Kc,{className:"mr-3 h-7 w-7 text-sky-600"})," Service Management"]}),a.jsx(je,{className:"font-inter text-sky-700",children:"Add, edit, or remove services offered on the platform."})]}),a.jsxs(L,{onClick:p,className:"bg-sky-600 hover:bg-sky-700 text-white",children:[a.jsx(Bi,{className:"mr-2 h-4 w-4"})," Add New Service"]})]})}),a.jsx(oe,{className:"p-0",children:e.length===0?a.jsx("p",{className:"p-10 text-center text-slate-500 font-inter text-lg",children:'No services configured yet. Click "Add New Service" to begin.'}):a.jsx("div",{className:"divide-y divide-slate-100",children:e.map(C=>a.jsx("div",{className:"p-4 md:p-6 hover:bg-sky-50/30 transition-colors duration-150",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start",children:[a.jsxs("div",{className:"mb-2 sm:mb-0",children:[a.jsx("h4",{className:"font-semibold text-slate-800 text-md md:text-lg",children:C.name}),a.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",C.id," | Category: ",C.category," | Fee: ",C.fee]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(L,{variant:"outline",size:"sm",onClick:()=>g(C),className:"text-xs border-sky-500 text-sky-600 hover:bg-sky-50",children:[a.jsx(Im,{className:"mr-1 h-3.5 w-3.5"})," Edit"]}),a.jsxs(L,{variant:"destructive",size:"sm",onClick:()=>j(C),className:"text-xs",children:[a.jsx(ln,{className:"mr-1 h-3.5 w-3.5"})," Remove"]})]})]})},C.id))})}),a.jsx(Te,{open:i,onOpenChange:o,children:a.jsxs(Se,{className:"sm:max-w-md",children:[a.jsx(Ce,{children:a.jsx(Ne,{className:"text-slate-800",children:"Add New Service"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(B,{htmlFor:"add-service-name",children:"Service Name"}),a.jsx(Z,{id:"add-service-name",name:"name",value:v.name,onChange:w,placeholder:"e.g., Driving License Application"})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"add-service-category",children:"Category"}),a.jsxs(Gt,{name:"category",value:v.category,onValueChange:y,children:[a.jsx(Mt,{id:"add-service-category",children:a.jsx(qt,{placeholder:"Select category..."})}),a.jsx(Ot,{children:x.map(C=>a.jsx(Ge,{value:C,children:C},C))})]})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"add-service-fee",children:"Fee ()"}),a.jsx(Z,{id:"add-service-fee",name:"fee",type:"number",value:v.fee,onChange:w,placeholder:"e.g., 150"})]})]}),a.jsxs(tt,{children:[a.jsx(st,{asChild:!0,children:a.jsx(L,{variant:"outline",children:"Cancel"})}),a.jsx(L,{onClick:S,className:"bg-sky-600 hover:bg-sky-700 text-white",children:"Add Service"})]})]})}),a.jsx(Te,{open:l,onOpenChange:c,children:a.jsxs(Se,{className:"sm:max-w-md",children:[a.jsx(Ce,{children:a.jsxs(Ne,{className:"text-slate-800",children:["Edit Service: ",f==null?void 0:f.name]})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(B,{htmlFor:"edit-service-name",children:"Service Name"}),a.jsx(Z,{id:"edit-service-name",name:"name",value:v.name,onChange:w})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"edit-service-category",children:"Category"}),a.jsxs(Gt,{name:"category",value:v.category,onValueChange:y,children:[a.jsx(Mt,{id:"edit-service-category",children:a.jsx(qt,{placeholder:"Select category..."})}),a.jsx(Ot,{children:x.map(C=>a.jsx(Ge,{value:C,children:C},C))})]})]}),a.jsxs("div",{children:[a.jsx(B,{htmlFor:"edit-service-fee",children:"Fee ()"}),a.jsx(Z,{id:"edit-service-fee",name:"fee",type:"number",value:v.fee,onChange:w})]})]}),a.jsxs(tt,{children:[a.jsx(st,{asChild:!0,children:a.jsx(L,{variant:"outline",children:"Cancel"})}),a.jsx(L,{onClick:k,className:"bg-sky-600 hover:bg-sky-700 text-white",children:"Save Changes"})]})]})}),a.jsx(Te,{open:u,onOpenChange:d,children:a.jsxs(Se,{className:"sm:max-w-md",children:[a.jsxs(Ce,{children:[a.jsxs(Ne,{className:"flex items-center text-red-600",children:[a.jsx(sc,{className:"mr-2 h-6 w-6"}),"Confirm Removal"]}),a.jsxs(un,{children:['Are you sure you want to remove the service "',a.jsx("strong",{children:f==null?void 0:f.name}),'"? This action cannot be undone.']})]}),a.jsxs(tt,{className:"mt-4",children:[a.jsx(st,{asChild:!0,children:a.jsx(L,{variant:"outline",children:"Cancel"})}),a.jsx(L,{variant:"destructive",onClick:_,children:"Remove Service"})]})]})})]})}function dV({user:e,onLogout:t}){const{bookings:n,leads:r,tasks:s,assignTask:i,getCustomers:o,getVLEs:l,complaints:c,clearAllData:u,resolveComplaint:d,specialRequests:f,updateSpecialRequestStatus:m,addNotification:v}=Ke(),{toast:b}=Oe(),x=l(),[w,y]=h.useState([]),[p,g]=h.useState("assign-tasks"),j=useCallback(()=>o(),[]);if(h.useEffect(()=>{y(j())},[j,p]),!e)return null;const S=s.filter(E=>E.status==="pending_assignment").map(E=>{const I=E.type==="booking"?n.find(A=>A.id===E.original_id):r.find(A=>A.id===E.original_id);if(!I)return null;const P=[...I.documents||[],...E.documents||[]],z=Array.from(new Map(P.map(A=>[A.path||A.name,A])).values());return{...I,...E,id:E.id,original_id:I.id,documents:z}}).filter(Boolean).sort((E,I)=>new Date(I.created_at)-new Date(E.created_at)),k=(E,I)=>{const P=x.find(A=>A.id===I);if(!P){b({title:"Error: VLE Not Found",description:"The selected VLE could not be found. Please refresh and try again.",variant:"destructive"});return}if(E.type==="lead"&&E.generated_by_vle_id===I&&E.history.filter(A=>A.status==="assigned").length===0){b({title:"Assignment Constraint",description:"A lead cannot be initially assigned to the VLE who generated it. This rule can be bypassed for re-assigning tasks if VLE rejected it.",variant:"destructive",duration:7e3});return}const z=i(E.id,I);z?(b({title:"Task Successfully Assigned",description:`Task for ${E.service_name} has been assigned to VLE ${P.name} (${P.user_id_custom}).`,variant:"default"}),v(P.id,`New task assigned: ${E.service_name} for ${E.customer_name||"customer"}.`,"info",`/vle-dashboard?tab=assigned-tasks&taskId=${z.id}`,"New Task Assignment"),E.customer_id&&v(E.customer_id,`Your application for ${E.service_name} has been assigned to a VLE.`,"info",`/customer-dashboard?tab=my-bookings&bookingId=${E.original_id}`,"Application Update"),E.type==="lead"&&E.generated_by_vle_id&&E.generated_by_vle_id!==P.id&&v(E.generated_by_vle_id,`Your generated lead for ${E.service_name} (Customer: ${E.customer_name}) has been assigned to VLE ${P.name}.`,"info",`/vle-dashboard?tab=my-leads&leadId=${E.original_id}`,"Lead Update")):b({title:"Task Assignment Failed",description:"Could not assign the task. Please try again.",variant:"destructive"})},_=()=>{u(),b({title:"All Data Cleared",description:"All application bookings, leads, tasks, and customer complaints have been cleared from the system.",variant:"default"})},C=E=>({pending:a.jsx(_t,{className:"h-4 w-4 text-yellow-600"}),pending_assignment:a.jsx(_t,{className:"h-4 w-4 text-orange-500"}),assigned:a.jsx(cn,{className:"h-4 w-4 text-cyan-600"}),accepted:a.jsx(At,{className:"h-4 w-4 text-sky-600"}),"additional-docs-vle":a.jsx(Je,{className:"h-4 w-4 text-orange-600"}),"additional-docs-dept":a.jsx(sc,{className:"h-4 w-4 text-amber-600"}),"ack-submitted":a.jsx(Je,{className:"h-4 w-4 text-indigo-600"}),"in-progress":a.jsx(_t,{className:"h-4 w-4 text-blue-600"}),completed:a.jsx(At,{className:"h-4 w-4 text-green-600"}),pending_commission_approval:a.jsx(Gc,{className:"h-4 w-4 text-purple-600"}),commission_approved:a.jsx(At,{className:"h-4 w-4 text-green-700"}),commission_rejected:a.jsx(In,{className:"h-4 w-4 text-red-700"}),rejected:a.jsx(In,{className:"h-4 w-4 text-red-600"})})[E]||a.jsx(_t,{className:"h-4 w-4 text-slate-500"}),N=E=>({pending:"status-pending",pending_assignment:"bg-orange-100 text-orange-700 border-orange-300",assigned:"status-assigned",accepted:"status-accepted","additional-docs-vle":"status-additional-docs-vle","additional-docs-dept":"status-additional-docs-dept","ack-submitted":"status-ack-submitted","in-progress":"status-in-progress",completed:"status-completed",pending_commission_approval:"bg-purple-100 text-purple-700 border-purple-300",commission_approved:"bg-green-200 text-green-800 border-green-400",commission_rejected:"bg-red-200 text-red-800 border-red-400",rejected:"status-rejected"})[E]||"bg-slate-100 text-slate-700 border-slate-300",T=E=>{const P=s.find(z=>z.original_id===E.original_id&&z.type===E.type)||E;return P.history&&P.history.length>0?P.history[P.history.length-1].remarks||"No remarks yet.":"No remarks recorded yet."},O={totalBookings:n.length,totalLeads:r.length,totalTasks:s.filter(E=>E.status!=="rejected"&&E.status!=="pending_assignment").length,completedTasks:s.filter(E=>E.status==="commission_approved").length,pendingAssignments:S.length,totalCustomers:w.length,openIssues:c.filter(E=>E.status==="open").length,pendingSpecialRequests:f.filter(E=>E.status==="pending_admin_review").length,pendingCommissions:s.filter(E=>E.status==="pending_commission_approval").length},R=n.map(E=>{const I=s.find(U=>U.original_id===E.id&&U.type==="booking"),P=I&&I.vle_id?x.find(U=>U.id===I.vle_id):null,z=(I==null?void 0:I.documents)||[],D=[...E.documents||[],...z],W=Array.from(new Map(D.map(U=>[U.path||U.name,U])).values());return{...E,documents:W,status:I?I.status:E.status,assignedVleName:P?`${P.name} (${P.user_id_custom})`:"N/A",history:I?I.history:E.history}}).sort((E,I)=>new Date(I.created_at)-new Date(E.created_at)),V=r.map(E=>{const I=s.find(K=>K.original_id===E.id&&K.type==="lead"),P=I&&I.vle_id?x.find(K=>K.id===I.vle_id):null,z=E.vle_id?x.find(K=>K.id===E.vle_id):null,A=(I==null?void 0:I.documents)||[],W=[...E.documents||[],...A],U=Array.from(new Map(W.map(K=>[K.path||K.name,K])).values());return{...E,documents:U,status:I?I.status:E.status,assignedVleName:P?`${P.name} (${P.user_id_custom})`:"N/A",history:I?I.history:E.history,generatedByVleName:z?z.name:"N/A"}}).sort((E,I)=>new Date(I.created_at)-new Date(E.created_at));return a.jsx(QF,{user:e,onLogout:t,stats:O,activeTab:p,setActiveTab:g,handleClearData:_,children:a.jsxs(Pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsx(Ie,{value:"assign-tasks",className:"space-y-6 mt-0",children:a.jsx(JF,{items:S,onAssignTask:k,getLatestRemark:T})}),a.jsx(Ie,{value:"all-bookings",className:"space-y-6 mt-0",children:a.jsx(ZF,{bookings:R,getStatusIcon:C,getStatusColor:N,getLatestRemark:T})}),a.jsx(Ie,{value:"all-leads",className:"space-y-6 mt-0",children:a.jsx(eV,{leads:V,getStatusIcon:C,getStatusColor:N,getLatestRemark:T})}),a.jsx(Ie,{value:"vle-management",className:"space-y-6 mt-0",children:a.jsx(nV,{})}),a.jsx(Ie,{value:"customer-management",className:"space-y-6 mt-0",children:a.jsx(rV,{customers:w})}),a.jsx(Ie,{value:"issues-management",className:"space-y-6 mt-0",children:a.jsx(sV,{complaints:c,onResolveComplaint:d})}),a.jsx(Ie,{value:"vle-special-requests",className:"space-y-6 mt-0",children:a.jsx(oV,{specialRequests:f,onUpdateStatus:m,vleUsers:x})}),a.jsx(Ie,{value:"accounting",className:"space-y-6 mt-0",children:a.jsx(lV,{})}),a.jsx(Ie,{value:"commissions",className:"space-y-6 mt-0",children:a.jsx(cV,{})}),a.jsx(Ie,{value:"service-management",className:"space-y-6 mt-0",children:a.jsx(uV,{})})]},p)})}var Hp="ToastProvider",[Gp,fV,hV]=lu("Toast"),[FN,qV]=$n("Toast",[hV]),[mV,Eu]=FN(Hp),VN=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Hp}\`. Expected non-empty \`string\`.`),a.jsx(Gp.Provider,{scope:t,children:a.jsx(mV,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>d(v=>v+1),[]),onToastRemove:h.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};VN.displayName=Hp;var UN="ToastViewport",pV=["F8"],bh="toast.viewportPause",jh="toast.viewportResume",BN=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=pV,label:s="Notifications ({hotkey})",...i}=e,o=Eu(UN,n),l=fV(n),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),m=ye(t,f,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;h.useEffect(()=>{const w=y=>{var g;r.length!==0&&r.every(j=>y[j]||y.code===j)&&((g=f.current)==null||g.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),h.useEffect(()=>{const w=c.current,y=f.current;if(b&&w&&y){const p=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(bh);y.dispatchEvent(k),o.isClosePausedRef.current=!0}},g=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(jh);y.dispatchEvent(k),o.isClosePausedRef.current=!1}},j=k=>{!w.contains(k.relatedTarget)&&g()},S=()=>{w.contains(document.activeElement)||g()};return w.addEventListener("focusin",p),w.addEventListener("focusout",j),w.addEventListener("pointermove",p),w.addEventListener("pointerleave",S),window.addEventListener("blur",p),window.addEventListener("focus",g),()=>{w.removeEventListener("focusin",p),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",p),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",p),window.removeEventListener("focus",g)}}},[b,o.isClosePausedRef]);const x=h.useCallback(({tabbingDirection:w})=>{const p=l().map(g=>{const j=g.ref.current,S=[j,...EV(j)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?p.reverse():p).flat()},[l]);return h.useEffect(()=>{const w=f.current;if(w){const y=p=>{var S,k,_;const g=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!g){const C=document.activeElement,N=p.shiftKey;if(p.target===w&&N){(S=u.current)==null||S.focus();return}const R=x({tabbingDirection:N?"backwards":"forwards"}),V=R.findIndex(E=>E===C);Md(R.slice(V+1))?p.preventDefault():N?(k=u.current)==null||k.focus():(_=d.current)==null||_.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[l,x]),a.jsxs(qP,{ref:c,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&a.jsx(Sh,{ref:u,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"forwards"});Md(w)}}),a.jsx(Gp.Slot,{scope:n,children:a.jsx(se.ol,{tabIndex:-1,...i,ref:m})}),b&&a.jsx(Sh,{ref:d,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"backwards"});Md(w)}})]})});BN.displayName=UN;var zN="ToastFocusProxy",Sh=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=Eu(zN,n);return a.jsx(zp,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});Sh.displayName=zN;var Mo="Toast",gV="toast.swipeStart",vV="toast.swipeMove",xV="toast.swipeCancel",yV="toast.swipeEnd",WN=h.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[l,c]=ys({prop:r,defaultProp:s??!0,onChange:i,caller:Mo});return a.jsx(Fn,{present:n||l,children:a.jsx(jV,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Rt(e.onPause),onResume:Rt(e.onResume),onSwipeStart:q(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:q(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:q(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:q(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});WN.displayName=Mo;var[wV,bV]=FN(Mo,{onClose(){}}),jV=h.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:v,...b}=e,x=Eu(Mo,n),[w,y]=h.useState(null),p=ye(t,E=>y(E)),g=h.useRef(null),j=h.useRef(null),S=s||x.duration,k=h.useRef(0),_=h.useRef(S),C=h.useRef(0),{onToastAdd:N,onToastRemove:T}=x,O=Rt(()=>{var I;(w==null?void 0:w.contains(document.activeElement))&&((I=x.viewport)==null||I.focus()),o()}),R=h.useCallback(E=>{!E||E===1/0||(window.clearTimeout(C.current),k.current=new Date().getTime(),C.current=window.setTimeout(O,E))},[O]);h.useEffect(()=>{const E=x.viewport;if(E){const I=()=>{R(_.current),u==null||u()},P=()=>{const z=new Date().getTime()-k.current;_.current=_.current-z,window.clearTimeout(C.current),c==null||c()};return E.addEventListener(bh,P),E.addEventListener(jh,I),()=>{E.removeEventListener(bh,P),E.removeEventListener(jh,I)}}},[x.viewport,S,c,u,R]),h.useEffect(()=>{i&&!x.isClosePausedRef.current&&R(S)},[i,S,x.isClosePausedRef,R]),h.useEffect(()=>(N(),()=>T()),[N,T]);const V=h.useMemo(()=>w?QN(w):null,[w]);return x.viewport?a.jsxs(a.Fragment,{children:[V&&a.jsx(SV,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),a.jsx(wV,{scope:n,onClose:O,children:_s.createPortal(a.jsx(Gp.ItemSlot,{scope:n,children:a.jsx(GP,{asChild:!0,onEscapeKeyDown:q(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||O(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...b,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:q(e.onKeyDown,E=>{E.key==="Escape"&&(l==null||l(E.nativeEvent),E.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:q(e.onPointerDown,E=>{E.button===0&&(g.current={x:E.clientX,y:E.clientY})}),onPointerMove:q(e.onPointerMove,E=>{if(!g.current)return;const I=E.clientX-g.current.x,P=E.clientY-g.current.y,z=!!j.current,A=["left","right"].includes(x.swipeDirection),D=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,W=A?D(0,I):0,U=A?0:D(0,P),K=E.pointerType==="touch"?10:2,$={x:W,y:U},te={originalEvent:E,delta:$};z?(j.current=$,gl(vV,f,te,{discrete:!1})):by($,x.swipeDirection,K)?(j.current=$,gl(gV,d,te,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(I)>K||Math.abs(P)>K)&&(g.current=null)}),onPointerUp:q(e.onPointerUp,E=>{const I=j.current,P=E.target;if(P.hasPointerCapture(E.pointerId)&&P.releasePointerCapture(E.pointerId),j.current=null,g.current=null,I){const z=E.currentTarget,A={originalEvent:E,delta:I};by(I,x.swipeDirection,x.swipeThreshold)?gl(yV,v,A,{discrete:!0}):gl(xV,m,A,{discrete:!0}),z.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),SV=e=>{const{__scopeToast:t,children:n,...r}=e,s=Eu(Mo,t),[i,o]=h.useState(!1),[l,c]=h.useState(!1);return kV(()=>o(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(wo,{asChild:!0,children:a.jsx(zp,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},CV="ToastTitle",HN=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(se.div,{...r,ref:t})});HN.displayName=CV;var NV="ToastDescription",GN=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(se.div,{...r,ref:t})});GN.displayName=NV;var qN="ToastAction",KN=h.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(XN,{altText:n,asChild:!0,children:a.jsx(qp,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${qN}\`. Expected non-empty \`string\`.`),null)});KN.displayName=qN;var YN="ToastClose",qp=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=bV(YN,n);return a.jsx(XN,{asChild:!0,children:a.jsx(se.button,{type:"button",...r,ref:t,onClick:q(e.onClick,s.onClose)})})});qp.displayName=YN;var XN=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return a.jsx(se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function QN(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),_V(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...QN(r))}}),t}function gl(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?_m(s,i):s.dispatchEvent(i)}var by=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function kV(e=()=>{}){const t=Rt(e);at(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function _V(e){return e.nodeType===e.ELEMENT_NODE}function EV(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Md(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var TV=VN,JN=BN,ZN=WN,ek=HN,tk=GN,nk=KN,rk=qp;const PV=TV,sk=X.forwardRef(({className:e,...t},n)=>a.jsx(JN,{ref:n,className:ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));sk.displayName=JN.displayName;const AV=Wc("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ik=X.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(ZN,{ref:r,className:ne(AV({variant:t}),e),...n}));ik.displayName=ZN.displayName;const RV=X.forwardRef(({className:e,...t},n)=>a.jsx(nk,{ref:n,className:ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));RV.displayName=nk.displayName;const ak=X.forwardRef(({className:e,...t},n)=>a.jsx(rk,{ref:n,className:ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx($m,{className:"h-4 w-4"})}));ak.displayName=rk.displayName;const ok=X.forwardRef(({className:e,...t},n)=>a.jsx(ek,{ref:n,className:ne("text-sm font-semibold",e),...t}));ok.displayName=ek.displayName;const lk=X.forwardRef(({className:e,...t},n)=>a.jsx(tk,{ref:n,className:ne("text-sm opacity-90",e),...t}));lk.displayName=tk.displayName;function DV(){const{toasts:e}=Oe();return a.jsxs(PV,{children:[e.map(({id:t,title:n,description:r,action:s,...i})=>a.jsxs(ik,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(ok,{children:n}),r&&a.jsx(lk,{children:r})]}),s,a.jsx(ak,{})]},t)),a.jsx(sk,{})]})}const MV=h.createContext(null),OV=[{id:"birth-cert",name:"Birth Certificate",category:"Civil",fee:50},{id:"death-cert",name:"Death Certificate",category:"Civil",fee:50},{id:"income-cert",name:"Income Certificate",category:"Revenue",fee:100},{id:"caste-cert",name:"Caste Certificate",category:"Social Welfare",fee:75},{id:"domicile-cert",name:"Domicile Certificate",category:"Revenue",fee:100},{id:"ration-card",name:"Ration Card",category:"Food & Supplies",fee:25},{id:"voter-id",name:"Voter ID Card",category:"Election",fee:0},{id:"pan-card",name:"PAN Card",category:"Income Tax",fee:110}],Kp=({children:e})=>{const t={services:OV};return a.jsx(MV.Provider,{value:t,children:e})};function IV({children:e}){return a.jsx(bp,{children:a.jsx(Np,{children:a.jsx(Kp,{children:a.jsx(wp,{children:a.jsx($j,{children:a.jsx(Cp,{children:a.jsx(Wj,{children:e})})})})})})})}function LV({children:e}){return a.jsx(bp,{children:a.jsx(Np,{children:a.jsx(Kp,{children:a.jsx(wp,{children:a.jsx(Vj,{children:a.jsx(Cp,{children:a.jsx(Gj,{children:e})})})})})})})}function $V({children:e}){return a.jsx(bp,{children:a.jsx(Np,{children:a.jsx(Kp,{children:a.jsx(wp,{children:a.jsx($j,{children:a.jsx(Vj,{children:a.jsx(Cp,{children:a.jsx(Wj,{children:a.jsx(Gj,{children:e})})})})})})})})})}function Od({children:e,user:t,isAuthenticated:n,targetRole:r}){const s=Hi();if(!n)return a.jsx(Ma,{to:"/login",state:{from:s},replace:!0});if(!t)return a.jsx(Ma,{to:"/login",replace:!0});if(t.role!==r){const i=t.role==="customer"?"/customer-dashboard":t.role==="vle"?"/vle-dashboard":t.role==="admin"?"/admin-dashboard":"/login";return a.jsx(Ma,{to:i,replace:!0})}return e}function FV(){const{user:e,login:t,quickLogin:n,signup:r,logout:s,loading:i,isAuthenticated:o}=ot();return i?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-100 to-sky-100",children:a.jsx(Pe.div,{className:"w-20 h-20 border-4 border-t-transparent border-primary rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}):a.jsxs(a.Fragment,{children:[a.jsx(vp,{mode:"wait",children:a.jsxs(kL,{children:[a.jsx(Gs,{path:"/login",element:!o||!e?a.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:a.jsx(vI,{onLogin:t,onQuickLogin:n,onSignup:r})},"login"):a.jsx(Ma,{to:(e==null?void 0:e.role)==="customer"?"/customer-dashboard":(e==null?void 0:e.role)==="vle"?"/vle-dashboard":(e==null?void 0:e.role)==="admin"?"/admin-dashboard":"/login",replace:!0})}),a.jsx(Gs,{path:"/customer-dashboard",element:a.jsx(Od,{isAuthenticated:o,user:e,targetRole:"customer",children:a.jsx(IV,{children:a.jsx(nF,{user:e,onLogout:s})})})}),a.jsx(Gs,{path:"/vle-dashboard",element:a.jsx(Od,{isAuthenticated:o,user:e,targetRole:"vle",children:a.jsx(LV,{children:a.jsx(LF,{user:e,onLogout:s})})})}),a.jsx(Gs,{path:"/admin-dashboard",element:a.jsx(Od,{isAuthenticated:o,user:e,targetRole:"admin",children:a.jsx($V,{children:a.jsx(dV,{user:e,onLogout:s})})})}),a.jsx(Gs,{path:"*",element:a.jsx(Ma,{to:o&&e?(e==null?void 0:e.role)==="customer"?"/customer-dashboard":(e==null?void 0:e.role)==="vle"?"/vle-dashboard":(e==null?void 0:e.role)==="admin"?"/admin-dashboard":"/login":"/login",replace:!0})})]})}),a.jsx(DV,{})]})}Id.createRoot(document.getElementById("root")).render(a.jsx(X.StrictMode,{children:a.jsx(PL,{children:a.jsx(NT,{children:a.jsx(FV,{})})})}));export{jy as g};
